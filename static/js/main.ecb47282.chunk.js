(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){},110:function(e,t,a){},114:function(e,t){e.exports="data:image/png;base64,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"},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},178:function(e,t,a){e.exports=a(246)},183:function(e,t,a){},188:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},226:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(18),r=a.n(l),o=a(2),i=a(16),s=a(10),m=a(133),u=a.n(m),d=(a(183),a(7)),p={user:null},E="SET_USER",f=function(e,t){switch(t.type){case E:return Object(d.a)({},e,{user:t.user});default:return e}},h=Object(n.createContext)(),b=function(){return Object(n.useContext)(h)},g=function(e){var t=e.children;return c.a.createElement(h.Provider,{value:Object(n.useReducer)(f,p)},t)},v=function(e){e.active;var t=e.text,a=e.Icon,n=e.onClick,l=b(),r=Object(o.a)(l,1)[0].user,s="Home"===t,m=s?"":"Profile"===t?"".concat(t.toLowerCase(),"/").concat(r.username):t.toLowerCase();return c.a.createElement(i.c,{to:"/".concat(m),exact:s,className:"sidebarOption",activeClassName:"sidebar__active",onClick:n},c.a.createElement(a,null),c.a.createElement("h2",null,t))},O=a(303),j=a(302),w=a(26),N=a.n(w),_=a(72),S=a.n(_),C=(a(188),a(17)),y=a.n(C),I=y.a.initializeApp({apiKey:"AIzaSyDY1-ijhPxJaSS66klbX_oWx3RPC5OevKc",authDomain:"twiiter-fea91.firebaseapp.com",projectId:"twiiter-fea91",storageBucket:"twiiter-fea91.appspot.com",messagingSenderId:"349657889008",appId:"1:349657889008:web:7681177e997dc14c9b2a35",measurementId:"G-046RLETM7L"}).firestore(),x=(y.a.auth(),new y.a.auth.GoogleAuthProvider,I),A=function(){var e=Object(s.f)(),t=b(),a=Object(o.a)(t,1)[0].user,l=Object(n.useState)(a),r=Object(o.a)(l,2),i=r[0],m=r[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),p=d[0],E=d[1],f=Boolean(p),h=f?"post-popover":void 0;return Object(n.useEffect)(function(){x.collection("users").doc(a.id).onSnapshot(function(e){m(e.data())})},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{id:h,open:f,anchorEl:p,onClose:function(){return E(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{transform:"translate(2rem, -1rem)"}},c.a.createElement("ul",{className:"post__expandList"},c.a.createElement("div",{className:"user__item nocursor"},c.a.createElement(O.a,{src:i&&i.photoURL}),c.a.createElement("div",{className:"user__details"},c.a.createElement("h2",null,i&&i.displayName),c.a.createElement("span",null,"@".concat(i&&i.username))),c.a.createElement(S.a,null)),c.a.createElement("li",{onClick:function(){localStorage.clear(),e.push("/"),window.location.reload()},className:"logoutBtn"},c.a.createElement("h3",null,"Log out @",i&&i.username)))),c.a.createElement("div",{className:"sidebarAccount__wrapper","aria-describedby":h,variant:"contained",onClick:function(e){return E(e.currentTarget)}},c.a.createElement("div",{className:"sidebarAccount__ava"},c.a.createElement(O.a,{src:i&&i.photoURL})),c.a.createElement("div",{className:"sidebarAccount__userData"},c.a.createElement("h2",null,i&&i.displayName),c.a.createElement("h2",null,i&&"@".concat(i.username))),c.a.createElement("div",{className:"sidebarAccount__expandIcon"},c.a.createElement(N.a,null))))},k=a(100),B=a.n(k),T=a(73),D=a.n(T),R=a(101),P=a.n(R),L=a(53),F=a.n(L),U=a(134),H=a.n(U),M=a(135),z=a.n(M),G=a(136),Y=a.n(G),Q=a(102),V=a.n(Q),X={isRoomOpened:null},J="OPENING_ROOM",q="CLOSING_ROOM",W=function(e,t){switch(t.type){case J:return{isRoomOpened:!0};case q:return{isRoomOpened:!1};default:return e}},K=Object(n.createContext)(),Z=function(){return Object(n.useContext)(K)},$=function(e){var t=e.children;return c.a.createElement(K.Provider,{value:Object(n.useReducer)(W,X)},t)},ee=(a(200),function(){var e=Z(),t=Object(o.a)(e,2),a=(t[0].isRoomOpened,t[1]);return c.a.createElement("div",{className:"sidebar"},c.a.createElement(u.a,{className:"sidebar__twitterIcon"}),c.a.createElement(v,{text:"Home",Icon:B.a}),c.a.createElement(v,{text:"Explore",Icon:D.a}),c.a.createElement(v,{text:"Notifications",Icon:P.a}),c.a.createElement(v,{text:"Messages",Icon:F.a,onClick:function(){a({type:q})}}),c.a.createElement(v,{text:"Bookmarks",Icon:H.a}),c.a.createElement(v,{text:"List",Icon:z.a}),c.a.createElement(v,{text:"Profile",Icon:Y.a}),c.a.createElement(v,{text:"More",Icon:V.a}),c.a.createElement("button",{variant:"outlined",className:"sidebar__tweet"},c.a.createElement("div",{dir:"auto",className:"css-901oao r-1awozwy r-jwli3a r-6koalj r-18u37iz r-16y2uox r-1qd0xha r-a023e6 r-vw2c0b r-1777fci r-eljoum r-dnmrzs r-bcqeeo r-q4m81j r-qvutc0"},c.a.createElement("svg",{viewBox:"0 0 24 24",fill:"#ffffff",className:"r-jwli3a r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-1srniue"},c.a.createElement("g",null,c.a.createElement("path",{d:"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z"}))),c.a.createElement("span",{className:"css-901oao css-16my406 css-bfa6kz r-1qd0xha r-ad9z0x r-bcqeeo r-qvutc0"})),c.a.createElement("span",null,"Tweet")),c.a.createElement(A,null))}),te=a(107),ae=a(287),ne=(a(201),a(54)),ce=a.n(ne),le=function(e){var t=e.type,a=e.accept,n=e.name,l=e.id,r=(e.htmlFor,e.Icon),o=e.onChange,i=e.onClick;return c.a.createElement("div",{onClick:i},c.a.createElement("input",{type:t,accept:a,name:n,id:l,style:{display:"none"},onChange:o}),c.a.createElement("label",{htmlFor:l},c.a.createElement(r,null)))},re=a(159),oe=(a(202),a(137)),ie=a.n(oe),se=a(284),me=a(32),ue=a(298),de=a(283),pe=a(285),Ee=a(299),fe=a(286);function he(e){var t=e.children,a=e.value,n=e.index,l=Object(re.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},l),a===n&&c.a.createElement(ue.a,{p:3},c.a.createElement(de.a,{component:"span"},t)))}var be=Object(se.a)(function(e){return{root:{backgroundColor:e.palette.background.paper}}});function ge(e){var t=e.items,a=be(),n=Object(me.a)(),l=c.a.useState(0),r=Object(o.a)(l,2),i=r[0],s=r[1];return c.a.createElement("div",{className:"tabbarMenu ".concat(a.root)},c.a.createElement(pe.a,{position:"static",color:"default"},c.a.createElement(Ee.a,{value:i,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"crop and edit image"},t.map(function(e){return c.a.createElement(fe.a,Object.assign({key:e.id,icon:e.icon,label:e.title},(t=e.id,{id:"full-width-tab-".concat(t),"aria-controls":"full-width-tabpanel-".concat(t)})));var t}))),c.a.createElement(ie.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:i,onChangeIndex:function(e){s(e)}},t.map(function(e){return c.a.createElement(he,{value:i,index:e.id,dir:n.direction,key:e.id},e.item)})))}var ve=function(e){return new Promise(function(t,a){var n;console.log(e);var c=new FormData;c.append("file",e),c.append("upload_preset","inscatgram"),c.append("cloud_name","smilj4npj4nic"),fetch("https://api.cloudinary.com/v1_1/smilj4npj4nic/image/upload",{method:"post",body:c}).then(function(e){return e.json()}).then(function(e){return n=e.url,console.log(n),t(n)}).catch(function(e){return a(e)})})},Oe=a(82),je=a.n(Oe),we=a(104),Ne=function(e){return new Promise(function(t,a){var n=new Image;n.onload=function(){var e=n.naturalWidth,a=n.naturalHeight;t({width:e,height:a})},n.onerror=function(){a("There was some problem with the image.")},n.src=URL.createObjectURL(e)})},_e=function(){var e=Object(we.a)(je.a.mark(function e(t){var a,n,c;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,n=Object(o.a)(a,1),c=n[0],e.prev=2,e.next=5,Ne(c);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),Se=function(e,t){var a=new Date;return"A photo shared by ".concat(e," on ").concat(a.getMonth()+1," ").concat(a.getDate(),", ").concat(a.getFullYear())},Ce=a(138),ye=a.n(Ce),Ie=(a(225),a(226),function(e){var t=e.open,a=e.onClose,n=e.title,l=e.callback,r=e.children,o=e.Icon,i=e.ButtonText;return c.a.createElement(ye.a,{open:t,onClose:a},c.a.createElement("div",{className:"modal__header"},c.a.createElement("div",{className:"backIcon"},c.a.createElement(o,{onClick:a})),c.a.createElement("h2",null,n),i.length>0&&c.a.createElement(ae.a,{onClick:function(){l(),a()}},i)),r)}),xe=function(){return c.a.createElement("i",{className:"fa fa-spinner fa-spin"})},Ae=a(139),ke=a(140),Be=a(158),Te=a(141),De=a(160),Re=a(142),Pe=a.n(Re),Le=(a(227),a(228),a(288)),Fe=a(304),Ue=a(143),He=a.n(Ue),Me=a(144),ze=a.n(Me),Ge=Object(se.a)({root:{minWidth:100}});function Ye(e){var t=e.val,a=e.setVal,n=Ge();return c.a.createElement("div",{className:n.root},c.a.createElement(Le.a,{container:!0,spacing:2},c.a.createElement(Le.a,{item:!0},c.a.createElement(He.a,null)),c.a.createElement(Le.a,{item:!0,xs:!0},c.a.createElement(Fe.a,{value:t,onChange:function(e,t){a(t)},min:1,max:100,"aria-labelledby":"continuous-slider"})),c.a.createElement(Le.a,{item:!0},c.a.createElement(ze.a,null))))}var Qe=a(146),Ve=a.n(Qe),Xe=a(147),Je=a.n(Xe),qe=a(145),We=a.n(qe),Ke=function(e){function t(){var e,a;Object(Ae.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(Be.a)(this,(e=Object(Te.a)(t)).call.apply(e,[this].concat(c)))).state={src:null,crop:{unit:"%",width:30,aspect:a.props.initialAspectRatio||.75},originalImageSize:null,croppedImageUrl:null,zoomScale:1},a.onImageLoaded=function(e){a.imageRef=e},a.onCropChange=function(e){a.setState({crop:e})},a.onCropComplete=function(){var e=Object(we.a)(je.a.mark(function e(t){var n;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,a.getCroppedImg(a.imageRef,t);case 3:n=e.sent,a.setState({croppedImageUrl:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeAspectRatio=function(e){a.setState({crop:Object(d.a)({},a.state.crop,{aspect:e})})},a.onChangeZoomScale=function(e){a.setState({zoomScale:e})},a}return Object(De.a)(t,e),Object(ke.a)(t,[{key:"getCroppedImg",value:function(e,t){var a=this,n=document.createElement("canvas"),c=e.naturalWidth/e.width,l=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*c,t.y*l,t.width*c,t.height*l,0,0,t.width,t.height);var r=new FileReader;n.toBlob(function(e){r.readAsDataURL(e),r.onloadend=function(){a.dataURLtoFile(r.result,"cropped.jpg")}})}},{key:"dataURLtoFile",value:function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?)/)[1],c=atob(a[1]),l=c.length,r=new Uint8Array(l);l--;)r[l]=c.charCodeAt(l);var o=new File([r],t,{type:n});this.setState({croppedImage:o})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.image,a=e.initialAspectRatio;this.setState({src:t,originalImageSize:a})}},{key:"componentDidUpdate",value:function(e,t){if(t.croppedImage!==this.state.croppedImage&&this.props.setCroppedImageResult(this.state.croppedImage),t.zoomScale!==this.state.zoomScale){var a=1+2/99*(this.state.zoomScale-1);document.querySelector(".cropImage__wrapper .ReactCrop__image").style.transform="scale(".concat(a,")")}}},{key:"render",value:function(){var e=this,t=this.state,a=t.crop,n=t.src,l=t.originalImageSize;return c.a.createElement("div",{className:"cropImage__wrapper"},c.a.createElement("div",{className:"cropImage__imageSelection"},n&&c.a.createElement(Pe.a,{src:n,crop:a,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,style:{width:"100vh"}}),n&&c.a.createElement("div",{className:"cropImage__changeAspectRatio-actions"},c.a.createElement("div",{className:"cropImage__scaleButton"},c.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(l)},className:"".concat(a.aspect===l&&"blued")},c.a.createElement(We.a,null)),c.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(16/9)},className:"".concat(a.aspect===16/9&&"blued")},c.a.createElement(Ve.a,null)),c.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(1)},className:"".concat(1===a.aspect&&"blued")},c.a.createElement(Je.a,null))),c.a.createElement("div",{className:"cropImage__slider"},c.a.createElement(Ye,{val:this.state.zoomScale,setVal:this.onChangeZoomScale})))))}}]),t}(n.PureComponent),Ze=(a(229),function(e){var t=e.image,a=e.altText,n=e.setAltText;return c.a.createElement("div",{className:"alt__wrapper"},c.a.createElement("div",{className:"alt__imageContainer"},c.a.createElement("img",{src:URL.createObjectURL(t),alt:"addALt"})),c.a.createElement("div",{className:"alt__addDescription"},c.a.createElement("h2",null,"Description"),c.a.createElement("textarea",{name:"",id:"",cols:"30",rows:"3",value:a,onChange:function(e){return n(e.target.value)}})))}),$e=a(36),et=a.n($e),tt=a(57),at=a.n(tt),nt=a(75),ct=a.n(nt),lt=a(76),rt=a.n(lt),ot=a(77),it=a.n(ot),st=a(56),mt=a.n(st),ut=a(55),dt=a.n(ut),pt=a(20),Et=a.n(pt),ft=function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=t.displayName,l=Object(n.useState)(null),r=Object(o.a)(l,2),i=r[0],s=r[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(Se(t.displayName)),f=Object(o.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)(null),w=Object(o.a)(v,2),N=w[0],_=w[1],S=Object(n.useState)(null),C=Object(o.a)(S,2),I=C[0],A=C[1],k=Object(n.useState)(!1),B=Object(o.a)(k,2),T=B[0],D=B[1],R=Object(n.useState)({width:0,height:0}),P=Object(o.a)(R,2),L=P[0],F=P[1],U=Object(n.useState)(null),H=Object(o.a)(U,2),M=H[0],z=H[1],G=Object(n.useState)(null),Y=Object(o.a)(G,2),Q=Y[0],V=Y[1],X=Object(n.useState)(null),J=Object(o.a)(X,2),q=J[0],W=J[1],K=Object(n.useState)(!1),Z=Object(o.a)(K,2),$=Z[0],ee=Z[1];Object(n.useEffect)(function(){x.collection("users").doc(t.id).onSnapshot(function(e){s(e.data())})},[]);Object(n.useEffect)(function(){z(L.width/L.height)},[L]);var te=[{id:0,title:"",icon:c.a.createElement(dt.a,null),item:c.a.createElement(Ke,{image:N,setCroppedImageResult:V,initialAspectRatio:M})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ze,{image:Q,altText:h,setAltText:g})}],ne=Boolean(q),re=ne?"post-popover":void 0;return Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:T,onClose:function(){return D(!1)},title:"Edit Photo",callback:function(){_(URL.createObjectURL(Q)),A(Q),0===h.length&&g(Se(a))},Icon:Et.a,ButtonText:"Save"},c.a.createElement(ge,{items:te})),c.a.createElement("div",{className:"tweetBox"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),ee(!0),I?ve(I).then(function(e){x.collection("posts").add({altText:h,text:d,image:e,likes:[],senderId:t.id,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),p(""),g(""),_(null),ee(!1)}).catch(function(e){ee(!1)}):(x.collection("posts").add({altText:h,text:d,image:"",likes:[],senderId:t.id,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),p(""),g(""),_(null),ee(!1))}},c.a.createElement("div",{className:"tweetBox__wrapperInput"},c.a.createElement("div",{className:"tweetBox__ava"},c.a.createElement(O.a,{src:i&&i.photoURL})),c.a.createElement("div",{className:"tweetBox__input"},c.a.createElement("textarea",{rows:"1",placeholder:"What's happening",type:"text",value:d,onChange:function(e){return p(e.target.value)}}),N&&c.a.createElement("div",{className:"tweetBox__input-image"},c.a.createElement(et.a,{className:"cancelIcon",onClick:function(){return _(null)}}),c.a.createElement("img",{src:N,alt:"new test"}),c.a.createElement(ae.a,{className:"editImage",onClick:function(){return D(!0)}},"Edit")),c.a.createElement("div",{className:"tweetBox__input-actions"},c.a.createElement("div",{className:"tweetBox__input-icons"},c.a.createElement(le,{Icon:ct.a,type:"file",accept:"image/*",name:"image-upload",id:"input-image",onChange:function(e){var t=new FileReader;t.onloadend=function(){_(t.result),A(t.result)},t.readAsDataURL(e.target.files[0]),_e(e).then(function(e){F({width:e.width,height:e.height})})}}),c.a.createElement(le,{Icon:mt.a}),c.a.createElement(le,{Icon:rt.a}),c.a.createElement(le,{Icon:at.a,"aria-describedby":re,type:"button",onClick:function(e){return W(e.currentTarget)}}),c.a.createElement(j.a,{id:re,open:ne,anchorEl:q,onClose:function(){return W(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(ce.a,{onEmojiClick:function(e,t){var a=d+t.emoji;p(a)}})),c.a.createElement(le,{Icon:it.a})),$?c.a.createElement(ae.a,{className:"tweetBox__tweetButton"},c.a.createElement(xe,null)):c.a.createElement(ae.a,{type:"submit",className:"tweetBox__tweetButton"},"Tweet")))))))},ht=a(79),bt=(a(126),function(e){var t=e.Icon,a=e.value,n=e.onClick;return c.a.createElement("div",{className:"footerIcon_wrapper",onClick:n},c.a.createElement(t,null),c.a.createElement("div",{className:"footerIcon__counter"},a||""))}),gt=a(289),vt=a(290),Ot=a(291),jt=a(292),wt=a(293),Nt=a(33),_t=a.n(Nt),St=function(e){var t=e.split(", "),a=Object(o.a)(t,2),n=a[0],c=a[1],l=n.split("/"),r=Object(o.a)(l,3),i=r[0],s=r[1],m=r[2],u=c.split(":"),d=Object(o.a)(u,3),p=[m,i,s,d[0],d[1],d[2]].map(function(e){return parseInt(e)}),E=Object(o.a)(p,6),f=E[0],h=E[1],b=E[2],g=E[3],v=E[4],O=E[5],j=new Date,w=parseInt(j.getFullYear()),N=parseInt(j.getMonth()+1),_=parseInt(j.getDate()),S=parseInt(j.getHours()),C=parseInt(j.getMinutes()),y=parseInt(j.getSeconds()),I=function(e){return e%4===0&&e%100!==0||e%400===0},x=function(e,t,a,n,c,l){var r=0;if(t<2){for(var o=1;o<a;o++)r+=1;return 86400*r+3600*n+60*c+l}for(var i=0,s=1;s<t;s++)i+=4===s||6===s||9===s||11===s?30:2===s?I(e)?29:28:31;return 86400*(i+a-1)+3600*n+60*c+l},A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e,t,a,n,c){return e<60?"".concat(e," s"):e>59&&e<3600?"".concat(Math.trunc(e/60),"m"):e>3599&&e<86400?"".concat(Math.trunc(e/3600),"h "):e>86399&&e<604800?"".concat(Math.trunc(e/86400),"d"):e>604799?t===a?"".concat(c," ").concat(A[n-1]):"".concat(c," ").concat(A[n-1]," ").concat(a):void 0}(function(e,t,a,n,c,l,r,o,i,s,m,u){var d=x(e,t,a,n,c,l),p=x(r,o,i,s,m,u),E=0;if(r===e||r===e+1)E=0;else for(var f=e+1;f<r;f++)I(f)&&(E+=366),E+=365;var h=I(e)?31622400-d:31536e3-d;return r!==e?h+86400*E+p:p-d}(f,h,b,g,v,O,w,N,_,S,C,y),w,f,h,b)},Ct=function(e){return e&&new Date(e.toDate()).toLocaleString([],{hour12:!1})},yt=(a(127),function(e){var t=e.props,a=e.profile,l=e.ownProfile,r=e.setIsOpenParentModal,i=a.displayName,m=a.username,u=a.photoURL,d=a.verified,p=t.timestamp,E=t.text,f=t.image,h=t.altText,b=t.postId,g=Ct(p),v=Object(s.f)(),w=Object(n.useState)(null),N=Object(o.a)(w,2),_=N[0],S=N[1],C=Object(n.useState)(!1),I=Object(o.a)(C,2),A=I[0],k=I[1],B=Boolean(_),T=B?"post-popover":void 0,D=Object(n.useState)(""),R=Object(o.a)(D,2),P=R[0],L=R[1],F=Object(n.useState)(null),U=Object(o.a)(F,2),H=U[0],M=U[1],z=Object(n.useState)(null),G=Object(o.a)(z,2),Y=G[0],Q=G[1],V=Object(n.useState)({width:0,height:0}),X=Object(o.a)(V,2),J=X[0],q=X[1],W=Object(n.useState)(null),K=Object(o.a)(W,2),Z=K[0],$=K[1],ee=Object(n.useState)(null),te=Object(o.a)(ee,2),ne=te[0],re=te[1],oe=Object(n.useState)(!1),ie=Object(o.a)(oe,2),se=ie[0],me=ie[1],ue=Object(n.useState)(Se(l.displayName)),de=Object(o.a)(ue,2),pe=de[0],Ee=de[1];Object(n.useEffect)(function(){$(J.width/J.height)},[J]);var fe=[{id:0,title:"",icon:c.a.createElement(dt.a,null),item:c.a.createElement(Ke,{image:H,setCroppedImageResult:re,initialAspectRatio:Z})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ze,{image:ne,altText:pe,setCommentAltText:Ee})}];Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:se,onClose:function(){return me(!1)},title:"Edit Photo",callback:function(){M(URL.createObjectURL(ne)),Q(ne),0===pe.length&&Ee(Se(i))},Icon:Et.a,ButtonText:"Save"},c.a.createElement(ge,{items:fe})),c.a.createElement("div",{className:"reply"},c.a.createElement(gt.a,null,c.a.createElement(vt.a,null,c.a.createElement(Ot.a,null,c.a.createElement(O.a,{src:u}),c.a.createElement(jt.a,null)),c.a.createElement(wt.a,null,c.a.createElement("div",{className:"post__body upped"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,i," "," ",c.a.createElement("span",{className:"post__headerSpecial"},d&&c.a.createElement(_t.a,{className:"post__badge"}),"@".concat(m," . ").concat(p&&St(g))))),c.a.createElement("div",{className:"post__headerDescription"}," ",c.a.createElement("p",null," ",E," "))),f.length>0&&c.a.createElement("img",{src:f,alt:h}),c.a.createElement("span",{className:"replyingTo"},"Replying to ",c.a.createElement("p",null,"@".concat(m)))))),c.a.createElement(vt.a,null,c.a.createElement(Ot.a,null,c.a.createElement(O.a,{src:l.photoURL})),c.a.createElement(wt.a,null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k(!0),Y?ve(Y).then(function(e){x.collection("posts").doc(b).collection("comments").add({commentAltText:pe,text:P,image:e,likes:[],senderId:l.id,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),L(""),Ee(""),M(null),k(!1),r(!1),v.push("/status/".concat(b))}).catch(function(e){console.log(e),k(!1)}):(x.collection("posts").doc(b).collection("comments").add({commentAltText:"",text:P,image:"",likes:[],senderId:l.id,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),L(""),Ee(""),M(null),k(!1),r(!1),v.push("/status/".concat(b)))}},c.a.createElement("div",{className:"tweetBox__input upped"},c.a.createElement("textarea",{rows:"1",placeholder:"Tweet your reply",type:"text",value:P,onChange:function(e){return L(e.target.value)}})),H&&c.a.createElement("div",{className:"tweetBox__input-image"},c.a.createElement(et.a,{className:"cancelIcon",onClick:function(){return M(null)}}),c.a.createElement("img",{src:H,alt:"new test"}),c.a.createElement(ae.a,{className:"editImage",onClick:function(){return me(!0)}},"Edit")),c.a.createElement("div",{className:"tweetBox__input-actions"},c.a.createElement("div",{className:"tweetBox__input-icons"},c.a.createElement(le,{Icon:ct.a,type:"file",accept:"image/*",name:"comment-image-upload",id:"comment-image-upload",onChange:function(e){var t=new FileReader;t.onloadend=function(){M(t.result),Q(t.result)},t.readAsDataURL(e.target.files[0]),_e(e).then(function(e){q({width:e.width,height:e.height})})}}),c.a.createElement(le,{Icon:mt.a}),c.a.createElement(le,{Icon:rt.a}),c.a.createElement(le,{Icon:at.a,"aria-describedby":T,type:"button",onClick:function(e){return S(e.currentTarget)}}),c.a.createElement(j.a,{id:T,open:B,anchorEl:_,onClose:function(){return S(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(ce.a,{onEmojiClick:function(e,t){var a=P+t.emoji;L(a)}})),c.a.createElement(le,{Icon:it.a})),A?c.a.createElement(ae.a,{className:"tweetBox__tweetButton"},c.a.createElement(xe,null)):c.a.createElement(ae.a,{type:"submit",className:"tweetBox__tweetButton"},"Reply"))))))))}),It=a(149),xt=a.n(It),At=a(148),kt=a.n(At),Bt=function(e){var t=e.likes,a=e.likeAction,l=e.unlikeAction,r=b(),i=Object(o.a)(r,1)[0].user,s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){i.id&&t&&(t.includes(i.id)?d(!0):d(!1))},[t]),c.a.createElement("div",{className:"footerIcon_wrapper"},u?c.a.createElement("span",{className:"liked",onClick:l},c.a.createElement(kt.a,null)):c.a.createElement(xt.a,{onClick:a}),c.a.createElement("div",{className:"footerIcon__counter"},t&&t.length>0&&t.length))},Tt=a(59),Dt=a.n(Tt),Rt=a(60),Pt=a.n(Rt),Lt=a(61),Ft=a.n(Lt),Ut=a(44),Ht=a.n(Ut),Mt=a(45),zt=a.n(Mt),Gt=a(31),Yt=a.n(Gt),Qt=a(37),Vt=a.n(Qt),Xt=a(30),Jt=a.n(Xt),qt=a(48),Wt=a.n(qt),Kt=a(47),Zt=a.n(Kt),$t=a(46),ea=a.n($t),ta=a(58),aa=a.n(ta),na=a(34),ca=a.n(na),la=(a(109),function(e,t){var a=x.collection("users").doc(e),n=x.collection("users").doc(t);a.update({following:y.a.firestore.FieldValue.arrayUnion(t)}),n.update({followers:y.a.firestore.FieldValue.arrayUnion(e)})}),ra=function(e,t){var a=x.collection("users").doc(e),n=x.collection("users").doc(t);a.update({following:y.a.firestore.FieldValue.arrayRemove(t)}),n.update({followers:y.a.firestore.FieldValue.arrayRemove(e)})},oa=function(e){x.collection("posts").doc(e).delete()},ia=function(e,t){x.collection("posts").doc(e).update({likes:y.a.firestore.FieldValue.arrayUnion(t)})},sa=function(e,t){x.collection("posts").doc(e).update({likes:y.a.firestore.FieldValue.arrayRemove(t)})},ma=function(e,t){x.collection("posts").doc(e).collection("comments").doc(t).delete()},ua=function(e,t,a){x.collection("posts").doc(e).collection("comments").doc(t).update({likes:y.a.firestore.FieldValue.arrayUnion(a)})},da=function(e,t,a){x.collection("posts").doc(e).collection("comments").doc(t).update({likes:y.a.firestore.FieldValue.arrayRemove(a)})},pa=Object(n.forwardRef)(function(e,t){var a=e.altText,l=e.text,r=e.image,i=e.timestamp,m=e.senderId,u=e.postId,p=e.likes,E=Object(s.f)(),f=Ct(i),h=Object(n.useState)(null),g=Object(o.a)(h,2),v=g[0],w=g[1],_=Boolean(v),S=_?"post-popover":void 0,C=Object(n.useState)(!1),y=Object(o.a)(C,2),I=y[0],A=y[1],k=b(),B=Object(o.a)(k,1)[0].user,T=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),D=Object(o.a)(T,2),R=D[0],P=D[1],L=Object(n.useState)(null),F=Object(o.a)(L,2),U=F[0],H=F[1],M=R.displayName,z=R.username,G=R.photoURL,Y=R.verified,Q=Object(n.useState)([]),V=Object(o.a)(Q,2),X=V[0],J=V[1],q=Object(n.useState)(!1),W=Object(o.a)(q,2),K=W[0],Z=W[1],$=function(e){return E.push("/status/".concat(e))};Object(n.useEffect)(function(){x.collection("users").doc(B.id).onSnapshot(function(e){H(Object(d.a)({id:B.id},e.data()))}),x.collection("users").doc(m).onSnapshot(function(e){P(e.data())}),x.collection("posts").doc(u).collection("comments").onSnapshot(function(e){J(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))})},[]),Object(n.useEffect)(function(){R&&Z(R.followers.includes(B.id))},[R]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:I,onClose:function(){return A(!1)},title:"",callback:function(){},Icon:ca.a,ButtonText:""},c.a.createElement(yt,{props:{altText:a,text:l,image:r,timestamp:i,senderId:m,postId:u,likes:p},profile:R,ownProfile:U,setIsOpenParentModal:function(e){return A(e)}})),c.a.createElement("div",{className:"post",ref:t},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(O.a,{src:G})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,M," "," ",c.a.createElement("span",{className:"post__headerSpecial"},Y&&c.a.createElement(_t.a,{className:"post__badge"}),"@","".concat(z," . ").concat(i&&St(f)))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":S,variant:"contained",onClick:function(e){return w(e.currentTarget)}},c.a.createElement(N.a,null)),c.a.createElement(j.a,{id:S,open:_,anchorEl:v,onClose:function(){return w(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},m===B.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){return oa(u)}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ht.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(zt.a,null)),c.a.createElement("h3",null,"View Tweet activity"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Not interested in this tweet")),K?c.a.createElement("li",{onClick:function(){return ra(B.id,m)}},c.a.createElement("div",null,c.a.createElement(ea.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(z))):c.a.createElement("li",{onClick:function(){return la(B.id,m)}},c.a.createElement("div",null,c.a.createElement(aa.a,null)),c.a.createElement("h3",null,"Follow ","@".concat(z))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Zt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Wt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(z))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")))))),c.a.createElement("div",{className:"post__headerDescription",onClick:function(){return $(u)}},c.a.createElement("p",null," ",l," "))),r.length>0&&c.a.createElement("img",{src:r,alt:a,onClick:function(){return $(u)}}),c.a.createElement("div",{className:"post__footer"},c.a.createElement(bt,{Icon:Dt.a,value:X.length,onClick:function(){return A(!0)}}),c.a.createElement(bt,{Icon:Pt.a,value:0}),c.a.createElement(Bt,{likes:p,unlikeAction:function(){return sa(u,B.id)},likeAction:function(){return ia(u,B.id)}}),c.a.createElement(bt,{Icon:Ft.a,value:0})))))}),Ea=function(e){var t=e.posts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.a,null,t.map(function(e){return c.a.createElement(pa,{key:e.id,postId:e.id,altText:e.altText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,timestamp:e.timestamp,likes:e.likes})})))},fa=a(294),ha=Object(se.a)(function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}});function ba(){var e=ha();return c.a.createElement("div",{className:e.root},c.a.createElement(fa.a,null))}a(93);var ga=function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),l=Object(o.a)(a,2),r=l[0],i=l[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],p=m[1],E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)([]),j=Object(o.a)(v,2),w=j[0],N=j[1];return Object(n.useEffect)(function(){var e=!0;return x.collection("users").doc(t.id).onSnapshot(function(t){e&&(g(t.data()),N(t.data()&&t.data().following))}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return p(!0),w?x.collection("posts").where("senderId","in",[t.id].concat(Object(te.a)(w))).orderBy("timestamp","desc").onSnapshot(function(t){if(e){if(t.empty)return void p(!1);i(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),p(!1)}},function(e){console.log(e)}):x.collection("posts").where("senderId","in",[t.id]).orderBy("timestamp","desc").onSnapshot(function(t){if(e){if(t.empty)return void p(!1);i(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),p(!1)}},function(e){console.log(e)}),function(){return e=!1}},[w]),c.a.createElement("div",{className:"feed"},c.a.createElement("div",{className:"feed__header"},c.a.createElement("div",{className:"feed__header-ava"},c.a.createElement(O.a,{src:h&&h.photoURL})),c.a.createElement("h2",null,"Home")),c.a.createElement(ft,null),u&&c.a.createElement("div",{className:"feed__loader"},c.a.createElement(ba,null)),c.a.createElement(Ea,{posts:r}))},va=(a(230),function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Boolean(a),i=r?"post-popover":void 0;return c.a.createElement("div",{className:"widgets__widgetContainer"},c.a.createElement("h2",null,"What's happening"),c.a.createElement("ul",{className:"widgets__trendsContainer"},c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Popular in Indonesia"),c.a.createElement(N.a,{"aria-describedby":i,variant:"contained",onClick:function(e){return l(e.currentTarget)}}),c.a.createElement(j.a,{id:i,open:r,anchorEl:a,onClose:function(){return l(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"This trend is spam")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"This trend is abusive or harmfull")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"This trend is a duplicate")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"This trend is low quality"))))),c.a.createElement("div",{className:"hashtag"},"Toklenpedia"),c.a.createElement("div",{className:"tweetNumber"},"5012 Tweets")),c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Popular in Indonesia"),c.a.createElement(N.a,null)),c.a.createElement("div",{className:"hashtag"},"Bukanbapak Sale"),c.a.createElement("div",{className:"tweetNumber"},"4099 Tweets")),c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Popular in Indonesia"),c.a.createElement(N.a,null)),c.a.createElement("div",{className:"hashtag"},"FIFAWorldCupU20"),c.a.createElement("div",{className:"tweetNumber"},"4022 Tweets")),c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Popular in Indonesia"),c.a.createElement(N.a,null)),c.a.createElement("div",{className:"hashtag"},"MotoGPMandalika"),c.a.createElement("div",{className:"tweetNumber"},"3088 Tweets"))))}),Oa=(a(231),function(e){var t=e.display;return c.a.createElement(i.b,{to:t?"/profile/".concat(t.username):"/notfound"},c.a.createElement("div",{className:"userItemFollow--user__item"},c.a.createElement(O.a,{src:t&&t.photoURL}),c.a.createElement("div",{className:"userItemFollow--user__details"},c.a.createElement("h2",null,t?t.displayName:"Empty Room"),c.a.createElement("span",null,t&&"@".concat(t.username))),c.a.createElement(ae.a,null,"Follow")))}),ja=(a(232),function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),l=Object(o.a)(a,2),r=l[0],i=l[1];return Object(n.useEffect)(function(){var e=!0;return x.collection("users").limit(6).onSnapshot(function(t){e&&i(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}),function(){return e=!1}},[]),c.a.createElement("div",{className:"widgets__widgetContainer"},c.a.createElement("h2",null,"Who to follow"),c.a.createElement("ul",{className:"widgets__trendsContainer"},r&&r.filter(function(e){return e.id!==t.id}).map(function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(Oa,{display:e}))})))}),wa=(a(233),function(e){var t=e.value,a=e.onChange,l=e.onClick,r=e.placeholder,i=Object(n.useState)(!1),s=Object(o.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),E=p[0],f=p[1];return c.a.createElement("div",{className:"searchWidget__wrapper"},c.a.createElement("div",{className:"searchWidget ".concat(E?"beingPressed":"")},c.a.createElement(D.a,{className:"searchWidget__searchIcon"}),c.a.createElement("input",{type:"text",placeholder:r,onFocus:function(){u(!0),f(!0)},onBlur:function(){return f(!1)},value:t,onChange:a}),m&&t.length>0&&c.a.createElement(et.a,{onClick:l})))}),Na=(a(110),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1];return c.a.createElement("div",{className:"widgets"},c.a.createElement(wa,{value:a,onChange:function(e){return l(e.target.value)},onClick:function(){return l("")},placeholder:"Search Twittie"}),c.a.createElement(va,null),c.a.createElement(ja,null))}),_a=a(150),Sa=a(151),Ca=a.n(Sa),ya=(a(234),function(e){var t=e.value,a=e.onChange,l=e.onClick,r=Object(n.useState)(!1),i=Object(o.a)(r,2),s=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),p=d[0],E=d[1];return c.a.createElement("div",{className:"commonSearch__search"},c.a.createElement("div",{className:"commonSearch__searchContainer ".concat(p&&"pressed")},c.a.createElement(Ca.a,null),c.a.createElement("input",{type:"text",className:"commonSearch__input ".concat(p&&"inputPressed"),placeholder:"Search for people and group",onFocus:function(){m(!0),E(!0)},onBlur:function(){return E(!1)},value:t,onChange:a}),s&&t.length>0&&c.a.createElement(et.a,{onClick:l})))}),Ia=a(305),xa=a(295),Aa=(a(128),function(e){var t=e.name,a=e.username,n=e.photourl,l=e.clicked,r=e.onClick;return c.a.createElement("div",{className:"user__item",onClick:l?void 0:r},c.a.createElement(O.a,{src:n}),c.a.createElement("div",{className:"user__details"},c.a.createElement("h2",null,t),c.a.createElement("span",null,"@",a)),l&&c.a.createElement(S.a,null))}),ka=function(e){e.roomId;var t=e.members,a=(e.clicked,b()),l=Object(o.a)(a,1)[0].user,r=Object(n.useState)(""),i=Object(o.a)(r,2),s=i[0],m=i[1],u=Object(n.useState)(null),d=Object(o.a)(u,2),p=d[0],E=d[1];return Object(n.useEffect)(function(){m(t.filter(function(e){return e!==l.id}).toString())},[]),Object(n.useEffect)(function(){s.length>0&&x.collection("users").doc(s).onSnapshot(function(e){E(e.data())})},[s]),c.a.createElement("div",{className:"user__item nocursor"},c.a.createElement(O.a,{src:p&&p.photoURL}),c.a.createElement("div",{className:"user__details"},c.a.createElement("h2",null,p&&p.displayName),c.a.createElement("span",null,p&&"@".concat(p.username))),c.a.createElement(S.a,null))},Ba=(a(235),"add_room"),Ta="remove_room",Da="empty_room",Ra=function(e,t){switch(t.type){case Ba:return[].concat(Object(te.a)(e),[t.room]);case Ta:return e.filter(function(e){return e.id!==t.id});case Da:return[];default:return e}},Pa=Object(n.createContext)(),La=function(e){var t=e.children,a=Object(n.useReducer)(Ra,[]),l=Object(o.a)(a,2),r=l[0],i=l[1];return c.a.createElement(Pa.Provider,{value:{rooms:r,dispatch:i}},t)},Fa=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),i=Object(o.a)(r,2),s=i[0],m=i[1],u=Object(n.useState)([]),p=Object(o.a)(u,2),E=p[0],f=p[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),v=g[0],j=g[1],w=b(),N=Object(o.a)(w,1)[0].user,_=Object(n.useContext)(Pa),S=_.rooms,C=_.dispatch,y=[],I=[],A=function(e){return k(e)},k=function(e){C({type:Ta,id:e.id})};Object(n.useEffect)(function(){var e=x.collection("rooms").where("members","array-contains",N.id).onSnapshot(function(e){return m(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))});return function(){e()}},[]),s.map(function(e){return e.members.forEach(function(e){return y.push(e)})}),y.map(function(e){return-1===I.indexOf(e)&&I.push(e)});return Object(n.useEffect)(function(){return function(){return j(!0),x.collection("users").where("displayName","==",a).get().then(function(e){e.empty?(f([]),console.log("LOOOH??!! KOSONGG???!!!"),j(!1)):(f(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),j(!1))})}},[a]),console.log(y),console.log(I),c.a.createElement("div",{className:"searchUser"},c.a.createElement("div",{className:"searchUser__header"},c.a.createElement("div",{className:"searchUser__header-search"},c.a.createElement(D.a,null),c.a.createElement("input",{type:"text",placeholder:"Search People",value:a,onChange:function(e){return l(e.target.value)}})),S.length>0&&c.a.createElement("div",{className:"chips"},S.map(function(e){return c.a.createElement(Ia.a,{key:e.id,avatar:c.a.createElement(O.a,{src:e.photoURL}),label:e.displayName,onClick:function(){return A(e)},onDelete:function(){return A(e)}})}))),v&&c.a.createElement(xa.a,null),c.a.createElement("div",{className:"users__result"},E.filter(function(e){return!I.includes(e.id)}).map(function(e){return c.a.createElement(Aa,{key:e.id,name:e.displayName,username:e.username,photourl:e.photoURL,onClick:function(){C({type:Ba,room:e})},clicked:(t=e,S.some(function(e){return e.id===t.id}))});var t}),s.map(function(e){return c.a.createElement(ka,{key:e.id,roomId:e.id,members:e.members})})))},Ua=(a(236),function(e){var t=e.split(", "),a=Object(o.a)(t,2),n=a[0],c=a[1],l=n.split("/"),r=Object(o.a)(l,3),i=r[0],s=r[1],m=r[2],u=c.split(":"),d=Object(o.a)(u,3),p=[m,i,s,d[0],d[1],d[2]].map(function(e){return parseInt(e)}),E=Object(o.a)(p,6),f=E[0],h=E[1],b=E[2],g=E[3],v=E[4],O=E[5],j=new Date,w=parseInt(j.getFullYear()),N=parseInt(j.getMonth()+1),_=parseInt(j.getDate()),S=parseInt(j.getHours()),C=parseInt(j.getMinutes()),y=parseInt(j.getSeconds()),I=function(e){return e%4===0&&e%100!==0||e%400===0},x=function(e,t,a,n,c,l){var r=0;if(t<2){for(var o=1;o<a;o++)r+=1;return 86400*r+3600*n+60*c+l}for(var i=0,s=1;s<t;s++)i+=4===s||6===s||9===s||11===s?30:2===s?I(e)?29:28:31;return 86400*(i+a-1)+3600*n+60*c+l},A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e,t,a,n,c,l,r){return e<86400?"".concat(l,":").concat(r," ").concat(l<12?"AM":"PM"):e>86399&&e<172800?"YESTERDAY":e>172799?"".concat(A[n-1]," ").concat(c,", ").concat(a):void 0}(function(e,t,a,n,c,l,r,o,i,s,m,u){var d=x(e,t,a,n,c,l),p=x(r,o,i,s,m,u),E=0;if(r===e||r===e+1)E=0;else for(var f=e+1;f<r;f++)I(f)&&(E+=366),E+=365;var h=I(e)?31622400-d:31536e3-d;return r!==e?h+86400*E+p:p-d}(f,h,b,g,v,O,w,N,_,S,C,y),0,f,h,b,g,v)}),Ha=function(e){e.name;var t=e.roomId,a=(e.members,b()),l=Object(o.a)(a,1)[0].user,r=Object(n.useState)([]),s=Object(o.a)(r,2),m=s[0],u=s[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),v=g[0],j=g[1];Object(n.useEffect)(function(){var e=!0;return t&&x.collection("rooms").doc(t).collection("messages").orderBy("timestamp","desc").onSnapshot(function(t){e&&u(t.docs.map(function(e){return e.data()}))}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return t&&x.collection("rooms").doc(t).onSnapshot(function(t){e&&j(t.data().members.filter(function(e){return e!==l.id})[0])}),function(){return e=!1}},[t]),Object(n.useEffect)(function(){var e=!0;return v&&x.collection("users").doc(v).onSnapshot(function(t){e&&f(t.data())}),function(){return e=!1}},[v]);return c.a.createElement(i.c,{to:"/messages/".concat(t&&t),className:"sidebarChatOption",activeClassName:"active_chat"},c.a.createElement(O.a,{src:E?E.photoURL:null}),c.a.createElement("div",{className:"sidebarChatOption__info"},c.a.createElement("h2",null," ",E?E.displayName:"Empty Room",c.a.createElement("span",null,E?"@".concat(E.username):"")),c.a.createElement("p",null,m[0]&&(m[0].message.length>25?"".concat(m[0].message.slice(0,24)," ..."):m[0].message))),c.a.createElement("div",{className:"sidebarChatOption__date"},m[0]&&function(e){if(e){var t=Ct(e);return Ua(t)}}(m[0].timestamp)))},Ma=(a(237),function(){var e=b(),t=Object(o.a)(e,1)[0].user,a=Z(),l=Object(o.a)(a,1)[0].isRoomOpened,r=Object(n.useContext)(Pa),i=r.rooms,s=r.dispatch,m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],E=u[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),g=h[0],v=h[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),w=j[0],N=j[1],_=Object(_a.useMediaQuery)({maxWidth:914});Object(n.useEffect)(function(){var e=x.collection("rooms").where("members","array-contains",t.id).onSnapshot(function(e){return v(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))});return function(){return e()}},[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:p,onClose:function(){return E(!1)},title:"New Message",callback:function(){i&&i.forEach(function(e){x.collection("rooms").add({alias:"".concat(t.displayName," ").concat(t.username," ").concat(e.displayName," ").concat(e.username),members:[t.id,e.id]}),s({type:Ta,id:e.id})})},Icon:ca.a,ButtonText:"Next"},c.a.createElement(Fa,null)),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sidebarChat ".concat(l&&_&&"noned")},c.a.createElement("div",{className:"sidebarChat__header"},c.a.createElement("h2",null,"Messages"),c.a.createElement("div",{className:"sidebarChat__addMessage"},c.a.createElement(F.a,{onClick:function(){return E(!0)}}))),c.a.createElement(ya,{value:w,onChange:function(e){return N(e.target.value)},onClick:function(){return N("")}}),c.a.createElement("div",{className:"sidebarChat__chats"},g.filter(function(e){return e.alias.toLowerCase().includes(w.toLowerCase())}).map(function(e){return c.a.createElement(Ha,{key:e.id,members:e.members,roomId:e.id})})))))}),za=(a(238),a(153)),Ga=a.n(za),Ya=a(154),Qa=a.n(Ya),Va=a(113),Xa=a.n(Va),Ja=a(152),qa=a.n(Ja),Wa=a(300),Ka=a(296),Za=a(249),$a=Object(se.a)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:"none"}}}),en=function(e){var t=e.open,a=e.onClose,n=e.imgsrc,l=$a();return c.a.createElement(Wa.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:l.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:Ka.a,BackdropProps:{timeout:500}},c.a.createElement(Za.a,{in:t},c.a.createElement("div",{className:"modalImage__imageWrapper"},c.a.createElement("img",{src:n,alt:"popupimge"}))))},tn=function(e){var t=e.msg,a=b(),l=Object(o.a)(a,1)[0].user,r=Object(n.useState)(!1),i=Object(o.a)(r,2),s=i[0],m=i[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),p=d[0],E=d[1],f=t.id,h=t.data,g=h.image,v=h.message,O=h.timestamp,j=h.senderId,w=function(e){E(e),m(!0)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(en,{open:s,onClose:function(){return m(!1)},imgsrc:p}),j===l.id?c.a.createElement("div",{className:"chat__item ",key:f},c.a.createElement("p",{className:"chat__message chat__receiver"},g&&c.a.createElement("img",{src:g,alt:"testim",onClick:function(){return w(g)}}),v&&c.a.createElement("span",null,v)),c.a.createElement("div",{className:"chat__timestamp"},Ct(O)," ",c.a.createElement(qa.a,null))):c.a.createElement("div",{className:"chat__item",key:f},c.a.createElement("p",{className:"chat__message"},g&&c.a.createElement("img",{src:g,alt:"testim",onClick:function(){return w(g)}}),v&&c.a.createElement("span",null,v)),c.a.createElement("div",{className:"chat__timestamp lefted"},Ct(O))))},an=function(){var e=Object(s.g)().roomId,t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],r=a[1],m=Object(n.useState)(""),u=Object(o.a)(m,2),d=u[0],p=u[1],E=Object(n.useState)(""),f=Object(o.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)({}),w=Object(o.a)(v,2),N=w[0],_=w[1],S=b(),C=Object(o.a)(S,1)[0].user,I=Z(),A=Object(o.a)(I,2),k=(A[0].isRoomOpened,A[1]),B=Object(s.f)(),T=Object(n.useState)(Se(C.displayName)),D=Object(o.a)(T,2),R=D[0],P=D[1],L=Object(n.useState)(null),F=Object(o.a)(L,2),U=F[0],H=F[1],M=Object(n.useState)(!1),z=Object(o.a)(M,2),G=z[0],Y=z[1],Q=Object(n.useState)(null),V=Object(o.a)(Q,2),X=V[0],W=V[1],K=Object(n.useState)(null),$=Object(o.a)(K,2),ee=$[0],te=$[1],ne=Object(n.useState)(!1),re=Object(o.a)(ne,2),oe=re[0],ie=re[1],se=Object(n.useState)({width:0,height:0}),me=Object(o.a)(se,2),ue=me[0],de=me[1],pe=Object(n.useState)(null),Ee=Object(o.a)(pe,2),fe=Ee[0],he=Ee[1],be=Object(n.useState)(null),Oe=Object(o.a)(be,2),je=Oe[0],we=Oe[1];Object(n.useEffect)(function(){e&&x.collection("rooms").doc(e).onSnapshot(function(e){g(e.data()&&e.data().members.filter(function(e){return e!==C.id})[0])}),x.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot(function(e){r(e.docs.map(function(e){return{id:e.id,data:e.data()}}))}),k({type:J,isRoomOpened:!0})},[e]),Object(n.useEffect)(function(){h&&x.collection("users").doc(h).onSnapshot(function(e){_(e.data())})},[h]);var Ne=function(t){t.preventDefault(),Y(!0),ee?ve(ee).then(function(t){x.collection("rooms").doc(e).collection("messages").add({senderId:C.id,message:d,image:t,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),p(""),W(null),te(null),Y(!1)}).catch(function(e){Y(!1)}):(x.collection("rooms").doc(e).collection("messages").add({senderId:C.id,message:d,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),p(""),W(null),Y(!1))};Object(n.useEffect)(function(){he(ue.width/ue.height)},[ue]);var Ce=[{id:0,title:"",icon:c.a.createElement(dt.a,null),item:c.a.createElement(Ke,{image:X,setCroppedImageResult:we,initialAspectRatio:fe})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ze,{image:je,altText:R,setAltText:P})}],ye=Boolean(U),Ae=ye?"post-popover":void 0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:oe,onClose:function(){return ie(!1)},title:"Edit Photo",callback:function(){W(URL.createObjectURL(je)),te(je),0===R.length&&P(Se(C.displayName))},Icon:Et.a,ButtonText:"Save"},c.a.createElement(ge,{items:Ce})),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat__header"},c.a.createElement("div",{className:"chat__backArrow"},c.a.createElement(Et.a,{onClick:function(){k({type:q}),B.push("/messages")}})),c.a.createElement("div",{className:"chat__header-ava"},c.a.createElement(O.a,{src:N&&N.photoURL})),c.a.createElement("h2",null,N&&N.displayName),c.a.createElement(i.b,{to:"/messages/".concat(e,"/info")},c.a.createElement(Ga.a,{member:N}))),c.a.createElement("div",{className:"chat__body"},l.map(function(e){return c.a.createElement(tn,{key:e.id,msg:e})})),c.a.createElement("div",{className:"chat__footer"},X&&c.a.createElement("div",{className:"chat__footer-ImageBox"},c.a.createElement(et.a,{className:"cancelIcon",onClick:function(){return W(null)}}),c.a.createElement("img",{src:X,alt:"new test"}),c.a.createElement(ae.a,{className:"editImage",onClick:function(){return ie(!0)}},"Edit")),c.a.createElement(le,{Icon:Qa.a,type:"file",accept:"image/*",name:"image-upload",id:"input-image",onChange:function(e){var t=new FileReader;t.onloadend=function(){W(t.result),te(t.result)},t.readAsDataURL(e.target.files[0]),_e(e).then(function(e){de({width:e.width,height:e.height})})}}),c.a.createElement(mt.a,null),c.a.createElement("form",{onSubmit:Ne},c.a.createElement("input",{type:"text",placeholder:"Start a new message",value:d,onChange:function(e){return p(e.target.value)}}),c.a.createElement("div",{className:"chat__footer-emowrapper"},c.a.createElement(at.a,{"aria-describedby":Ae,type:"button",onClick:function(e){return H(e.currentTarget)}}),c.a.createElement(j.a,{id:Ae,open:ye,anchorEl:U,onClose:function(){return H(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{transform:"translate(-2rem, -1rem)"}},c.a.createElement(ce.a,{onEmojiClick:function(e,t){var a=d+t.emoji;p(a)}}))),X||d.length>0?G?c.a.createElement("span",{className:"spinnerSpan"},c.a.createElement(xe,null)):c.a.createElement(Xa.a,{type:"submit",className:"readyBtn",onClick:Ne}):c.a.createElement(Xa.a,null)))))},nn=a(94),cn=a(301),ln=(a(239),function(){var e=Object(s.f)(),t=Object(s.g)().roomId,a=b(),l=Object(o.a)(a,1)[0].user,r=Z(),i=Object(o.a)(r,2),m=(i[0].isRoomOpened,i[1]),u=Object(n.useState)({checkedB:!1}),p=Object(o.a)(u,2),E=p[0],f=p[1],h=Object(n.useState)(""),g=Object(o.a)(h,2),v=g[0],O=g[1],j=Object(n.useState)({}),w=Object(o.a)(j,2),N=w[0],_=w[1];Object(n.useEffect)(function(){t&&(x.collection("rooms").doc(t).onSnapshot(function(e){O(e.data()&&e.data().members.filter(function(e){return e!==l.id})[0])}),m({type:J}))},[t]),Object(n.useEffect)(function(){v&&x.collection("users").doc(v).onSnapshot(function(e){_(e.data())})},[v]);return c.a.createElement("div",{className:"conversationInfo"},c.a.createElement("div",{className:"conversationInfo__header"},c.a.createElement("div",{className:"conversationInfo__header--back"},c.a.createElement(Et.a,{onClick:function(){return e.goBack()}})),c.a.createElement("h2",null,"Conversation Info")),c.a.createElement(Oa,{display:N}),c.a.createElement("div",{className:"notifications"},c.a.createElement("h2",null,"Notifications"),c.a.createElement("div",{className:"mute"},c.a.createElement("p",null,"Mute conversation"),c.a.createElement(cn.a,{checked:E.checkedB,onChange:function(e){f(Object(d.a)({},E,Object(nn.a)({},e.target.name,e.target.checked)))},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}))),c.a.createElement("ul",{className:"userActions"},c.a.createElement("li",null,"Block @".concat(N&&N.username)),c.a.createElement("li",null,"Report @".concat(N&&N.username)),c.a.createElement("li",{className:"red",onClick:function(){t&&x.collection("rooms").doc(t).update({members:y.a.firestore.FieldValue.arrayRemove(l.id)}).then(function(t){return e.push("/messages")})}},"Leave Conversation")))}),rn=a(114),on=a.n(rn);a(240);var sn=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],r={name:"",username:"",email:"",password:"",confirmPassword:""},i={email:"",password:""},s=b(),m=Object(o.a)(s,2),u=(m[0].user,m[1]),p=Object(n.useState)(r),f=Object(o.a)(p,2),h=f[0],g=f[1],v=Object(n.useState)(i),O=Object(o.a)(v,2),j=O[0],w=O[1],N=Object(n.useState)(""),_=Object(o.a)(N,2),S=_[0],C=_[1],I=Object(n.useState)(!1),A=Object(o.a)(I,2),k=A[0],B=A[1],T=Object(n.useState)(!1),D=Object(o.a)(T,2),R=D[0],P=D[1],L=function(){l(function(e){return!e}),P(!1),g(r),w(i),C(""),B(!1)};return Object(n.useEffect)(function(){var e=h.name,t=h.username,a=h.email,n=h.password;if(R&&!S.length){B(!0);try{x.collection("users").add({bio:"",displayName:e,email:a,followers:[],following:[],joined:y.a.firestore.FieldValue.serverTimestamp(),password:n,photoURL:"",rooms:[],username:t,verified:!0,wallpaper:""}).then(function(e){console.log(e),L()})}catch(S){return void console.log(S)}}},[R,S]),c.a.createElement("section",{className:"login__section"},c.a.createElement("div",{className:"login__container ".concat(a?"active":"")},c.a.createElement("div",{className:"user signinBc"},c.a.createElement("div",{className:"imgBc"},c.a.createElement("img",{src:on.a,alt:"backdrop"})),c.a.createElement("div",{className:"formBc"},c.a.createElement("form",{autoComplete:"off",onSubmit:function(e){var t=j.email,a=j.password;e.preventDefault(),B(!0),x.collection("users").where("email","==",t).where("password","==",a).limit(1).get().then(function(e){return e.docs.length?Object(d.a)({id:e.docs[0].id},e.docs[0].data()):void C("Invalid credential")}).then(function(e){e?function(e){try{e.password=void 0,localStorage.setItem("twittie_user",JSON.stringify(e)),u({type:E,user:JSON.parse(localStorage.getItem("twittie_user"))}),B(!1)}catch(S){return console.log(S),void B(!1)}}(e):(C("An error occured, please try again"),B(!1))}).catch(function(e){B(!1),C("An error occured, please try again")})}},c.a.createElement("h2",null,"Log In"),c.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:j.email,onChange:function(e){return w(Object(d.a)({},j,{email:e.target.value}))}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:j.password,onChange:function(e){return w(Object(d.a)({},j,{password:e.target.value}))},required:!0}),c.a.createElement("button",{type:"submit",className:"button"},k?c.a.createElement(xe,null):"Log in"),S.length>0&&c.a.createElement("div",{className:"error"},S),c.a.createElement("p",{className:"signup"},"Don't have an account? ",c.a.createElement("span",{onClick:L},"Sign up"))))),c.a.createElement("div",{className:"user signupBc"},c.a.createElement("div",{className:"formBc"},c.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),P(!0),C(function(e){var t={},a=e.name,n=e.username,c=e.email,l=e.password,r=e.confirmPassword;0===n.length&&(t.erUsername="Username must not be empty"),0===a.length&&(t.erName="Full Name must not be empty"),c?/(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*/.test(c)||(t.erEmail="Email address is invalid"):t.erEmail="Email address is required",l?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d@$.!%*#?&]/.test(l)||(t.erPassword="Password must contain atleast 8 characters, an number, an uppercase, a lowercase, and a special character"):t.erPassword="Password is required",l!==r&&(t.erPasswords="Passwords are not identical");var o=t.erName,i=t.erUsername,s=t.erEmail,m=t.erPassword,u=t.erPasswords;return o||i||s||m||u||""}(h))}},c.a.createElement("h2",null,"Create an Account"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Full Name",value:h.name,onChange:function(e){return g(Object(d.a)({},h,{name:e.target.value}))}}),c.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:h.username,onChange:function(e){return g(Object(d.a)({},h,{username:e.target.value}))}}),c.a.createElement("input",{type:"text",name:"email",placeholder:"Email",value:h.email,onChange:function(e){return g(Object(d.a)({},h,{email:e.target.value}))}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"Create Password",value:h.password,onChange:function(e){return g(Object(d.a)({},h,{password:e.target.value}))}}),c.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:h.confirmPassword,onChange:function(e){return g(Object(d.a)({},h,{confirmPassword:e.target.value}))}}),S.length>0&&c.a.createElement("div",{className:"error"},S),c.a.createElement("button",{type:"submit",className:"button"},k?c.a.createElement(xe,null):"Sign up"),c.a.createElement("p",{className:"signup"},"have an account? ",c.a.createElement("span",{onClick:L},"Log in")))),c.a.createElement("div",{className:"imgBc"},c.a.createElement("img",{src:on.a,alt:"backdrop"})))))},mn=a(155),un=a.n(mn),dn=a(156),pn=a.n(dn),En=a(297),fn=a(115),hn=a.n(fn),bn=(a(241),function(e){var t=e.profile,a=e.setUpdatedProfileState,l=t.bio,r=t.displayName,i=t.location,s=t.wallpaper,m=t.photoURL,u=t.website,p=Object(n.useState)({displayName:r,bio:l||"",location:i||"",website:u||""}),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(n.useState)({photoSrc:m,wallpaperSrc:s}),g=Object(o.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)({photoToSend:m,wallpaperToSend:s}),w=Object(o.a)(j,2),N=w[0],_=w[1],S=Object(n.useState)(null),C=Object(o.a)(S,2),y=C[0],I=C[1],x=Object(n.useState)({photo:{width:0,height:0},wallpaper:{width:0,height:0}}),A=Object(o.a)(x,2),k=A[0],B=A[1],T=Object(n.useState)({photo:null,wallpaper:null}),D=Object(o.a)(T,2),R=D[0],P=D[1],L=Object(n.useState)(!1),F=Object(o.a)(L,2),U=F[0],H=F[1],M=Object(n.useState)(""),z=Object(o.a)(M,2),G=z[0],Y=z[1],Q=function(e,t){var a=new FileReader;a.onloadend=function(){"photo"===t&&(O(Object(d.a)({},v,{photoSrc:a.result})),_(Object(d.a)({},N,{photoToSend:a.result})),Y("photo")),"wallpaper"===t&&(O(Object(d.a)({},v,{wallpaperSrc:a.result})),_(Object(d.a)({},N,{wallpaperToSend:a.result})),Y("wallpaper")),H(!0)},a.readAsDataURL(e.target.files[0]),_e(e).then(function(e){"photo"===t&&B(Object(d.a)({},k,{photo:{width:e.width,height:e.height}})),"wallpaper"===t&&B(Object(d.a)({},k,{wallpaper:{width:e.width,height:e.height}}))})};Object(n.useEffect)(function(){P(Object(d.a)({},R,{photo:k.photo.width/k.photo.height,wallpaper:k.wallpaper.width/k.wallpaper.height}))},[k]);var V=[{id:0,title:"",item:c.a.createElement(Ke,{image:"wallpaper"===G?v.wallpaperSrc:v.photoSrc,setCroppedImageResult:I,initialAspectRatio:"wallpaper"===G?R.wallpaper:R.photo})}];return Object(n.useEffect)(function(){a({profileState:f,pictureToSend:N})},[f,N]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:U,onClose:function(){H(!1),Y("")},title:"Edit Media",callback:function(){"photo"===G&&(console.log("from photo",y),O(Object(d.a)({},v,{photoSrc:URL.createObjectURL(y)})),_(Object(d.a)({},N,{photoToSend:y}))),"wallpaper"===G&&(console.log("from wallpaper",y),O(Object(d.a)({},v,{wallpaperSrc:URL.createObjectURL(y)})),_(Object(d.a)({},N,{wallpaperToSend:y})))},Icon:Et.a,ButtonText:"Apply"},c.a.createElement(ge,{items:V})),c.a.createElement("div",{className:"editProfile"},c.a.createElement("div",{className:"editProfile__theme",style:{backgroundImage:"url(".concat(v.wallpaperSrc&&v.wallpaperSrc,")")}},c.a.createElement("div",{className:"editProfile__theme-photoWrapper"},v.photoSrc&&c.a.createElement("img",{src:v.photoSrc,alt:"".concat(r)}),c.a.createElement("div",{className:"editProfile__btnWrapper"},c.a.createElement(le,{Icon:hn.a,type:"file",accept:"image/*",name:"image-upload",id:"input-wallpaper",onChange:function(e){Q(e,"photo"),Y("photo")}}))),c.a.createElement("div",{className:"editProfile__theme-themeActions"},c.a.createElement("div",null,c.a.createElement(le,{Icon:hn.a,type:"file",accept:"image/*",name:"image-upload",id:"input-photo",onChange:function(e){Q(e,"wallpaper"),Y("wallpaper")}})),c.a.createElement("div",null,c.a.createElement(ca.a,{onClick:function(){O(Object(d.a)({},v,{wallpaperSrc:null})),B(Object(d.a)({},k,{walpaper:{width:0,height:0}})),P(Object(d.a)({},R,{wallpaper:null})),_(Object(d.a)({},N,{wallpaperToSend:""}))}})," "))),c.a.createElement("form",{noValidate:!0,autoComplete:"off"},c.a.createElement(En.a,{id:"displayName",label:"Name",variant:"filled",value:f.displayName,onChange:function(e){return h(Object(d.a)({},f,{displayName:e.target.value}))}}),c.a.createElement(En.a,{id:"bio",label:"Bio",variant:"filled",value:f.bio,onChange:function(e){return h(Object(d.a)({},f,{bio:e.target.value}))}}),c.a.createElement(En.a,{id:"location",label:"Location",variant:"filled",value:f.location,onChange:function(e){return h(Object(d.a)({},f,{location:e.target.value}))}}),c.a.createElement(En.a,{id:"website",label:"Website",variant:"filled",value:f.website,onChange:function(e){return h(Object(d.a)({},f,{website:e.target.value}))},className:"lastbordered"}))))}),gn=function(e){var t=e.profile,a=b(),l=Object(o.a)(a,1)[0].user,r=Object(n.useState)([]),i=Object(o.a)(r,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(o.a)(u,2),p=d[0],E=d[1],f=Object(n.useState)(null),h=Object(o.a)(f,2),g=h[0],v=h[1],j=Object(n.useState)(null),w=Object(o.a)(j,2),N=w[0],_=w[1];return Object(n.useEffect)(function(){x.collection("users").doc(l.id).onSnapshot(function(e){e.empty||m(e.data()&&e.data().following)})},[]),Object(n.useEffect)(function(){t&&t.followers.length>0&&E(t.followers.filter(function(e){return s.includes(e)}))},[s,t]),Object(n.useEffect)(function(){var e=p.length;e>0&&(e>1&&x.collection("users").doc(p[1]).onSnapshot(function(e){_(e.data())}),x.collection("users").doc(p[0]).onSnapshot(function(e){v(e.data())}))},[p]),console.log(p),c.a.createElement("div",{className:"followedInfo"},p.length>0?c.a.createElement(c.a.Fragment,null,g&&c.a.createElement(O.a,{src:g.photoURL}),p.length>1&&N&&c.a.createElement(O.a,{src:N.photoURL}),c.a.createElement("span",null,"Followed by ","".concat(g?g.displayName:""," ")," ",2===p.length&&N?"and ".concat(N.displayName):""," ",p.length>2&&N?", ".concat(N.displayName,", and ").concat(p.length-2," others"):""," ")):c.a.createElement("span",null,"Not followed by anyone you follow"))},vn=(a(242),function(e){e.posts;var t=Object(n.useState)({bio:"",displayName:"",followers:[],following:[],location:"",photoURL:"",website:""}),a=Object(o.a)(t,2),l=a[0],r=a[1],m=b(),u=Object(o.a)(m,1)[0].user,p=Object(s.g)().username,E=Object(n.useState)({}),f=Object(o.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)(null),O=Object(o.a)(v,2),j=O[0],w=O[1],N=Object(n.useState)(null),_=Object(o.a)(N,2),S=_[0],C=_[1],y=Object(n.useState)(!1),I=Object(o.a)(y,2),A=I[0],k=I[1],B=Object(n.useState)(!1),T=Object(o.a)(B,2),D=T[0],R=T[1],P=Object(n.useState)(!1),L=Object(o.a)(P,2),U=L[0],H=L[1],M=Object(n.useState)(!1),z=Object(o.a)(M,2),G=z[0],Y=z[1],Q=(l&&l.id)===u.id,X=Object(n.useState)(!1),J=Object(o.a)(X,2),q=J[0],W=J[1],K=Object(n.useState)(!1),Z=Object(o.a)(K,2),$=Z[0],ee=Z[1],te=Object(n.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1];Object(n.useEffect)(function(){x.collection("users").where("username","==",p).onSnapshot(function(e){r(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[p]);return Object(n.useEffect)(function(){if(console.log("isPhotoReady: ".concat(A,", isWallpaperReady: ").concat(D)),A&&D){var e=h.profileState,t=e.displayName,a=e.bio,n=e.location,c=e.website;!function e(){x.collection("users").doc(u.id).update({displayName:t,bio:a,location:n,website:c,photoURL:j,wallpaper:S}).then(function(e){H(!1)}).catch(function(t){e()})}()}},[A,D]),Object(n.useEffect)(function(){l&&(Q||W(l.followers.includes(u.id)))},[l]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:G,onClose:function(){return Y(!1)},title:"Edit Profile",callback:function(){var e=h.pictureToSend,t=e.photoToSend,a=e.wallpaperToSend;H(!0),t===l.photoURL&&(w(l.photoURL),k(!0)),t!==l.photoURL&&function e(){return ve(t).then(function(e){w(e),k(!0)}).catch(function(t){e()})}(),a===l.wallpaper&&(C(l.wallpaper),R(!0)),a!==l.wallpaper&&(null===a?(C(""),R(!0)):function e(){ve(a).then(function(e){C(e),R(!0)}).catch(function(t){e()})}())},Icon:ca.a,ButtonText:"Save"},c.a.createElement(bn,{profile:l,setUpdatedProfileState:g})),c.a.createElement(en,{open:$,onClose:function(){return ee(!1)},imgsrc:ne}),c.a.createElement("div",{className:"userProfile"},c.a.createElement("div",{className:"userProfile__theme",style:{backgroundImage:"url(".concat(l&&l.wallpaper,")")}},c.a.createElement("div",{className:"photoWrapper"},l&&l.photoURL&&c.a.createElement("img",{src:l.photoURL,alt:"".concat(l.displayName),onClick:function(){return e=l.photoURL,ce(e),void ee(!0);var e}}))),c.a.createElement("div",{className:"infoWrapper"},c.a.createElement("div",{className:"userProfile__actions"},c.a.createElement("div",{className:"moreWrapper"},c.a.createElement(V.a,null)),!Q&&c.a.createElement("div",{className:"mailWrapper"},c.a.createElement(F.a,null)),Q?c.a.createElement("div",{className:"followWrapper",onClick:function(){return Y(!0)}},"Edit Profile"):q?c.a.createElement("div",{className:"followWrapper",onClick:function(){return ra(u.id,l.id)}},"Followed"):c.a.createElement("div",{className:"followWrapper",onClick:function(){return la(u.id,l.id)}},"Follow")),c.a.createElement("h2",null,l&&l.displayName),p&&c.a.createElement("span",null,"@".concat(p)),l&&c.a.createElement("p",null,l.bio),c.a.createElement("div",{className:"bioInfo"},l&&l.location&&c.a.createElement("div",null," ",c.a.createElement(Vt.a,null)," ",c.a.createElement("span",null,l.location)),l&&l.website&&c.a.createElement("div",{className:"blued"}," ",c.a.createElement(un.a,null)," ",c.a.createElement("span",null,l.website)),c.a.createElement("div",null,c.a.createElement(pn.a,null)," ",c.a.createElement("span",null,"Sep 2020"))),c.a.createElement("div",{className:"countInfo"},c.a.createElement(i.b,{to:"/profile/".concat(p,"/followinfo")},c.a.createElement("span",null,l&&l.following.length," ",c.a.createElement("p",null,"Following"))),c.a.createElement(i.b,{to:"/profile/".concat(p,"/followinfo")},c.a.createElement("span",null,void 0!==l&&l.followers.length," ",c.a.createElement("p",null,"Followers"))),Q&&U&&c.a.createElement("div",{className:"themeSpinner"}," ",c.a.createElement(xe,null)," ")),c.a.createElement("div",{className:"themeBottom"},!Q&&c.a.createElement(gn,{profile:l})))))}),On=a(106),jn=a.n(On),wn=function(){var e=Object(s.g)().username,t=Object(s.f)(),a=Object(n.useState)([]),l=Object(o.a)(a,2),r=l[0],i=l[1],m=Object(n.useState)(!1),u=Object(o.a)(m,2),p=u[0],E=u[1],f=Object(n.useState)({bio:"",displayName:"",followers:[],following:[],id:"",location:"",photoURL:"",username:"",wallpaper:"",website:""}),h=Object(o.a)(f,2),b=h[0],g=h[1];Object(n.useEffect)(function(){x.collection("users").where("username","==",e).onSnapshot(function(e){g(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[e]),Object(n.useEffect)(function(){E(!0),b&&x.collection("posts").where("senderId","==",b.id).orderBy("timestamp","desc").onSnapshot(function(e){i(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})),E(!1)})},[b]);var v=[{id:0,title:"Tweets",item:c.a.createElement(c.a.Fragment,null,p&&c.a.createElement("div",{className:"feed__loader"},c.a.createElement(ba,null)),c.a.createElement(Ea,{posts:r}))},{id:1,title:"Tweets & replies",item:c.a.createElement(c.a.Fragment,null,"  ",p&&c.a.createElement("div",{className:"feed__loader"},c.a.createElement(ba,null))," ")},{id:2,title:"Media",item:c.a.createElement(c.a.Fragment,null,p&&c.a.createElement("div",{className:"feed__loader"},c.a.createElement(ba,null)),c.a.createElement(Ea,{posts:r.filter(function(e){return e.image.length>0})}))},{id:3,title:"Likes",item:c.a.createElement(c.a.Fragment,null," ",p&&c.a.createElement("div",{className:"feed__loader"},c.a.createElement(ba,null))," ")}];return c.a.createElement("div",{className:"feed"},c.a.createElement("div",{className:"profile__header"},c.a.createElement("div",{className:"profile__backArrow",onClick:function(){return t.goBack()}},c.a.createElement(Et.a,null)),c.a.createElement("div",{className:"profile__title"},c.a.createElement("div",{className:"profile__title_title"},c.a.createElement("h2",null,b&&b.displayName),c.a.createElement(jn.a,null)),c.a.createElement("span",null,r&&r.length," tweets"))),c.a.createElement(vn,{profile:b}),c.a.createElement(ge,{items:v}))},Nn=(a(243),function(e){var t=e.posts,a=Object(n.useState)([]),l=Object(o.a)(a,2),r=l[0],i=l[1];return Object(n.useEffect)(function(){i(t.filter(function(e){return e.image.length>0}).slice(0,6).map(function(e){return e.image}))},[]),c.a.createElement("div",{className:"widgets__widgetContainerforPhotos"},c.a.createElement("div",{className:"wcfpRow"},c.a.createElement("div",{className:"square bcA",style:{backgroundImage:"url(".concat(r.length>0&&r[0],")")}}),c.a.createElement("div",{className:"square",style:{backgroundImage:"url(".concat(r.length>0&&r[1],")")}}),c.a.createElement("div",{className:"square bcB",style:{backgroundImage:"url(".concat(r.length>0&&r[2],")")}})),c.a.createElement("div",{className:"wcfpRow"},c.a.createElement("div",{className:"square bcD",style:{backgroundImage:"url(".concat(r.length>0&&r[3],")")}}),c.a.createElement("div",{className:"square",style:{backgroundImage:"url(".concat(r.length>0&&r[4],")")}}),c.a.createElement("div",{className:"square bcC",style:{backgroundImage:"url(".concat(r.length>0&&r[5],")")}})))}),_n=function(){var e=Object(s.g)().username,t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),u=m[0],p=m[1],E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],b=f[1];return Object(n.useEffect)(function(){x.collection("users").where("username","==",e).onSnapshot(function(e){b(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[e]),Object(n.useEffect)(function(){h&&x.collection("posts").where("senderId","==",h.id).orderBy("timestamp","desc").onSnapshot(function(e){r(e.docs.map(function(e){return e.data()}))})},[h]),c.a.createElement("div",{className:"widgets"},c.a.createElement(wa,{value:u,onChange:function(e){return p(e.target.value)},onClick:function(){return p("")},placeholder:"Search Twittie"}),l.length>0&&c.a.createElement(Nn,{posts:l}),c.a.createElement(ja,null),c.a.createElement(va,null))},Sn=function(){var e=Object(s.f)(),t=Object(s.g)().username,a=Object(n.useState)([]),l=Object(o.a)(a,2),r=l[0],i=l[1],m=Object(n.useState)([]),u=Object(o.a)(m,2),p=u[0],E=u[1],f=Object(n.useState)({}),h=Object(o.a)(f,2),b=h[0],g=h[1],v=Object(n.useState)([]),O=Object(o.a)(v,2),j=O[0],w=O[1];Object(n.useEffect)(function(){t&&x.collection("users").where("username","==",t).onSnapshot(function(e){g(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())})[0])})},[]),Object(n.useEffect)(function(){b.id&&x.collection("posts").where("senderId","==",b.id).orderBy("timestamp","desc").onSnapshot(function(e){w(e.docs.map(function(e){return e.data()}))})},[b]),Object(n.useEffect)(function(){b.id&&(console.log(b.displayName,b.id),x.collection("users").where("followers","array-contains",b.id).onSnapshot(function(e){i(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}),x.collection("users").where("following","array-contains",b.id).onSnapshot(function(e){E(e.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}))},[b]),console.log(r),console.log(p);var N=[{id:0,title:"Followers",item:c.a.createElement("ul",null,p&&p.map(function(e){return c.a.createElement("li",{key:e.id}," ",c.a.createElement(Oa,{display:e}))}))},{id:1,title:"Following",item:c.a.createElement("ul",null,r&&r.map(function(e){return c.a.createElement("li",{key:e.id}," ",c.a.createElement(Oa,{display:e}))}))}];return c.a.createElement("div",{className:"feed"},c.a.createElement("div",{className:"profile__header forFollow"},c.a.createElement("div",{className:"profile__backArrow",onClick:function(){return e.goBack()}},c.a.createElement(Et.a,null)),c.a.createElement("div",{className:"profile__title"},c.a.createElement("div",{className:"profile__title_title"},c.a.createElement("h2",null,b.displayName),c.a.createElement(jn.a,null)),c.a.createElement("span",null,j.length>0?"".concat(j.length," tweets"):""))),c.a.createElement(ge,{items:N}))},Cn=function(e){var t=e.props,a=e.profile,l=e.ownProfile,r=e.setIsOpenParentModal,i=e.originalPostSender,m=a.displayName,u=a.username,d=a.photoURL,p=a.verified,E=t.timestamp,f=t.text,h=t.image,b=t.altText,g=t.commentId,v=Ct(E),w=Object(s.f)(),N=Object(s.g)().postId,_=Object(n.useState)(null),S=Object(o.a)(_,2),C=S[0],I=S[1],A=Object(n.useState)(!1),k=Object(o.a)(A,2),B=k[0],T=k[1],D=Boolean(C),R=D?"post-popover":void 0,P=Object(n.useState)(""),L=Object(o.a)(P,2),F=L[0],U=L[1],H=Object(n.useState)(null),M=Object(o.a)(H,2),z=M[0],G=M[1],Y=Object(n.useState)(null),Q=Object(o.a)(Y,2),V=Q[0],X=Q[1],J=Object(n.useState)({width:0,height:0}),q=Object(o.a)(J,2),W=q[0],K=q[1],Z=Object(n.useState)(null),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ne=Object(n.useState)(null),re=Object(o.a)(ne,2),oe=re[0],ie=re[1],se=Object(n.useState)(!1),me=Object(o.a)(se,2),ue=me[0],de=me[1],pe=Object(n.useState)(Se(l.displayName)),Ee=Object(o.a)(pe,2),fe=Ee[0],he=Ee[1];Object(n.useEffect)(function(){te(W.width/W.height)},[W]);var be=[{id:0,title:"",icon:c.a.createElement(dt.a,null),item:c.a.createElement(Ke,{image:z,setCroppedImageResult:ie,initialAspectRatio:ee})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ze,{image:oe,altText:fe,setCommentAltText:he})}];Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:ue,onClose:function(){return de(!1)},title:"Edit Photo",callback:function(){G(URL.createObjectURL(oe)),X(oe),0===fe.length&&he(Se(m))},Icon:Et.a,ButtonText:"Save",setIsOpenParentModal:r},c.a.createElement(ge,{items:be})),c.a.createElement("div",{className:"reply"},c.a.createElement(gt.a,null,c.a.createElement(vt.a,null,c.a.createElement(Ot.a,null,c.a.createElement(O.a,{src:d}),c.a.createElement(jt.a,null)),c.a.createElement(wt.a,null,c.a.createElement("div",{className:"post__body upped"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,m," "," ",c.a.createElement("span",{className:"post__headerSpecial"},p&&c.a.createElement(_t.a,{className:"post__badge"}),"@".concat(u," . ").concat(E&&St(v))))),c.a.createElement("div",{className:"post__headerDescription"}," ",c.a.createElement("p",null," ",f," "))),h.length>0&&c.a.createElement("img",{src:h,alt:b}),c.a.createElement("span",{className:"replyingTo"},"Replying to ",c.a.createElement("p",null,"@".concat(u," @").concat(i&&i.username)))))),c.a.createElement(vt.a,null,c.a.createElement(Ot.a,null,c.a.createElement(O.a,{src:l.photoURL})),c.a.createElement(wt.a,null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),T(!0),V?ve(V).then(function(e){x.collection("posts").doc(N).collection("comments").doc(g).collection("threadComments").add({commentAltText:fe,text:F,image:e,likes:[],senderId:l.id,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),U(""),he(""),G(null),T(!1),r(!1),w.push("/status/".concat(N,"/").concat(g))}).catch(function(e){console.log(e),T(!1)}):(x.collection("posts").doc(N).collection("comments").doc(g).collection("threadComments").add({commentAltText:"",text:F,image:"",likes:[],senderId:l.id,timestamp:y.a.firestore.FieldValue.serverTimestamp()}),U(""),he(""),G(null),T(!1),r(!1),w.push("/status/".concat(N,"/").concat(g)))}},c.a.createElement("div",{className:"tweetBox__input upped"},c.a.createElement("textarea",{rows:"1",placeholder:"Tweet your reply",type:"text",value:F,onChange:function(e){return U(e.target.value)}})),z&&c.a.createElement("div",{className:"tweetBox__input-image"},c.a.createElement(et.a,{className:"cancelIcon",onClick:function(){return G(null)}}),c.a.createElement("img",{src:z,alt:"new test"}),c.a.createElement(ae.a,{className:"editImage",onClick:function(){return de(!0)}},"Edit")),c.a.createElement("div",{className:"tweetBox__input-actions"},c.a.createElement("div",{className:"tweetBox__input-icons"},c.a.createElement(le,{Icon:ct.a,type:"file",accept:"image/*",name:"comment-image-upload",id:"comment-image-upload",onChange:function(e){var t=new FileReader;t.onloadend=function(){G(t.result),X(t.result)},t.readAsDataURL(e.target.files[0]),_e(e).then(function(e){K({width:e.width,height:e.height})})}}),c.a.createElement(le,{Icon:mt.a}),c.a.createElement(le,{Icon:rt.a}),c.a.createElement(le,{Icon:at.a,"aria-describedby":R,type:"button",onClick:function(e){return I(e.currentTarget)}}),c.a.createElement(j.a,{id:R,open:D,anchorEl:C,onClose:function(){return I(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(ce.a,{onEmojiClick:function(e,t){var a=F+t.emoji;U(a)}})),c.a.createElement(le,{Icon:it.a})),B?c.a.createElement(ae.a,{className:"tweetBox__tweetButton"},c.a.createElement(xe,null)):c.a.createElement(ae.a,{type:"submit",className:"tweetBox__tweetButton"},"Reply"))))))))},yn=Object(n.forwardRef)(function(e,t){var a=e.commentAltText,l=e.text,r=e.image,m=e.timestamp,u=e.senderId,p=e.commentId,E=e.likes,f=e.statusUsername,h=Object(s.f)(),g=Object(s.g)().postId,v=Ct(m),w=Object(n.useState)(null),_=Object(o.a)(w,2),S=_[0],C=_[1],y=Boolean(S),I=y?"post-popover":void 0,A=b(),k=Object(o.a)(A,1)[0].user,B=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),T=Object(o.a)(B,2),D=T[0],R=T[1],P=D.displayName,L=D.username,F=D.photoURL,U=D.verified,H=Object(n.useState)(null),M=Object(o.a)(H,2),z=M[0],G=M[1],Y=Object(n.useState)(null),Q=Object(o.a)(Y,2),V=Q[0],X=Q[1],J=Object(n.useState)(null),q=Object(o.a)(J,2),W=q[0],K=q[1],Z=Object(n.useState)(!1),$=Object(o.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)([]),ne=Object(o.a)(ae,2),ce=ne[0],le=ne[1],re=function(e){return h.push("/status/".concat(g,"/").concat(e))},oe=Object(n.useState)(!1),ie=Object(o.a)(oe,2),se=ie[0],me=ie[1];Object(n.useEffect)(function(){var e=!0;return x.collection("users").doc(k.id).onSnapshot(function(t){e&&G(Object(d.a)({id:k.id},t.data()))}),x.collection("users").doc(u).onSnapshot(function(t){e&&R(t.data())}),x.collection("posts").doc(g).collection("comments").doc(p).collection("threadComments").onSnapshot(function(t){e&&le(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))}),x.collection("posts").doc(g).onSnapshot(function(t){e&&X(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return V&&x.collection("users").doc(V.senderId).onSnapshot(function(t){e&&K(t.data())}),function(){return e=!1}},[V]),Object(n.useEffect)(function(){D&&me(D.followers.includes(k.id))},[D]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:ee,onClose:function(){return te(!1)},title:"",callback:function(){},Icon:ca.a,ButtonText:""},c.a.createElement(Cn,{props:{threadAlttext:a,image:r,timestamp:m,senderId:u,commentId:p,likes:E},profile:D,ownProfile:z,setIsOpenParentModal:function(e){return te(e)},originalPostSender:W})),c.a.createElement("div",{className:"post",ref:t},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(O.a,{src:F})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,P," "," ",c.a.createElement("span",{className:"post__headerSpecial"},U&&c.a.createElement(_t.a,{className:"post__badge"}),"@","".concat(L," . ").concat(m&&St(v)))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":I,variant:"contained",onClick:function(e){return C(e.currentTarget)}},c.a.createElement(N.a,null)),c.a.createElement(j.a,{id:I,open:y,anchorEl:S,onClose:function(){return C(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},u===k.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){return ma(g,p)}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ht.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(zt.a,null)),c.a.createElement("h3",null,"View Tweet activity"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Not interested in this tweet")),se?c.a.createElement("li",{onClick:function(){return ra(k.id,u)}},c.a.createElement("div",null,c.a.createElement(ea.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(L))):c.a.createElement("li",{onClick:function(){return la(k.id,u)}},c.a.createElement("div",null,c.a.createElement(aa.a,null)),c.a.createElement("h3",null,"Follow ","@".concat(L))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Zt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Wt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(L))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")))))),f&&c.a.createElement("div",{className:"post__replyingTo"},"Replying To ",c.a.createElement(i.b,{to:"/profile/".concat(f)},"@".concat(f))),c.a.createElement("div",{className:"post__headerDescription",onClick:function(){return re(p)}},c.a.createElement("p",null," ",l," "))),r.length>0&&c.a.createElement("img",{src:r,alt:a,onClick:function(){return re(p)}}),c.a.createElement("div",{className:"post__footer"},c.a.createElement(bt,{Icon:Dt.a,value:ce.length,onClick:function(){return te(!0)}}),c.a.createElement(bt,{Icon:Pt.a,value:0}),c.a.createElement(Bt,{likes:E,likeAction:function(){return ua(g,p,k.id)},unlikeAction:function(){return da(g,p,k.id)}}),c.a.createElement(bt,{Icon:Ft.a,value:0})))))}),In=function(e){var t=e.comments,a=e.statusUsername;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.a,null,t.map(function(e){return c.a.createElement(yn,{key:e.id,commentId:e.id,commentAltText:e.commentAltText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,timestamp:e.timestamp,likes:e.likes,statusUsername:a})})))},xn=function(e){var t=e.status,a=e.comments,l=Object(s.g)().postId,r=b(),i=Object(o.a)(r,1)[0].user,m=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),u=Object(o.a)(m,2),d=u[0],p=u[1],E=d.displayName,f=d.username,h=d.photoURL,g=d.verified,v=t.altText,w=t.text,_=t.image,S=t.timestamp,C=t.senderId,y=t.likes,I=Ct(S),A=Object(s.f)(),k=Object(n.useState)(!1),B=Object(o.a)(k,2),T=B[0],D=B[1],R=Object(n.useState)(null),P=Object(o.a)(R,2),L=P[0],F=P[1],U=Boolean(L),H=U?"post-popover":void 0,M=Object(n.useState)(!1),z=Object(o.a)(M,2),G=z[0],Y=z[1];Object(n.useEffect)(function(){var e=!0;return x.collection("users").doc(C).onSnapshot(function(t){e&&p(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){d&&Y(d.followers.includes(i.id))},[d]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:T,onClose:function(){return D(!1)},title:"",callback:function(){},Icon:ca.a,ButtonText:""},c.a.createElement(yt,{props:{altText:v,text:w,image:_,timestamp:S,senderId:C,postId:l,likes:y},profile:d,ownProfile:i,setIsOpenParentModal:function(e){return D(e)}})),c.a.createElement("div",{className:"statusPost"},c.a.createElement("div",{className:"post bottomWhited"},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(O.a,{src:h})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("div",{className:"post__statusPostHeader"},c.a.createElement("h3",null,E," ",g&&c.a.createElement(_t.a,{className:"post__badge"})," "),c.a.createElement("span",{className:"post__headerSpecial"},f&&"@".concat(f," "))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":H,variant:"contained",onClick:function(e){return F(e.currentTarget)}},c.a.createElement(N.a,null)),c.a.createElement(j.a,{id:H,open:U,anchorEl:L,onClose:function(){return F(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},C===i.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){oa(l),A.push("/")}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ht.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(zt.a,null)),c.a.createElement("h3",null,"View Tweet activity"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Not interested in this tweet")),G?c.a.createElement("li",{onClick:function(){return ra(i.id,C)}},c.a.createElement("div",null,c.a.createElement(ea.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(f))):c.a.createElement("li",{onClick:function(){return la(i.id,C)}},c.a.createElement("div",null,c.a.createElement(aa.a,null)),c.a.createElement("h3",null,"Follow ","@".concat(f))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Zt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Wt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(f))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet"))))))))),c.a.createElement("div",{className:"statusPost__body"},c.a.createElement("div",{className:"statusPost__body--message"},w),_&&c.a.createElement("img",{src:_,alt:v}),c.a.createElement("div",{className:"statusPost__body--date"},S&&St(I))),c.a.createElement("div",{className:"statusPost__footer"},c.a.createElement("div",{className:"post__footer"},c.a.createElement(bt,{Icon:Dt.a,value:a.length,onClick:function(){return D(!0)}}),c.a.createElement(bt,{Icon:Pt.a,value:0}),c.a.createElement(Bt,{likes:y,likeAction:function(){return ia(l,i.id)},unlikeAction:function(){return sa(l,i.id)}}),c.a.createElement(bt,{Icon:Ft.a,value:0})))))},An=(a(129),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),m=i[0],u=i[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(s.f)(),g=Object(s.g)().postId;return Object(n.useEffect)(function(){var e=!0;return g&&(x.collection("posts").doc(g).onSnapshot(function(t){e&&u(Object(d.a)({},t.data()))}),x.collection("posts").doc(g).collection("comments").orderBy("timestamp","desc").onSnapshot(function(t){e&&l(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))})),function(){return e=!1}},[g]),Object(n.useEffect)(function(){var e=!0;return m&&x.collection("users").doc(m.senderId).onSnapshot(function(t){e&&h(t.data().username)}),function(){return e=!1}},[m]),c.a.createElement("div",{className:"feed"},c.a.createElement("div",{className:"status__header"},c.a.createElement("div",{className:"status__backArrow",onClick:function(){return b.goBack()}},c.a.createElement(Et.a,null)),c.a.createElement("h2",null,"Tweet")),m&&c.a.createElement(xn,{status:m,comments:a}),!1,c.a.createElement(In,{comments:a,statusUsername:f}))}),kn=Object(n.forwardRef)(function(e,t){var a=e.commentAltText,l=e.text,r=e.image,m=e.timestamp,u=e.senderId,d=e.threadCommentId,p=(e.likes,e.statusUsername),E=e.originalPostUsername,f=Object(s.g)(),h=f.postId,g=f.commentId,v=Ct(m),w=Object(n.useState)(null),_=Object(o.a)(w,2),S=_[0],C=_[1],y=Boolean(S),I=y?"post-popover":void 0,A=b(),k=Object(o.a)(A,1)[0].user,B=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:""}),T=Object(o.a)(B,2),D=T[0],R=T[1],P=D.displayName,L=D.username,F=D.photoURL,U=D.verified;Object(n.useEffect)(function(){x.collection("users").doc(u).onSnapshot(function(e){R(e.data())})},[]);var H=function(e,t,a){!function(e,t,a){x.collection("posts").doc(e).collection("comments").doc(t).collection("threadComments").doc(a).delete()}(e,t,a)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"post",ref:t},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(O.a,{src:F})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,P," "," ",c.a.createElement("span",{className:"post__headerSpecial"},U&&c.a.createElement(_t.a,{className:"post__badge"}),"@","".concat(L," . ").concat(m&&St(v)))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":I,variant:"contained",onClick:function(e){return C(e.currentTarget)}},c.a.createElement(N.a,null)),c.a.createElement(j.a,{id:I,open:y,anchorEl:S,onClose:function(){return C(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},u===k.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){return H(h,g,d)}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ht.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(zt.a,null)),c.a.createElement("h3",null,"View Tweet activity"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Not interested in this tweet")),c.a.createElement("li",{onClick:function(){return ra(k.id,u)}},c.a.createElement("div",null,c.a.createElement(ea.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(L))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Zt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Wt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(L))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")))))),p&&c.a.createElement("div",{className:"post__replyingTo"},"Replying To",c.a.createElement(i.b,{to:"/profile/".concat(p)},"@".concat(p," ")),c.a.createElement(i.b,{to:"/profile/".concat(E)},"@".concat(E))),c.a.createElement("div",{className:"post__headerDescription"},c.a.createElement("p",null," ",l," "))),r.length>0&&c.a.createElement("img",{src:r,alt:a}))))}),Bn=function(e){var t=e.comments,a=e.statusUsername,n=e.originalPostUsername;return c.a.createElement(ht.a,null,t.map(function(e){return c.a.createElement(kn,{key:e.id,threadCommentId:e.id,commentAltText:e.commentAltText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,timestamp:e.timestamp,likes:e.likes,statusUsername:a,originalPostUsername:n})}))},Tn=function(e){var t=e.status,a=e.comments,l=Object(s.g)(),r=l.postId,m=l.commentId,u=b(),p=Object(o.a)(u,1)[0].user,E=Object(n.useState)(null),f=Object(o.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)(null),w=Object(o.a)(v,2),_=w[0],S=w[1],C=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),y=Object(o.a)(C,2),I=y[0],A=y[1],k=I.displayName,B=I.username,T=I.photoURL,D=I.verified,R=Object(n.useState)(null),P=Object(o.a)(R,2),L=P[0],F=P[1],U=t.commentAltText,H=t.text,M=t.image,z=t.timestamp,G=t.senderId,Y=t.likes,Q=Ct(z),V=Object(s.f)(),X=Object(n.useState)(!1),J=Object(o.a)(X,2),q=J[0],W=J[1],K=Object(n.useState)(null),Z=Object(o.a)(K,2),$=Z[0],ee=Z[1],te=Boolean($),ae=te?"post-popover":void 0,ne=Object(n.useState)(!1),ce=Object(o.a)(ne,2),le=ce[0],re=ce[1];Object(n.useEffect)(function(){var e=!0;return x.collection("users").doc(p.id).onSnapshot(function(t){e&&F(Object(d.a)({id:p.id},t.data()))}),x.collection("users").doc(G).onSnapshot(function(t){e&&A(t.data())}),x.collection("posts").doc(r).onSnapshot(function(t){e&&g(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=!0;return h&&x.collection("users").doc(h.senderId).onSnapshot(function(t){e&&S(t.data())}),function(){return e=!1}},[h]),Object(n.useEffect)(function(){I&&re(I.followers.includes(p.id))},[I]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie,{open:q,onClose:function(){return W(!1)},title:"",callback:function(){},Icon:ca.a,ButtonText:""},c.a.createElement(Cn,{props:{threadAltText:U,text:H,image:M,timestamp:z,senderId:G,postId:r,likes:Y,commentId:m},profile:I,ownProfile:L,originalPostSender:_,setIsOpenParentModal:function(e){return W(e)}})),c.a.createElement("div",{className:"statusPost"},c.a.createElement("div",{className:"post bottomWhited"},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(O.a,{src:T})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("div",{className:"post__statusPostHeader"},c.a.createElement("h3",null,k," ",D&&c.a.createElement(_t.a,{className:"post__badge"})," "),c.a.createElement("span",{className:"post__headerSpecial"},B&&"@".concat(B," "))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":ae,variant:"contained",onClick:function(e){return ee(e.currentTarget)}},c.a.createElement(N.a,null)),c.a.createElement(j.a,{id:ae,open:te,anchorEl:$,onClose:function(){return ee(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},G===p.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){return function(e,t){ma(e,t),V.push("/status/".concat(e))}(r,m)}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ht.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(zt.a,null)),c.a.createElement("h3",null,"View Tweet activity"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Not interested in this tweet")),le?c.a.createElement("li",{onClick:function(){return ra(p.id,G)}},c.a.createElement("div",null,c.a.createElement(ea.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(B))):c.a.createElement("li",{onClick:function(){return la(p.id,G)}},c.a.createElement("div",null,c.a.createElement(aa.a,null)),c.a.createElement("h3",null,"Follow ","@".concat(B))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Zt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Wt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(B))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Yt.a,null)),c.a.createElement("h3",null,"Embed Tweet"))))))))),_&&c.a.createElement("div",{className:"post__replyingTo addMoreLeftPadd"},"Replying To ",c.a.createElement(i.b,{to:"/profile/".concat(B)},"@".concat(B)),"  ",c.a.createElement(i.b,{to:"/profile/".concat(_.username)},"@".concat(_.username))),c.a.createElement("div",{className:"statusPost__body"},c.a.createElement("div",{className:"statusPost__body--message"},H),M&&c.a.createElement("img",{src:M,alt:U}),c.a.createElement("div",{className:"statusPost__body--date"},z&&St(Q))),c.a.createElement("div",{className:"statusPost__footer"},c.a.createElement("div",{className:"post__footer"},c.a.createElement(bt,{Icon:Dt.a,value:a.length,onClick:function(){return W(!0)}}),c.a.createElement(bt,{Icon:Pt.a,value:0}),c.a.createElement(Bt,{likes:Y,likeAction:function(){return ua(r,m,p.id)},unlikeAction:function(){return da(r,m,p.id)}}),c.a.createElement(bt,{Icon:Ft.a,value:0})))))},Dn=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),m=i[0],u=i[1],p=Object(n.useState)(""),E=Object(o.a)(p,2),f=E[0],h=E[1],b=Object(n.useState)(null),g=Object(o.a)(b,2),v=g[0],O=g[1],j=Object(n.useState)(""),w=Object(o.a)(j,2),N=w[0],_=w[1],S=Object(s.f)(),C=Object(s.g)(),y=C.postId,I=C.commentId;return Object(n.useEffect)(function(){var e=!0;return y&&(x.collection("posts").doc(y).onSnapshot(function(t){e&&O(t.data())}),x.collection("posts").doc(y).collection("comments").doc(I).onSnapshot(function(t){e&&u(Object(d.a)({},t.data()))}),x.collection("posts").doc(y).collection("comments").doc(I).collection("threadComments").orderBy("timestamp","desc").onSnapshot(function(t){e&&l(t.docs.map(function(e){return Object(d.a)({id:e.id},e.data())}))})),function(){return e=!1}},[y]),Object(n.useEffect)(function(){var e=!0;return v&&x.collection("users").doc(v.senderId).onSnapshot(function(t){e&&_(t.data().username)}),function(){return e=!1}},[v]),Object(n.useEffect)(function(){var e=!0;return m&&x.collection("users").doc(m.senderId).onSnapshot(function(t){e&&h(t.data().username)}),function(){return e=!1}},[m]),c.a.createElement("div",{className:"feed"},c.a.createElement("div",{className:"status__header"},c.a.createElement("div",{className:"status__backArrow",onClick:function(){return S.goBack()}},c.a.createElement(Et.a,null)),c.a.createElement("h2",null,"Thread")),m&&c.a.createElement(Tn,{status:m,comments:a}),!1,c.a.createElement(Bn,{comments:a,statusUsername:f,originalPostUsername:N}))},Rn=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1];return c.a.createElement("div",{className:"widgets"},c.a.createElement(wa,{value:a,onChange:function(e){return l(e.target.value)},onClick:function(){return l("")},placeholder:"Search Twittie"}),c.a.createElement(va,null))},Pn=a(157),Ln=a.n(Pn),Fn=(a(244),function(){return c.a.createElement("div",{className:"bottomNav"},c.a.createElement("nav",null,c.a.createElement(i.c,{exact:!0,to:"/",activeClassName:"bottomNav__active"},c.a.createElement(B.a,null)),c.a.createElement(i.c,{to:"/search",activeClassName:"bottomNav__active"},c.a.createElement(Ln.a,null)),c.a.createElement(i.c,{to:"/notifications",activeClassName:"bottomNav__active"},c.a.createElement(P.a,null)),c.a.createElement(i.c,{to:"/messages",activeClassName:"bottomNav__active"},c.a.createElement(F.a,null))))}),Un=(a(245),function(){var e=b(),t=Object(o.a)(e,2),a=t[0].user,l=t[1];return Object(n.useEffect)(function(){l({type:E,user:JSON.parse(localStorage.getItem("twittie_user"))})},[]),c.a.createElement("div",{className:"app"},a?c.a.createElement(i.a,null,c.a.createElement("div",{className:"app__mainContent"},c.a.createElement(ee,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/"},c.a.createElement("div",{className:"app__main"},c.a.createElement(ga,null),c.a.createElement(Na,null))),c.a.createElement(s.a,{path:"/messages"},c.a.createElement(La,null,c.a.createElement("div",{className:"app__main"},c.a.createElement(Ma,null),c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/messages/:roomId",exact:!0},c.a.createElement(an,null)),c.a.createElement(s.a,{path:"/messages/:roomId/info"},c.a.createElement(ln,null)))))),c.a.createElement(s.a,{path:"/profile/:username"},c.a.createElement("div",{className:"app__main"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/profile/:username",exact:!0,component:wn}),c.a.createElement(s.a,{path:"/profile/:username/followinfo",render:function(){return c.a.createElement(Sn,null)}})),c.a.createElement(_n,null))),c.a.createElement(s.a,{path:"/status/:postId"},c.a.createElement("div",{className:"app__main"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/status/:postId",exact:!0},c.a.createElement(An,null)),c.a.createElement(s.a,{path:"/status/:postId/:commentId"},c.a.createElement(Dn,null))),c.a.createElement(Rn,null))))),c.a.createElement(Fn,null)):c.a.createElement(sn,null))});r.a.render(c.a.createElement(g,null,c.a.createElement($,null,c.a.createElement(Un,null))),document.querySelector("#root"))},93:function(e,t,a){}},[[178,1,2]]]);
//# sourceMappingURL=main.ecb47282.chunk.js.map