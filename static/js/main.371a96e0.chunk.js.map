{"version":3,"sources":["assets/backdrop.png","contexts/StateReducers.js","contexts/StateContextProvider.jsx","components/SidebarOption/SidebarOption.jsx","firebase.js","components/SidebarAccount/SidebarAccount.jsx","contexts/IsRoomOpenedReducers.js","contexts/IsRoomOpenedContextProvider.jsx","components/Sidebar/Sidebar.jsx","components/StatusInput/StatusInput.jsx","elements/TabbarMenu/TabbarMenu.jsx","helpers/postToCloudinary.js","helpers/getImageDimension.js","helpers/generateAltText.js","elements/Modal/Modal.jsx","elements/Spinner/Spinner.jsx","elements/Slider/Slider.jsx","components/EditPhoto/CropPhotoB.jsx","components/EditPhoto/AddALT.jsx","components/TweetBox/TweetBox.jsx","components/Post/FooterIcon.jsx","helpers/timeDifference.js","helpers/convertTimestampToLocaleString.js","components/Reply/Reply.jsx","components/Post/Like.jsx","server/serverActions.js","components/Post/Post.jsx","components/Posts/Posts.jsx","elements/Loader/Loader.jsx","components/Feed/Feed.jsx","components/WidgetsTrends/WidgetsTrends.jsx","components/UserItem/UserItemFollow.jsx","components/WidgetsFollow/WidgetsFollow.jsx","elements/SearchWidget/SearchWidget.jsx","components/Widgets/Widgets.jsx","elements/Search/Search.jsx","components/UserItem/UserItem.jsx","components/UserItem/UserExist.jsx","contexts/ChatReducers.js","contexts/ChatContextProvider.jsx","components/SearchUser/SearchUser.jsx","helpers/lastMessageTime.js","components/SidebarChatOption/SidebarChatOption.jsx","components/SidebarChat/SidebarChat.jsx","elements/Modal/ModalImage.jsx","components/MessageItem/MessageItem.jsx","components/Chat/Chat.jsx","components/ConversationInfo/ConversationInfo.jsx","components/Login/Login.jsx","helpers/inputValidator.js","components/EditProfile/EditProfile.jsx","components/FollowingEquality/FollowingEquality.jsx","components/ProfileTheme/ProfileTheme.jsx","components/Profile/Profile.jsx","components/WidgetsPhoto/WidgetsPhoto.jsx","components/ProfileWidgets/ProfileWidgets.jsx","components/ProfileFollow/ProfileFollow.jsx","components/ReplyComment/ReplyComment.jsx","components/Comment/Comment.jsx","components/Comments/Comments.jsx","components/StatusPost/StatusPost.jsx","components/Status/Status.jsx","components/ThreadComment/ThreadComment.jsx","components/ThreadComments/ThreadComments.jsx","components/CommentPost/CommentPost.jsx","components/CommentThread/CommentThread.jsx","components/StatusWidget/StatusWidget.jsx","elements/BottomNav/BottomNav.jsx","App.js","index.js"],"names":["module","exports","initialState","user","actionTypes","stateReducer","state","action","type","Object","objectSpread","StateContext","createContext","useStateValue","useContext","StateContextProvider","_ref","children","react_default","a","createElement","Provider","value","useReducer","StateReducers","SidebarOptions","active","text","Icon","onClick","_useStateValue","slicedToArray","isHome","redirect","concat","toLowerCase","username","react_router_dom","to","exact","className","activeClassName","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","GoogleAuthProvider","SidebarAccount","useHistory","_useState","useState","_useState2","profile","setProfile","_useState3","_useState4","anchorEl","setAnchorEl","open","Boolean","id","undefined","useEffect","collection","doc","onSnapshot","res","data","Fragment","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","style","transform","Avatar","src","photoURL","displayName","Check_default","localStorage","clear","window","location","reload","aria-describedby","variant","event","currentTarget","ExpandMore_default","isRoomOpened","isRoomOpenededucer","IsRoomOpenedContext","useRoomState","IsRoomOpenedContextProvider","IsRoomOpenedReducers","Sidebar","_useRoomState","_useRoomState2","dispatch","Twitter_default","SidebarOption_SidebarOption","HomeIcon","SearchIcon","NotificationsNoneIcon","MailOutlineIcon","BookmarkBorderIcon","ListAltIcon","PermIdentityIcon","MoreHorizIcon","dir","viewBox","fill","d","components_SidebarAccount_SidebarAccount","StatusInput","accept","name","htmlFor","onChange","display","TabPanel","props","index","other","objectWithoutProperties","assign","role","hidden","aria-labelledby","Box","p","Typography","component","useStyles","makeStyles","theme","root","backgroundColor","palette","background","paper","FullWidthTabs","items","classes","useTheme","_React$useState","React","_React$useState2","setValue","AppBar","position","color","Tabs","newValue","indicatorColor","textColor","aria-label","map","item","Tab","key","icon","label","title","aria-controls","lib_default","axis","direction","onChangeIndex","postToCloudinary","file","Promise","resolve","reject","imageUri","console","log","FormData","append","fetch","method","body","then","json","url","catch","err","imageDimensions","img","Image","onload","width","naturalWidth","height","naturalHeight","onerror","URL","createObjectURL","getInfo","_ref2","asyncToGenerator","regenerator_default","mark","_callee","files","_files","wrap","_context","prev","next","target","abrupt","sent","t0","error","stop","_x","apply","this","arguments","generateAltText","imageUrl","t","Date","getMonth","getDate","getFullYear","CommonModal","callback","ButtonText","react_responsive_modal_dist_default","length","Button","Spinner","minWidth","ContinuousSlider","val","setVal","Grid","container","spacing","RemoveCircleOutlineOutlined_default","xs","Slider","min","max","AddCircleOutlineOutlined_default","CreatePost","crop","unit","aspect","_this","initialAspectRatio","originalImageSize","croppedImageUrl","zoomScale","onImageLoaded","image","imageRef","onCropChange","setState","onCropComplete","getCroppedImg","onChangeAspectRatio","num","onChangeZoomScale","_this2","canvas","document","scaleX","scaleY","getContext","drawImage","x","y","reader","FileReader","toBlob","blob","readAsDataURL","onloadend","dataURLtoFile","result","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","croppedImage","File","_this$props","prevProps","prevState","setCroppedImageResult","newScale","querySelector","_this3","_this$state","ReactCrop_min_default","ruleOfThirds","onComplete","CropPortrait_default","Crop169_default","Crop32_default","PureComponent","AddALT","altText","setAltText","alt","cols","rows","e","TweetBox","tweetMessage","setTweetMessage","_useState5","_useState6","_useState7","_useState8","setSrc","_useState9","_useState10","imageToSend","setImageToSend","_useState11","_useState12","isOpenModal","setIsOpenModal","_useState13","_useState14","initialImageSize","setinitialImageSize","_useState15","_useState16","setinitialAspectRatio","_useState17","_useState18","croppedImageResult","_useState19","_useState20","_useState21","_useState22","isLoading","setIsloading","snapshot","Crop_default","CropPhotoB","components_EditPhoto_AddALT","addEventListener","el","setTimeout","cssText","scrollHeight","Modal_Modal","ArrowBackOutlinedIcon","onSubmit","preventDefault","add","likes","senderId","timestamp","FieldValue","serverTimestamp","placeholder","Cancel_default","components_StatusInput_StatusInput","ImageOutlinedIcon","fileReader","GifOutlinedIcon","EqualizerOutlinedIcon","SentimentSatisfiedOutlinedIcon","borderRadius","dist_default","onEmojiClick","emojiObject","newMessage","emoji","EventNoteSharpIcon","elements_Spinner_Spinner","FooterIcon","timeDifference","postedTime","_postedTime$split","_postedTime$split2","date","time","_date$split","_date$split2","month","day","year","_time$split","_time$split2","_map","i","parseInt","_map2","year1","month1","day1","hour1","minute1","second1","today","year2","month2","day2","hour2","getHours","minute2","getMinutes","second2","getSeconds","isLeap","yy","secs","mo","h","mi","s","sd","days","monthList","del","Math","trunc","disp","y1","mo1","d1","h1","mi1","s1","y2","mo2","d2","h2","mi2","s2","secs1","secs2","gap","D","dif","convertTimestampToLocaleString","toDate","toLocaleString","hour12","Reply","ownProfile","setIsOpenParentModal","verified","postId","history","commentMessage","setCommentMessage","commentAltText","setCommentAltText","Timeline","TimelineItem","TimelineSeparator","TimelineConnector","TimelineContent","VerifiedUser_default","util","push","newComment","Like","likeAction","unlikeAction","isLiked","setisLiked","includes","Favorite_default","FavoriteBorder_default","follow","userId","followId","userRef","followRef","update","following","arrayUnion","followers","unfollow","arrayRemove","deletePost","delete","like","unlike","deleteComment","commentId","likeComment","unlikeComment","Post","forwardRef","ref","setOwnProfile","comments","setComments","isFollowing","setIsFollowing","redirectToStatus","docs","comment","CloseIcon","components_Reply_Reply","DeleteOutline_default","Place_default","Code_default","BarChart_default","SentimentVeryDissatisfied_default","PersonAddDisabled_default","PersonAdd_default","PostAdd_default","Block_default","components_Post_FooterIcon","ChatBubbleOutlineIcon","RepeatIcon","Post_Like","PublishIcon","Posts","posts","react_flip_move_es","post","components_Post_Post","avatar","& > * + *","marginLeft","CircularIndeterminate","CircularProgress","Feed","setPosts","loading","setLoading","setFollowing","mounted","where","toConsumableArray","orderBy","empty","components_TweetBox_TweetBox","components_Posts_Posts","WidgetTrends","UserItemFollow","WidgetFollow","users","setUsers","limit","filter","u","components_UserItem_UserItemFollow","SearchWidget","focus","setFocus","isInputPressed","setIsInputPressed","Search_default","onFocus","onBlur","Widgets","setText","elements_SearchWidget_SearchWidget","WidgetsTrends_WidgetsTrends","WidgetsFollow_WidgetsFollow","Search","SearchOutlined_default","UserItem","photourl","clicked","UserExist","roomId","members","opp","setOpp","userInfo","setUserInfo","member","toString","Action","chatReducer","room","ChatContext","ChatContextProvider","_useReducer","_useReducer2","rooms","SearchUser","search","setSearch","existingRooms","setExistingRooms","results","setResults","_useContext","memberList","uniqueMemberList","onChipDelete","deleteChip","unsubscribe","forEach","indexOf","get","resUser","Chip","onDelete","LinearProgress","components_UserItem_UserItem","some","UserItem_UserExist","helpers_lastMessageTime","sumSecs","displayOutput","secsDifference","SidebarChatOption","messages","setMessages","contact","setContact","message","slice","interpretDate","SidebarChat","isMobile","useMediaQuery","maxWidth","alias","components_SearchUser_SearchUser","MailOutline_default","elements_Search_Search","components_SidebarChatOption_SidebarChatOption","modal","alignItems","justifyContent","outline","ModalImage","imgsrc","esm_Modal_Modal","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","MessageItem","msg","setOpen","setImgsrc","_msg$data","onClickImage","Modal_ModalImage","DoneAll_default","Chat","useParams","setMembers","setDisplay","_useState23","_useState24","_useState25","_useState26","sendMessage","ArrowBackOutlined_default","Info_default","components_MessageItem_MessageItem","InsertPhotoOutlinedIcon","GifOutlined_default","SentimentSatisfiedOutlined_default","Send_default","ConversationInfo","checkedB","goBack","Switch","checked","defineProperty","inputProps","Login","setAuth","initialSignup","email","password","confirmPassword","initialLogin","_useStateValue2","signupState","setSignupState","loginState","setLoginState","setError","isSigning","setIsSigning","toggleAuth","bio","joined","wallpaper","backdrop","autoComplete","setItem","JSON","stringify","parse","getItem","auths","required","values","errors","erUsername","erName","test","erEmail","erPassword","erPasswords","validate","EditProfile","setUpdatedProfileState","website","profileState","setProfileState","photoSrc","wallpaperSrc","photoToSend","wallpaperToSend","pictureToSend","setPictureToSend","photo","activeModal","setActiveModal","onSelectFile","kind","backgroundImage","AddAPhotoOutlinedIcon","Close_default","walpaper","noValidate","TextField","FollowingEquality","myFollowing","setMyFollowing","equality","setEquality","user1","setUser1","user2","setUser2","equalityLength","ProfileTheme","updatedProfileState","finalPhoto","setFinalPhoto","finalWallpaper","setFinalWallpaper","isPhotoReady","setIsPhotoReady","isWallpaperReady","setIsWallpaperReady","isUpdating","setIsUpdating","isMe","openImage","setOpenImage","_updatedProfileState$2","doUpdate","_updatedProfileState$","doFetch","components_EditProfile_EditProfile","MoreHoriz_default","InsertLink_default","DateRange_default","components_FollowingEquality_FollowingEquality","CheckCircle_default","components_ProfileTheme_ProfileTheme","WidgetsPhoto","photos","setPhotos","components_WidgetsPhoto_WidgetsPhoto","ProfileFollow","setFollowers","ReplyComment","originalPostSender","Comment","statusUsername","originalPost","setOriginalPost","setOriginalPostSender","threadComments","setThreadComments","redirectToThread","threadComment","components_ReplyComment_ReplyComment","threadAlttext","Comments","Comment_Comment","StatusPost","status","Status","setStatus","setStatusUsername","components_StatusPost_StatusPost","components_Comments_Comments","ThreadComment","threadCommentId","originalPostUsername","_useParams","deleteMyThreadComment","deleteThreadComment","ThreadComments","ThreadComment_ThreadComment","CommentPost","threadAltText","deleteMyComment","setOriginalPostUsername","components_CommentPost_CommentPost","components_ThreadComments_ThreadComments","StatusWidget","BottomNav","Home_default","PanoramaFishEye_default","NotificationsNone_default","App","components_Sidebar_Sidebar","react_router","path","components_Feed_Feed","components_Widgets_Widgets","contexts_ChatContextProvider","components_SidebarChat_SidebarChat","components_Chat_Chat","components_ConversationInfo_ConversationInfo","Profile","render","components_ProfileFollow_ProfileFollow","ProfileWidgets","components_Status_Status","CommentThread","components_StatusWidget_StatusWidget","elements_BottomNav_BottomNav","components_Login_Login","ReactDOM","contexts_StateContextProvider","contexts_IsRoomOpenedContextProvider","src_App_0"],"mappings":"uHAAAA,EAAAC,QAAA,k3LCAaC,EAAe,CACxBC,KAAM,MAGGC,EACC,WAeCC,EAZM,SAACC,EAAOC,GACzB,OAAQA,EAAOC,MACX,KAAKJ,EACD,OAAOK,OAAAC,EAAA,EAAAD,CAAA,GACAH,EADP,CAEIH,KAAMI,EAAOJ,OAErB,QACI,OAAOG,ICbNK,EAAeC,0BAQfC,EAAgB,kBAAMC,qBAAWH,IAE/BI,EARc,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,SAAF,OACzBC,EAAAC,EAAAC,cAACT,EAAaU,SAAd,CAAuBC,MAAOC,qBAAWC,EAAetB,IACpDe,ICaOQ,EAfQ,SAAAT,GAAmCA,EAAjCU,OAAiC,IAAzBC,EAAyBX,EAAzBW,KAAMC,EAAmBZ,EAAnBY,KAAMC,EAAab,EAAba,QAAaC,EACrCjB,IAATV,EAD8CM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAC9C3B,KAEF6B,EAAkB,SAATL,EAETM,EAAYD,EAAS,GADA,YAATL,EACuB,GAAAO,OAAIP,EAAKQ,cAAT,KAAAD,OAA0B/B,EAAKiC,UAAWT,EAAKQ,cAExF,OACIjB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAE,IAAAJ,OAAMD,GAAYM,MAAOP,EAAQQ,UAAU,gBAAgBC,gBAAgB,kBAAkBZ,QAASA,GAC9GX,EAAAC,EAAAC,cAACQ,EAAD,MACAV,EAAAC,EAAAC,cAAA,UAAKO,mFCFVe,EAFcC,IAASC,cATN,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAIMC,YAMRV,GALFC,IAASU,OACL,IAAIV,IAASU,KAAKC,mBAIpBZ,GCoEAa,EA7EQ,WACHC,cAAhB,IADyB1B,EAERjB,IAATV,EAFiBM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAEjB3B,KAFiBsD,EAGKC,mBAASvD,GAHdwD,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGlBG,EAHkBD,EAAA,GAGTE,EAHSF,EAAA,GAAAG,EAKOJ,mBAAS,MALhBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAKlBE,EALkBD,EAAA,GAKRE,EALQF,EAAA,GAQnBG,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EAehC,OANHC,oBAAU,WACN5B,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAC,GAC3Cb,EAAWa,EAAIC,WAEpB,IAGCzD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACIT,GAAIA,EACJF,KAAMA,EACNF,SAAUA,EACVc,QAvBQ,kBAAMb,EAAY,OAyB1Bc,aAAc,CACVC,SAAU,MACVC,WAAY,UAEhBC,gBAAiB,CACbF,SAAU,SACVC,WAAY,UAEhBE,MAAO,CACHC,UAAU,2BAGdlE,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBAEVtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBACXtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK1B,GAAWA,EAAQ2B,WAChCrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACftB,EAAAC,EAAAC,cAAA,UAAKwC,GAAYA,EAAQ4B,aACzBtE,EAAAC,EAAAC,cAAA,gBAAAc,OAAW0B,GAAWA,EAAQxB,YAE9BlB,EAAAC,EAAAC,cAACqE,EAAAtE,EAAD,OAGJD,EAAAC,EAAAC,cAAA,MAAIS,QA5CJ,WACZ6D,aAAaC,QAGbC,OAAOC,SAASC,UAwCkBtD,UAAU,aAC5BtB,EAAAC,EAAAC,cAAA,sBAAcwC,GAAWA,EAAQxB,aAK7ClB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BAA0BuD,mBAAkB3B,EAAI4B,QAAQ,YAAYnE,QAvDtE,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,iBAwDtChF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBACXtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK1B,GAAWA,EAAQ2B,YAEpCrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,4BACftB,EAAAC,EAAAC,cAAA,UAAKwC,GAAYA,EAAQ4B,aACzBtE,EAAAC,EAAAC,cAAA,UAAKwC,GAAO,IAAA1B,OAAQ0B,EAAQxB,YAE5BlB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,8BACXtB,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,wJChFPjB,EAAe,CACxBkG,aAAc,MAGLhG,EACK,eADLA,EAEK,eAoBHiG,EAjBY,SAAC/F,EAAOC,GAC/B,OAAQA,EAAOC,MACX,KAAKJ,EACD,MAAO,CACHgG,cAAc,GAGtB,KAAKhG,EACD,MAAO,CACHgG,cAAc,GAGtB,QACI,OAAO9F,ICnBNgG,EAAsB1F,0BAQtB2F,EAAe,kBAAMzF,qBAAWwF,IAE9BE,EARqB,SAAAxF,GAAA,IAAEC,EAAFD,EAAEC,SAAF,OAChCC,EAAAC,EAAAC,cAACkF,EAAoBjF,SAArB,CAA8BC,MAAOC,qBAAWkF,EAAsBvG,IAClEe,IC2COyF,WAjCC,WAAM,IAAAC,EACiBJ,IADjBK,EAAAnG,OAAAsB,EAAA,EAAAtB,CAAAkG,EAAA,GACKE,GADLD,EAAA,GACVR,aADUQ,EAAA,IASlB,OACI1F,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAC0F,EAAA3F,EAAD,CAAaqB,UAAU,yBAEvBtB,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,OAAOC,KAAMoF,MACjC9F,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,UAAUC,KAAMqF,MACpC/F,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,gBAAgBC,KAAMsF,MAC1ChG,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,WAAWC,KAAMuF,IAAiBtF,QAdxC,WACjBgF,EAAS,CACLrG,KAAMJ,OAaPc,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,YAAYC,KAAMwF,MACtClG,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,OAAOC,KAAMyF,MACjCnG,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,UAAUC,KAAM0F,MACpCpG,EAAAC,EAAAC,cAAC2F,EAAD,CAAepF,KAAK,OAAOC,KAAM2F,MAEjCrG,EAAAC,EAAAC,cAAA,UAAQ4E,QAAQ,WAAWxD,UAAU,kBAClCtB,EAAAC,EAAAC,cAAA,OAAKoG,IAAI,OAAOhF,UAAU,iJAAgJtB,EAAAC,EAAAC,cAAA,OAAKqG,QAAQ,YAAYC,KAAK,UAAUlF,UAAU,gGAA+FtB,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,QAAMuG,EAAE,qWAAkXzG,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,4EACxsBtB,EAAAC,EAAAC,cAAA,sBAGHF,EAAAC,EAAAC,cAACwG,EAAD,0DC/BIC,GAXK,SAAA7G,GAAgE,IAA9DR,EAA8DQ,EAA9DR,KAAMsH,EAAwD9G,EAAxD8G,OAAQC,EAAgD/G,EAAhD+G,KAAM3D,EAA0CpD,EAA1CoD,GAAaxC,GAA6BZ,EAAtCgH,QAAsChH,EAA7BY,MAAMqG,EAAuBjH,EAAvBiH,SAAUpG,EAAab,EAAba,QACnE,OACIX,EAAAC,EAAAC,cAAA,OAAKS,QAASA,GACVX,EAAAC,EAAAC,cAAA,SAAOZ,KAAMA,EAAMsH,OAAQA,EAAQC,KAAMA,EAAM3D,GAAIA,EAAIe,MAAO,CAAC+C,QAAQ,QAASD,SAAUA,IAC1F/G,EAAAC,EAAAC,cAAA,SAAO4G,QAAS5D,GACZlD,EAAAC,EAAAC,cAACQ,EAAD,sHCChB,SAASuG,GAASC,GAAO,IACfnH,EAAqCmH,EAArCnH,SAAUK,EAA2B8G,EAA3B9G,MAAO+G,EAAoBD,EAApBC,MAAUC,EADZ7H,OAAA8H,GAAA,EAAA9H,CACsB2H,EADtB,8BAGvB,OACElH,EAAAC,EAAAC,cAAA,MAAAX,OAAA+H,OAAA,CACEC,KAAK,WACLC,OAAQpH,IAAU+G,EAClBjE,GAAE,uBAAAlC,OAAyBmG,GAC3BM,kBAAA,kBAAAzG,OAAmCmG,IAC/BC,GAEHhH,IAAU+G,GACTnH,EAAAC,EAAAC,cAACwH,GAAA,EAAD,CAAKC,EAAG,GACN3H,EAAAC,EAAAC,cAAC0H,GAAA,EAAD,CAAYC,UAAW,QAAS9H,KAoB1C,IAAM+H,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,WAAWC,UAI/B,SAASC,GAATxI,GAAgC,IAARyI,EAAQzI,EAARyI,MAC/BC,EAAUV,KACVE,EAAQS,eAF+BC,EAGnBC,IAAMnG,SAAS,GAHIoG,EAAArJ,OAAAsB,EAAA,EAAAtB,CAAAmJ,EAAA,GAGtCtI,EAHsCwI,EAAA,GAG/BC,EAH+BD,EAAA,GAa7C,OACE5I,EAAAC,EAAAC,cAAA,OAAKoB,UAAS,cAAAN,OAAgBwH,EAAQP,OACpCjI,EAAAC,EAAAC,cAAC4I,GAAA,EAAD,CAAQC,SAAS,SAASC,MAAM,WAC9BhJ,EAAAC,EAAAC,cAAC+I,GAAA,EAAD,CACE7I,MAAOA,EACP2G,SAba,SAAChC,EAAOmE,GAC3BL,EAASK,IAaHC,eAAe,UACfC,UAAU,UACVtE,QAAQ,YACRuE,aAAW,uBAKTd,EAAMe,IAAI,SAAAC,GACR,OAAOvJ,EAAAC,EAAAC,cAACsJ,GAAA,EAADjK,OAAA+H,OAAA,CAAKmC,IAASF,EAAKrG,GACdwG,KAASH,EAAKG,KACdC,MAASJ,EAAKK,QA3CrBzC,EA4CqBoC,EAAKrG,GA3CpC,CACLA,GAAE,kBAAAlC,OAAoBmG,GACtB0C,gBAAA,uBAAA7I,OAAwCmG,OAH5C,IAAmBA,MAkDbnH,EAAAC,EAAAC,cAAC4J,GAAA7J,EAAD,CACE8J,KAA0B,QAApB/B,EAAMgC,UAAsB,YAAc,IAChD7C,MAAO/G,EACP6J,cA/BoB,SAAC9C,GACzB0B,EAAS1B,KAwCHoB,EAAMe,IAAI,SAAAC,GACR,OAAQvJ,EAAAC,EAAAC,cAAC+G,GAAD,CAAU7G,MAAOA,EAAO+G,MAAOoC,EAAKrG,GAAIoD,IAAK0B,EAAMgC,UAAWP,IAAKF,EAAKrG,IACrEqG,EAAI,UCnGZ,IAAAW,GAAA,SAACC,GACT,OAAO,IAAIC,QAAQ,SAACC,EAASC,GAE3B,IAAIC,EACJC,QAAQC,IAAIN,GACZ,IAAM1G,EAAO,IAAIiH,SACjBjH,EAAKkH,OAAO,OAAOR,GACnB1G,EAAKkH,OAAO,gBAAgB,cAC5BlH,EAAKkH,OAAO,aAAa,iBACzBC,MAAM,6DAA6D,CAChEC,OAAO,OACPC,KAAKrH,IAEPsH,KAAK,SAAAvH,GAAG,OAAEA,EAAIwH,SACdD,KAAK,SAAAtH,GAGH,OAFA8G,EAAW9G,EAAKwH,IAChBT,QAAQC,IAAIF,GACLF,EAAQE,KAEjBW,MAAM,SAAAC,GACJ,OAAOb,EAAOa,sCCpBpBC,GAAkB,SAAAjB,GAAI,OAAI,IAAIC,QAAQ,SAACC,EAASC,GAClD,IAAMe,EAAM,IAAIC,MAGhBD,EAAIE,OAAS,WAAM,IACOC,EAAiCH,EAA/CI,aAAoCC,EAAWL,EAA1BM,cAC7BtB,EAAQ,CAAEmB,QAAOE,YAIrBL,EAAIO,QAAU,WACVtB,EAAO,2CAGXe,EAAIjH,IAAMyH,IAAIC,gBAAgB3B,MAGrB4B,GAAO,eAAAC,EAAAzM,OAAA0M,GAAA,EAAA1M,CAAA2M,GAAAjM,EAAAkM,KAAG,SAAAC,EAAAtM,GAAA,IAAAuM,EAAAC,EAAAnC,EAAA,OAAA+B,GAAAjM,EAAAsM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAmBL,EAAnBvM,EAAS6M,OAAUN,MAAnBC,EAAA/M,OAAAsB,EAAA,EAAAtB,CACJ8M,EADI,GACZlC,EADYmC,EAAA,GAAAE,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAWFtB,GAAgBjB,GAXd,cAAAqC,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,OAAAL,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAcfhC,QAAQuC,MAARP,EAAAM,IAde,yBAAAN,EAAAQ,SAAAZ,EAAA,iBAAH,gBAAAa,GAAA,OAAAjB,EAAAkB,MAAAC,KAAAC,YAAA,GCjBPC,GAAkB,SAAC/I,EAAagJ,GACzC,IAAMC,EAAI,IAAIC,KAEd,2BAAAxM,OAA4BsD,EAA5B,QAAAtD,OAA8CuM,EAAEE,WAAW,EAA3D,KAAAzM,OAAgEuM,EAAEG,UAAlE,MAAA1M,OAAgFuM,EAAEI,qCC8BvEC,kBA3BK,SAAA9N,GAOd,IAPiBkD,EAOjBlD,EAPiBkD,KACAY,EAMjB9D,EANiB8D,QACAgG,EAKjB9J,EALiB8J,MACAiE,EAIjB/N,EAJiB+N,SACA9N,EAGjBD,EAHiBC,SACAW,EAEjBZ,EAFiBY,KACAoN,EACjBhO,EADiBgO,WAOnB,OACI9N,EAAAC,EAAAC,cAAC6N,GAAA9N,EAAD,CAAO+C,KAAMA,EAAMY,QAASA,GACxB5D,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,YACXtB,EAAAC,EAAAC,cAACQ,EAAD,CAAMC,QAASiD,KAEnB5D,EAAAC,EAAAC,cAAA,UAAK0J,GACJkE,EAAWE,OAAO,GAAKhO,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQtN,QAXxB,WAChBkN,IACAjK,MAS+DkK,IAE1D/N,KCpBEmO,GANC,WACZ,OACIlO,EAAAC,EAAAC,cAAA,KAAGoB,UAAU,gLCGfwG,GAAYC,aAAW,CAC3BE,KAAM,CACJkG,SAAU,OAIC,SAASC,GAATtO,GAAyC,IAAduO,EAAcvO,EAAduO,IAAKC,EAASxO,EAATwO,OACvC9F,EAAUV,KAMhB,OACE9H,EAAAC,EAAAC,cAAA,OAAKoB,UAAWkH,EAAQP,MACtBjI,EAAAC,EAAAC,cAACqO,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvBzO,EAAAC,EAAAC,cAACqO,GAAA,EAAD,CAAMhF,MAAI,GACRvJ,EAAAC,EAAAC,cAACwO,GAAAzO,EAAD,OAEFD,EAAAC,EAAAC,cAACqO,GAAA,EAAD,CAAMhF,MAAI,EAACoF,IAAE,GACX3O,EAAAC,EAAAC,cAAC0O,GAAA,EAAD,CAAQxO,MAAOiO,EACftH,SAZa,SAAChC,EAAOmE,GAC3BoF,EAAOpF,IAYD2F,IAAK,EACLC,IAAK,IACLrH,kBAAgB,uBAElBzH,EAAAC,EAAAC,cAACqO,GAAA,EAAD,CAAMhF,MAAI,GACRvJ,EAAAC,EAAAC,cAAC6O,GAAA9O,EAAD,4ECkIK+O,iNAxJb5P,MAAQ,CACNgF,IAAK,KACL6K,KAAM,CACJC,KAAM,IACN1D,MAAO,GACP2D,OAAQC,EAAKlI,MAAMmI,oBAAsB,KAE3CC,kBAAoB,KACpBC,gBAAiB,KACjBC,UAAW,KAGbC,cAAgB,SAAAC,GACZN,EAAKO,SAAWD,KAGpBE,aAAe,SAACX,GACZG,EAAKS,SAAS,CAAEZ,YAGpBa,uDAAiB,SAAA1D,EAAM6C,GAAN,IAAAM,EAAA,OAAArD,GAAAjM,EAAAsM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,YACT0C,EAAKO,UAAYV,EAAKzD,OAASyD,EAAKvD,QAD3B,CAAAc,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAEqB0C,EAAKW,cAAcX,EAAKO,SAAUV,GAFvD,OAEHM,EAFG/C,EAAAK,KAGTuC,EAAKS,SAAS,CAAEN,oBAHP,wBAAA/C,EAAAQ,SAAAZ,8DAsDjB4D,oBAAsB,SAACC,GACnBb,EAAKS,SAAS,CAACZ,KAAK1P,OAAAC,EAAA,EAAAD,CAAA,GACb6P,EAAKhQ,MAAM6P,KADC,CAEfE,OAAQc,SAIhBC,kBAAoB,SAAC7B,GACnBe,EAAKS,SAAS,CAACL,UAAWnB,oFArDdqB,EAAOT,GAAM,IAAAkB,EAAAhD,KACjBiD,EAASC,SAASnQ,cAAc,UAChCoQ,EAASZ,EAAMjE,aAAeiE,EAAMlE,MACpC+E,EAASb,EAAM/D,cAAgB+D,EAAMhE,OAC3C0E,EAAO5E,MAAQyD,EAAKzD,MACpB4E,EAAO1E,OAASuD,EAAKvD,OACT0E,EAAOI,WAAW,MAE1BC,UACAf,EACAT,EAAKyB,EAAIJ,EACTrB,EAAK0B,EAAIJ,EACTtB,EAAKzD,MAAQ8E,EACbrB,EAAKvD,OAAS6E,EACd,EACA,EACAtB,EAAKzD,MACLyD,EAAKvD,QAGT,IAAMkF,EAAS,IAAIC,WACnBT,EAAOU,OAAO,SAAAC,GACVH,EAAOI,cAAcD,GACrBH,EAAOK,UAAY,WACfd,EAAKe,cAAcN,EAAOO,OAAQ,wDAKhCC,EAASC,GAOnB,IANA,IAAIC,EAAMF,EAAQG,MAAM,KACpBC,EAAOF,EAAI,GAAGG,MAAM,UAAU,GAC9BC,EAAOC,KAAKL,EAAI,IAChBM,EAAIF,EAAK1D,OACT6D,EAAQ,IAAIC,WAAWF,GAErBA,KACFC,EAAMD,GAAKF,EAAKK,WAAWH,GAE/B,IAAII,EAAe,IAAIC,KAAK,CAACJ,GAAQR,EAAU,CAAC/R,KAAKkS,IACrDrE,KAAK0C,SAAS,CAACmC,aAAcA,gDAkBb,IAAAE,EACoB/E,KAAKjG,MAAlCwI,EADSwC,EACTxC,MAAOL,EADE6C,EACF7C,mBACdlC,KAAK0C,SAAS,CAACzL,IAAKsL,EAAOJ,kBAAmBD,+CAI9B8C,EAAWC,GAK3B,GAJGA,EAAUJ,eAAiB7E,KAAK/N,MAAM4S,cACvC7E,KAAKjG,MAAMmL,sBAAsBlF,KAAK/N,MAAM4S,cAG1CI,EAAU5C,YAAcrC,KAAK/N,MAAMoQ,UAAU,CAC/C,IAAO8C,EAAW,EAAG,MAAenF,KAAK/N,MAAMoQ,UAAY,GAC3Da,SAASkC,cAAc,yCAAyCtO,MAAMC,UAAtE,SAAAlD,OAA2FsR,EAA3F,uCAMG,IAAAE,EAAArF,KAAAsF,EACkCtF,KAAK/N,MAAtC6P,EADDwD,EACCxD,KAAO7K,EADRqO,EACQrO,IAAKkL,EADbmD,EACanD,kBAEpB,OACEtP,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,sBAEXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,6BAEZ8C,GACCpE,EAAAC,EAAAC,cAACwS,GAAAzS,EAAD,CACEmE,IAAKA,EACL6K,KAAMA,EACN0D,cAAY,EACZlD,cAAetC,KAAKsC,cACpBmD,WAAYzF,KAAK2C,eACjB/I,SAAUoG,KAAKyC,aACf3L,MAAO,CACLuH,MAAO,WAObpH,GACIpE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,wCACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BACZtB,EAAAC,EAAAC,cAAA,OAAKS,QAAS,kBAAI6R,EAAKxC,oBAAoBV,IAAqBhO,UAAS,GAAAN,OAAKiO,EAAKE,SAAaG,GAAsB,UAAWtP,EAAAC,EAAAC,cAAC2S,GAAA5S,EAAD,OACjID,EAAAC,EAAAC,cAAA,OAAKS,QAAS,kBAAI6R,EAAKxC,oBAAoB,GAAG,IAAI1O,UAAS,GAAAN,OAAKiO,EAAKE,SAAW,GAAG,GAAK,UAAWnP,EAAAC,EAAAC,cAAC4S,GAAA7S,EAAD,OACnGD,EAAAC,EAAAC,cAAA,OAAKS,QAAS,kBAAI6R,EAAKxC,oBAAoB,IAAO1O,UAAS,GAAAN,OAAqB,IAAhBiO,EAAKE,QAAmB,UAAWnP,EAAAC,EAAAC,cAAC6S,GAAA9S,EAAD,QAEtGD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBACZtB,EAAAC,EAAAC,cAACkO,GAAD,CAAQC,IAAKlB,KAAK/N,MAAMoQ,UAAWlB,OAAQnB,KAAK+C,+BA3I7C8C,iBCWVC,WAnBA,SAAAnT,GAAkC,IAAhC4P,EAAgC5P,EAAhC4P,MAAOwD,EAAyBpT,EAAzBoT,QAASC,EAAgBrT,EAAhBqT,WAG7B,OACInT,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBACXtB,EAAAC,EAAAC,cAAA,OAAKkE,IAAKyH,IAAIC,gBAAgB4D,GAAQ0D,IAAI,YAE9CpT,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBACXtB,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,YAAU2G,KAAK,GAAG3D,GAAG,GAAGmQ,KAAK,KAAKC,KAAK,IAC7BlT,MAAO8S,EACPnM,SAAU,SAAAwM,GAAC,OAAGJ,EAAWI,EAAE5G,OAAOvM,8KC6P7CoT,GA9OE,WAAM,IAAA5S,EACFjB,IAATV,EADWM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MACX3B,KACDqF,EAAerF,EAAfqF,YAFY/B,EAGWC,mBAAS,MAHpBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGZG,EAHYD,EAAA,GAGHE,EAHGF,EAAA,GAAAG,EAIqBJ,mBAAS,IAJ9BK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAIZ6Q,EAJY5Q,EAAA,GAIE6Q,EAJF7Q,EAAA,GAAA8Q,EAKWnR,mBAAS6K,GAAgBpO,EAAKqF,cALzCsP,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAKZT,EALYU,EAAA,GAKHT,EALGS,EAAA,GAAAC,EAMGrR,mBAAS,MANZsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAMZzP,EANY0P,EAAA,GAMPC,EANOD,EAAA,GAAAE,EAOmBxR,mBAAS,MAP5ByR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAOZE,EAPYD,EAAA,GAOCE,EAPDF,EAAA,GAAAG,EAQmB5R,oBAAS,GAR5B6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAQZE,EARYD,EAAA,GAQCE,EARDF,EAAA,GAAAG,EAS6BhS,mBAAS,CAACgJ,MAAO,EAAGE,OAAQ,IATzD+I,EAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,EAAA,GASZE,EATYD,EAAA,GASME,EATNF,EAAA,GAAAG,EAUiCpS,mBAAS,MAV1CqS,EAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,EAAA,GAUZvF,EAVYwF,EAAA,GAUQC,EAVRD,EAAA,GAAAE,EAWkCvS,mBAAS,MAX3CwS,EAAAzV,OAAAsB,EAAA,EAAAtB,CAAAwV,EAAA,GAWZE,EAXYD,EAAA,GAWQ3C,EAXR2C,EAAA,GAAAE,EAYa1S,mBAAS,MAZtB2S,EAAA5V,OAAAsB,EAAA,EAAAtB,CAAA2V,EAAA,GAYZpS,EAZYqS,EAAA,GAYFpS,EAZEoS,EAAA,GAAAC,EAae5S,oBAAS,GAbxB6S,EAAA9V,OAAAsB,EAAA,EAAAtB,CAAA6V,EAAA,GAaZE,EAbYD,EAAA,GAaDE,GAbCF,EAAA,GAgBnBjS,oBAAU,WACP5B,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAiS,GAC5C7S,EAAW6S,EAAS/R,WAEvB,IA8DHL,oBAAU,WACN0R,EAAsBJ,EAAiBlJ,MAAMkJ,EAAiBhJ,SAC/D,CAACgJ,IAEJ,IAYMnM,GAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,GACNF,KAAM1J,EAAAC,EAAAC,cAACuV,GAAAxV,EAAD,MACNsJ,KAAMvJ,EAAAC,EAAAC,cAACwV,GAAD,CACEhG,MAAOtL,EACPiO,sBAAwBA,EACxBhD,mBAAyBA,KAGrC,CACInM,GAAI,EACJ0G,MAAO,MACPF,KAAM,GACNH,KAAMvJ,EAAAC,EAAAC,cAACyV,GAAD,CAAQjG,MAAOuF,EAAoB/B,QAASA,EAASC,WAAYA,MAIzEnQ,GAAOC,QAAQH,GACfI,GAAKF,GAAO,oBAAiBG,EA4BnC,OAnBAC,oBAAU,WACSiN,SAASkC,cAAc,YAC7BqD,iBAAiB,UAE1B,WACA,IAAIC,EAAK1I,KACT2I,WAAW,WACPD,EAAG5R,MAAM8R,QAAU,wBAGnBF,EAAG5R,MAAM8R,QAAU,UAAYF,EAAGG,aAAe,MACnD,MAKH,IAIChW,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KAEI1D,EAAAC,EAAAC,cAAC+V,GAAD,CAAQjT,KAAMsR,EACN1Q,QAAS,kBAAI2Q,GAAe,IAC5B3K,MAAM,aACNiE,SA7DS,WAJrBkG,EAAOlI,IAAIC,gBAAgBmJ,IAC3Bd,EAAec,GAKQ,IAAnB/B,EAAQlF,QACRmF,EAAW9F,GAAgB/I,KA2DnB5D,KAAQwV,KACRpI,WAAW,QAEX9N,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,MAG3BvI,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,YACXtB,EAAAC,EAAAC,cAAA,QAAMiW,SA1IA,SAAC5C,GACfA,EAAE6C,iBACFb,IAAa,GAEVrB,EACChK,GAAiBgK,GAChBnJ,KAAM,SAAAvH,GAEHhC,EAAG6B,WAAW,SAASgT,IAAI,CACvBnD,QAAcA,EACdzS,KAAcgT,EACd/D,MAAclM,EACd8S,MAAc,GACdC,SAActX,EAAKiE,GACnBsT,UAAc/U,IAASS,UAAUuU,WAAWC,oBAGhDhD,EAAgB,IAChBP,EAAW,IACXY,EAAO,MACPwB,IAAa,KAGhBrK,MAAO,SAAAC,GACJoK,IAAa,MAMrB/T,EAAG6B,WAAW,SAASgT,IAAI,CACvBnD,QAAcA,EACdzS,KAAcgT,EACd/D,MAAc,GACd4G,MAAc,GACdC,SAActX,EAAKiE,GACnBsT,UAAc/U,IAASS,UAAUuU,WAAWC,oBAGhDhD,EAAgB,IAChBP,EAAW,IACXY,EAAO,MACPwB,IAAa,MAiGDvV,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACXtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK1B,GAAWA,EAAQ2B,YAGpCrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,mBAEXtB,EAAAC,EAAAC,cAAA,YAAUoT,KAAK,IACLqD,YAAY,mBACZrX,KAAc,OACdc,MAAeqT,EACf1M,SAAe,SAAAwM,GAAC,OAAGG,EAAgBH,EAAE5G,OAAOvM,UAKlDgE,GACIpE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYqB,UAAU,aAAaX,QAAS,kBAAIoT,EAAO,SACvD/T,EAAAC,EAAAC,cAAA,OAAKkE,IAAKA,EAAKgP,IAAI,aACnBpT,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,YAAYX,QAAS,kBAAI4T,GAAe,KAA1D,SAIZvU,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACZtB,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMoW,KACNxX,KAAK,OACLsH,OAAO,UACPC,KAAK,eACL3D,GAAG,cACH6D,SA3HvB,SAAAwM,GACjB,IAAMwD,EAAa,IAAIlG,WACvBkG,EAAW9F,UAAY,WACnB8C,EAAOgD,EAAW5F,QAClBgD,EAAe4C,EAAW5F,SAE9B4F,EAAW/F,cAAcuC,EAAE5G,OAAON,MAAM,IAExCN,GAAQwH,GAAGxI,KAAK,SAAAvH,GACZmR,EAAoB,CAACnJ,MAAOhI,EAAIgI,MAAOE,OAAQlI,EAAIkI,cAoH5B1L,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMsW,OACnBhX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMuW,OACnBjX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMwW,KACNrS,mBAAkB3B,GAAI5D,KAAK,SAASqB,QA9ExD,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,kBAiFrBhF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACIT,GAAIA,GACJF,KAAMA,GACNF,SAAUA,EACVc,QApFhB,kBAAMb,EAAY,OAqFFc,aAAc,CACVC,SAAU,SACVC,WAAY,UAEhBC,gBAAiB,CACbF,SAAU,MACVC,WAAY,UAGpBE,MAAO,CAACkT,aAAc,SAElBnX,EAAAC,EAAAC,cAACkX,GAAAnX,EAAD,CAAQoX,aA9FvB,SAACtS,EAAOuS,GACzB,IAAIC,EAAa9D,EAAe6D,EAAYE,MAC5C9D,EAAgB6D,OA+FWvX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAM+W,QAIlBnC,EACAtV,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,yBAAwBtB,EAAAC,EAAAC,cAACwX,GAAD,OAE1C1X,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3O,KAAK,SAAQgC,UAAU,yBAA/B,yBCpPrBqW,WATI,SAAA7X,GAA4B,IAA1BY,EAA0BZ,EAA1BY,KAAMN,EAAoBN,EAApBM,MAAOO,EAAab,EAAba,QAC9B,OACIX,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBAAqBX,QAASA,GACzCX,EAAAC,EAAAC,cAACQ,EAAD,MACAV,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBAAuBlB,GAAY,6ECP/CwX,GAEC,SAAUC,GAAY,IAAAC,EAETD,EAAWtG,MAAM,MAFRwG,EAAAxY,OAAAsB,EAAA,EAAAtB,CAAAuY,EAAA,GAEvBE,EAFuBD,EAAA,GAEjBE,EAFiBF,EAAA,GAAAG,EAGHF,EAAKzG,MAAM,KAHR4G,EAAA5Y,OAAAsB,EAAA,EAAAtB,CAAA2Y,EAAA,GAGvBE,EAHuBD,EAAA,GAGhBE,EAHgBF,EAAA,GAGXG,EAHWH,EAAA,GAAAI,EAICN,EAAK1G,MAAM,KAJZiH,EAAAjZ,OAAAsB,EAAA,EAAAtB,CAAAgZ,EAAA,GAAAE,EAMyB,CAACH,EAAMF,EAAOC,EANvCG,EAAA,GAAAA,EAAA,GAAAA,EAAA,IAMkElP,IAAI,SAAAoP,GAAC,OAAGC,SAASD,KANnFE,EAAArZ,OAAAsB,EAAA,EAAAtB,CAAAkZ,EAAA,GAMvBI,EANuBD,EAAA,GAMhBE,EANgBF,EAAA,GAMRG,EANQH,EAAA,GAMFI,EANEJ,EAAA,GAMKK,EANLL,EAAA,GAMcM,EANdN,EAAA,GAQxBO,EAAQ,IAAI3L,KAEZ4L,EAAkBT,SAASQ,EAAMxL,eACjC0L,EAAkBV,SAAUQ,EAAM1L,WAAW,GAC7C6L,EAAkBX,SAASQ,EAAMzL,WACjC6L,EAAkBZ,SAASQ,EAAMK,YACjCC,EAAkBd,SAASQ,EAAMO,cACjCC,EAAkBhB,SAASQ,EAAMS,cAGjCC,EAAS,SAACC,GAAD,OAASA,EAAG,IAAM,GAAKA,EAAG,MAAM,GAAOA,EAAG,MAAQ,GAE3DC,EAAO,SAACpJ,EAAGqJ,EAAIvT,EAAGwT,EAAGC,EAAIC,GACvB,IAAIC,EAAI,EACR,GAAIJ,EAAG,EAAE,CACL,IAAK,IAAItB,EAAE,EAAGA,EAAEjS,EAAGiS,IACnB0B,GAAI,EAEJ,OAAU,MAAHA,EAAW,KAAFH,EAAU,GAAHC,EAAMC,EAIjC,IADA,IAAIE,EAAM,EACD3B,EAAE,EAAIA,EAAEsB,EAAKtB,IAElB2B,GADQ,IAAJ3B,GAAa,IAAJA,GAAa,IAAJA,GAAa,KAAJA,EACzB,GAEI,IAANA,EACOmB,EAAOlJ,GAAI,GAAI,GACb,GAGjB,OAAkB,OAAV0J,EAAK5T,EAAE,GAAY,KAAFwT,EAAU,GAAHC,EAAMC,GA+BxCG,EAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OA8BhG,OA3Ba,SAACC,EAAKnB,EAAOP,EAAOC,EAAQC,GAErC,OAAKwB,EAAK,GACN,GAAAvZ,OAAUuZ,EAAV,MAEAA,EAAI,IAAMA,EAAK,KACf,GAAAvZ,OAAUwZ,KAAKC,MAAMF,EAAI,IAAzB,KAGAA,EAAI,MAAQA,EAAK,MACjB,GAAAvZ,OAAUwZ,KAAKC,MAAMF,EAAI,MAAzB,MAGDA,EAAI,OAASA,EAAI,OAChB,GAAAvZ,OAAUwZ,KAAKC,MAAMF,EAAI,OAAzB,KAGDA,EAAI,OACCnB,IAAUP,EACV,GAAA7X,OAAU+X,EAAV,KAAA/X,OAAkBsZ,EAAUxB,EAAO,IAEvC,GAAA9X,OAAU+X,EAAV,KAAA/X,OAAkBsZ,EAAUxB,EAAO,GAAnC,KAAA9X,OAAyC6X,QAJ7C,EAUG6B,CAxDa,SAACC,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,EAAIC,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,GAGnD,IAAMC,EAAQxB,EAAKY,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,GAC9BQ,EAAQzB,EAAKkB,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,GAGhCG,EAAI,EAER,GAAIR,IAAON,GAAOM,IAAON,EAAG,EACxBc,EAAM,OAGV,IAAI,IAAI/C,EAAEiC,EAAG,EAAGjC,EAAEuC,EAAIvC,IACdmB,EAAOnB,KACX+C,GAAK,KAELA,GAAK,IAGT,IAAMC,EAAI7B,EAAOc,GAAK,SAASY,EAAQ,QAASA,EAEhD,OAAQN,IAAKN,EAAKe,EAAQ,MAAJD,EAAYD,EAAQA,EAAMD,EAkC5CI,CAAI9C,EAAMC,EAAOC,EAAKC,EAAMC,EAAQC,EAAWE,EAAMC,EAAOC,EAAKC,EAAOE,EAASE,GAASP,EAAOP,EAAOC,EAAQC,ICtGvH6C,GAAiC,SAACpF,GAC3C,OAAOA,GAAa,IAAIhJ,KAAKgJ,EAAUqF,UAAUC,eAAe,GAAG,CAACC,QAAO,KC8ShEC,WAzQD,SAAAlc,GAAwD,IAAtDoH,EAAsDpH,EAAtDoH,MAAOxE,EAA+C5C,EAA/C4C,QAASuZ,EAAsCnc,EAAtCmc,WAAYC,EAA0Bpc,EAA1Boc,qBACjC5X,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SACjC3F,EAA2CtP,EAA3CsP,UAAW/V,EAAgCyG,EAAhCzG,KAAMiP,EAA0BxI,EAA1BwI,MAAOwD,EAAmBhM,EAAnBgM,QAASkJ,EAAUlV,EAAVkV,OAClCpE,EAAO4D,GAA+BpF,GACtC6F,EAAU/Z,cAJkDC,EAMlCC,mBAAS,MANyBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAM3DO,EAN2DL,EAAA,GAMjDM,EANiDN,EAAA,GAAAG,EAOhCJ,oBAAS,GAPuBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAO3D0S,EAP2DzS,EAAA,GAOhD0S,EAPgD1S,EAAA,GAS5DG,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EAV+BwQ,EActBnR,mBAAS,IAdaoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAc3D2I,EAd2D1I,EAAA,GAc3C2I,EAd2C3I,EAAA,GAAAC,EAiB5CrR,mBAAS,MAjBmCsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAiB3DzP,EAjB2D0P,EAAA,GAiBtDC,EAjBsDD,EAAA,GAAAE,EAkB5BxR,mBAAS,MAlBmByR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAkB3DE,EAlB2DD,EAAA,GAkB9CE,EAlB8CF,EAAA,GAAAG,EAmBlB5R,mBAAS,CAACgJ,MAAO,EAAGE,OAAQ,IAnBV2I,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAmB3DM,EAnB2DL,EAAA,GAmBzCM,EAnByCN,EAAA,GAAAG,EAoBdhS,mBAAS,MApBKiS,EAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,EAAA,GAoB3DnF,EApB2DoF,EAAA,GAoBvCK,EApBuCL,EAAA,GAAAG,GAqBbpS,mBAAS,MArBIqS,GAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,GAAA,GAqB3DK,GArB2DJ,GAAA,GAqBvCxC,GArBuCwC,GAAA,GAAAE,GAsB5BvS,oBAAS,GAtBmBwS,GAAAzV,OAAAsB,EAAA,EAAAtB,CAAAwV,GAAA,GAsB3DT,GAtB2DU,GAAA,GAsB9CT,GAtB8CS,GAAA,GAAAE,GAuBtB1S,mBAAS6K,GAAgB4O,EAAW3X,cAvBd6Q,GAAA5V,OAAAsB,EAAA,EAAAtB,CAAA2V,GAAA,GAuB3DsH,GAvB2DrH,GAAA,GAuB3CsH,GAvB2CtH,GAAA,GA0ClE/R,oBAAU,WACN0R,EAAsBJ,EAAiBlJ,MAAMkJ,EAAiBhJ,SAC/D,CAACgJ,IAEJ,IAYMnM,GAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,GACNF,KAAM1J,EAAAC,EAAAC,cAACuV,GAAAxV,EAAD,MACNsJ,KAAMvJ,EAAAC,EAAAC,cAACwV,GAAD,CACEhG,MAAOtL,EACPiO,sBAAwBA,GACxBhD,mBAAyBA,KAGrC,CACInM,GAAI,EACJ0G,MAAO,MACPF,KAAM,GACNH,KAAMvJ,EAAAC,EAAAC,cAACyV,GAAD,CAAQjG,MAAOuF,GAAoB/B,QAASsJ,GAAgBC,kBAAmBA,OAK7FrZ,oBAAU,WACSiN,SAASkC,cAAc,YAC7BqD,iBAAiB,UAE1B,WACA,IAAIC,EAAK1I,KACT2I,WAAW,WACPD,EAAG5R,MAAM8R,QAAU,wBACnBF,EAAG5R,MAAM8R,QAAU,UAAYF,EAAGG,aAAe,MACnD,MAEH,IA4DH,OACIhW,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAAC+V,GAAD,CAAQjT,KAAMsR,GACN1Q,QAAS,kBAAI2Q,IAAe,IAC5B3K,MAAM,aACNiE,SAvGS,WAJrBkG,EAAOlI,IAAIC,gBAAgBmJ,KAC3Bd,EAAec,IAKe,IAA1BuH,GAAexO,QACfyO,GAAkBpP,GAAgB/I,KAqG1B5D,KAAQwV,KACRpI,WAAW,QAEX9N,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,MAG3BvI,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SACXtB,EAAAC,EAAAC,cAACwc,GAAA,EAAD,KACA1c,EAAAC,EAAAC,cAACyc,GAAA,EAAD,KACI3c,EAAAC,EAAAC,cAAC0c,GAAA,EAAD,KACI5c,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,IACbrE,EAAAC,EAAAC,cAAC2c,GAAA,EAAD,OAEJ7c,EAAAC,EAAAC,cAAC4c,GAAA,EAAD,KACI9c,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACXtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB,IACftE,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACX6a,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAD7C,IAAAN,OAESE,EAFT,OAAAF,OAEuBwV,GAAawG,GAAchF,OAK1DhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BAAf,IAA0CtB,EAAAC,EAAAC,cAAA,aAAKO,EAAL,OAE5CiP,EAAM1B,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKF,IAC1ClT,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,cAAhB,eAAyCtB,EAAAC,EAAAC,cAAA,aAAAc,OAAQE,QAK7DlB,EAAAC,EAAAC,cAACyc,GAAA,EAAD,KACI3c,EAAAC,EAAAC,cAAC0c,GAAA,EAAD,KACA5c,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK6X,EAAW5X,YAExBrE,EAAAC,EAAAC,cAAC4c,GAAA,EAAD,KACI9c,EAAAC,EAAAC,cAAA,QAAMiW,SArGN,SAAC5C,GACjBA,EAAE6C,iBACFb,GAAa,GAEVrB,EACChK,GAAiBgK,GAChBnJ,KAAM,SAAAvH,GAEHhC,EAAG6B,WAAW,SACbC,IAAI8Y,GACJ/Y,WAAW,YACXgT,IAAI,CACDmG,eAAkBA,GAClB/b,KAAkB6b,EAClB5M,MAAkBlM,EAClB8S,MAAkB,GAClBC,SAAkB0F,EAAW/Y,GAC7BsT,UAAkB/U,IAASS,UAAUuU,WAAWC,oBAGhD6F,EAAkB,IAClBE,GAAkB,IAClB1I,EAAO,MACPwB,GAAa,GACb2G,GAAqB,GACrBG,EAAQY,KAAR,WAAAjc,OAAwBob,MAE/BlR,MAAO,SAAA6B,GACJvC,QAAQC,IAAIsC,GACZwI,GAAa,MAMjB/T,EAAG6B,WAAW,SACbC,IAAI8Y,GACJ/Y,WAAW,YACXgT,IAAI,CACDmG,eAAkB,GAClB/b,KAAkB6b,EAClB5M,MAAkB,GAClB4G,MAAkB,GAClBC,SAAkB0F,EAAW/Y,GAC7BsT,UAAkB/U,IAASS,UAAUuU,WAAWC,oBAGhD6F,EAAkB,IAClBE,GAAkB,IAClB1I,EAAO,MACPwB,GAAa,GACb2G,GAAqB,GACrBG,EAAQY,KAAR,WAAAjc,OAAwBob,OAkDZpc,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAA,YAAUoT,KAAK,IACPqD,YAAc,mBACdrX,KAAc,OACdc,MAAekc,EACfvV,SAxLZ,SAACwM,GAAD,OAAOgJ,EAAkBhJ,EAAE5G,OAAOvM,WA8L9BgE,GACIpE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYqB,UAAU,aAAaX,QAAS,kBAAIoT,EAAO,SACvD/T,EAAAC,EAAAC,cAAA,OAAKkE,IAAKA,EAAKgP,IAAI,aACnBpT,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,YAAYX,QAAS,kBAAI4T,IAAe,KAA1D,SAIZvU,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMoW,KACfxX,KAAK,OACLsH,OAAO,UACPC,KAAK,uBACL3D,GAAG,uBACH6D,SA9Lf,SAAAwM,GACjB,IAAMwD,EAAa,IAAIlG,WACvBkG,EAAW9F,UAAY,WACnB8C,EAAOgD,EAAW5F,QAClBgD,EAAe4C,EAAW5F,SAE9B4F,EAAW/F,cAAcuC,EAAE5G,OAAON,MAAM,IACxCN,GAAQwH,GAAGxI,KAAK,SAAAvH,GACZmR,EAAoB,CAACnJ,MAAOhI,EAAIgI,MAAOE,OAAQlI,EAAIkI,cAwL3B1L,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMsW,OACnBhX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMuW,OACnBjX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMwW,KACNrS,mBAAkB3B,EAAI5D,KAAK,SAASqB,QAtNzD,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,kBAyNrBhF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACIT,GAAIA,EACJF,KAAMA,EACNF,SAAUA,EACVc,QA5NhB,kBAAMb,EAAY,OA6NFc,aAAc,CACVC,SAAU,MACVC,WAAY,UAEhBC,gBAAiB,CACbF,SAAU,SACVC,WAAY,UAEhBE,MAAO,CAACkT,aAAc,SAEtBnX,EAAAC,EAAAC,cAACkX,GAAAnX,EAAD,CAAQoX,aA1NvB,SAACtS,EAAOuS,GACzB,IAAI4F,EAAaZ,EAAiBhF,EAAYE,MAC9C+E,EAAkBW,OA2NUld,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAM+W,QAIfnC,EAAYtV,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,yBAAwBtB,EAAAC,EAAAC,cAACwX,GAAD,OAEtD1X,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3O,KAAK,SAAQgC,UAAU,yBAA/B,4DCjQzB6b,GA1BF,SAAArd,GAAuC,IAArCwW,EAAqCxW,EAArCwW,MAAO8G,EAA8Btd,EAA9Bsd,WAAYC,EAAkBvd,EAAlBud,aAAkBzc,EAC/BjB,IAATV,EADwCM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MACxC3B,KADwCsD,EAElBC,oBAAS,GAFSC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAEzC+a,EAFyC7a,EAAA,GAEhC8a,EAFgC9a,EAAA,GAchD,OAVAW,oBAAU,WACHnE,EAAKiE,IAAMoT,IACPA,EAAMkH,SAASve,EAAKiE,IACnBqa,GAAW,GAEXA,GAAW,KAGpB,CAACjH,IAGAtW,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,sBACTgc,EACEtd,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,QAAQX,QAAS0c,GAAcrd,EAAAC,EAAAC,cAACud,GAAAxd,EAAD,OAE/CD,EAAAC,EAAAC,cAACwd,GAAAzd,EAAD,CAAoBU,QAASyc,IAEjCpd,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBAAwBgV,GAASA,EAAMtI,OAAO,GAAMsI,EAAMtI,8QCzBxE2P,WAAS,SAACC,EAAQC,GAC3B,IAAMC,EAAUtc,EAAG6B,WAAW,SAASC,IAAIsa,GACrCG,EAAYvc,EAAG6B,WAAW,SAASC,IAAIua,GAE7CC,EAAQE,OAAO,CACXC,UAAWxc,IAASS,UAAUuU,WAAWyH,WAAWL,KAGxDE,EAAUC,OAAO,CACbG,UAAW1c,IAASS,UAAUuU,WAAWyH,WAAWN,OAI/CQ,GAAW,SAACR,EAAQC,GAC7B,IAAMC,EAAUtc,EAAG6B,WAAW,SAASC,IAAIsa,GACrCG,EAAYvc,EAAG6B,WAAW,SAASC,IAAIua,GAE7CC,EAAQE,OAAO,CACXC,UAAWxc,IAASS,UAAUuU,WAAW4H,YAAYR,KAGzDE,EAAUC,OAAO,CACbG,UAAW1c,IAASS,UAAUuU,WAAW4H,YAAYT,MAIhDU,GAAa,SAAClC,GACP5a,EAAG6B,WAAW,SAASC,IAAI8Y,GACnCmC,UAGCC,GAAO,SAACpC,EAAQwB,GACTpc,EAAG6B,WAAW,SAASC,IAAI8Y,GACnC4B,OAAO,CACX1H,MAAO7U,IAASS,UAAUuU,WAAWyH,WAAWN,MAI3Ca,GAAS,SAACrC,EAAQwB,GACXpc,EAAG6B,WAAW,SAASC,IAAI8Y,GACnC4B,OAAO,CACX1H,MAAO7U,IAASS,UAAUuU,WAAW4H,YAAYT,MAI5Cc,GAAgB,SAACtC,EAAQuC,GACfnd,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAAYC,IAAIqb,GACtEJ,UAGFK,GAAc,SAACxC,EAAQuC,EAAWf,GACxBpc,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAAYC,IAAIqb,GACtEX,OAAO,CACd1H,MAAO7U,IAASS,UAAUuU,WAAWyH,WAAWN,MAI3CiB,GAAgB,SAACzC,EAAQuC,EAAWf,GAC1Bpc,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAAYC,IAAIqb,GACtEX,OAAO,CACd1H,MAAO7U,IAASS,UAAUuU,WAAW4H,YAAYT,MC0J1CkB,GAxLFC,qBAAW,SAAAjf,EAQlBkf,GAAQ,IAPX9L,EAOWpT,EAPXoT,QACAzS,EAMWX,EANXW,KACAiP,EAKW5P,EALX4P,MACA8G,EAIW1W,EAJX0W,UACAD,EAGWzW,EAHXyW,SACA6F,EAEWtc,EAFXsc,OACA9F,EACWxW,EADXwW,MAGM+F,EAAU/Z,cACV0V,EAAO4D,GAA+BpF,GAHjCjU,EAKqBC,mBAAS,MAL9BC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAKJO,EALIL,EAAA,GAKMM,EALNN,EAAA,GAQLO,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EATxBP,EAU2BJ,oBAAS,GAVpCK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAUJ0R,EAVIzR,EAAA,GAUS0R,EAVT1R,EAAA,GAAAjC,EAYMjB,IAATV,EAZGM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAYH3B,KAZG0U,EAamBnR,mBAAS,CAACU,GAAG,GAAGoB,YAAY,GAAID,SAAU,GAAI8X,UAAU,EAAOjb,SAAU,GAAIid,UAAU,GAAIF,UAAU,KAbxHrK,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAaJjR,EAbIkR,EAAA,GAaKjR,EAbLiR,EAAA,GAAAC,EAcyBrR,mBAAS,MAdlCsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAcJoI,EAdInI,EAAA,GAcQmL,EAdRnL,EAAA,GAeJxP,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SAf7BnI,EAiBqBxR,mBAAS,IAjB9ByR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAiBJkL,EAjBIjL,EAAA,GAiBMkL,EAjBNlL,EAAA,GAAAG,EAmB2B5R,oBAAS,GAnBpC6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAmBJgL,EAnBI/K,EAAA,GAmBSgL,EAnBThL,EAAA,GAqBLiL,EAAmB,SAAAlD,GAAM,OAAIC,EAAQY,KAAR,WAAAjc,OAAwBob,KAE3DhZ,oBAAU,WACP5B,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAiS,GAC5CyJ,EAAc1f,OAAAC,EAAA,EAAAD,CAAA,CAAC2D,GAAGjE,EAAKiE,IAAOsS,EAAS/R,WAG1CjC,EAAG6B,WAAW,SAASC,IAAIiT,GAAUhT,WAAW,SAAAiS,GAC7C7S,EAAW6S,EAAS/R,UAGvBjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAC1CE,WAAW,SAAAiS,GACZ2J,EAAY3J,EAAS+J,KAAKjW,IAAI,SAAAkW,GAAO,OAAAjgB,OAAAC,EAAA,EAAAD,CAAA,CAAI2D,GAAGsc,EAAQtc,IAAOsc,EAAQ/b,cAGtE,IAEHL,oBAAU,WACJV,GACA2c,EAAe3c,EAAQyb,UAAUX,SAASve,EAAKiE,MAElD,CAACR,IAKJ,OACG1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAC+V,GAAD,CACGjT,KAAMsR,EACN1Q,QAAS,kBAAI2Q,GAAe,IAC5B3K,MAAM,GACNiE,SATgB,aAUhBnN,KAAQ+e,KACR3R,WAAW,IAEX9N,EAAAC,EAAAC,cAACwf,GAAD,CAAOxY,MAAO,CACRgM,UACAzS,OACAiP,QACA8G,YACAD,WACA6F,SACA9F,SAEH5T,QAASA,EACTuZ,WAAaA,EACbC,qBAvBiB,SAAA9c,GAAK,OAAImV,EAAenV,OA2B/CY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,OAAO0d,IAAKA,GACxBhf,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,KAEhBrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB,IAChBtE,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACT6a,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAD/C,OAAAN,OAEWE,EAFX,OAAAF,OAEyBwV,GAAawG,GAAchF,MAGvDhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBAAyBuD,mBAAkB3B,EAAI4B,QAAQ,YAAYnE,QAhF/E,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,iBAiF7BhF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAGHD,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACGT,GAAIA,EACEF,KAAMA,EACNF,SAAUA,EACVc,QAvFP,kBAAMb,EAAY,OAyFjBc,aAAc,CACXC,SAAU,MACVC,WAAY,SAEfC,gBAAiB,CACdF,SAAU,MACVC,WAAY,UAGf/D,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBAEXiV,IAAatX,EAAKiE,GAClBlD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAI2d,GAAWlC,KACzBpc,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UAAStB,EAAAC,EAAAC,cAACyf,GAAA1f,EAAD,OAA2BD,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,UAAd,WAEtDtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC0f,GAAA3f,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,kCAE3BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,0BAE1BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC4f,GAAA7f,EAAD,OAAsBD,EAAAC,EAAAC,cAAA,mCAIjCF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,2CAG5Ckf,EACGpf,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAIyd,GAASnf,EAAKiE,GAAIqT,KAChCvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC8f,GAAA/f,EAAD,OAA+BD,EAAAC,EAAAC,cAAA,0BAAAc,OAAkBE,KAEzDlB,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAIgd,GAAO1e,EAAKiE,GAAIqT,KAC9BvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC+f,GAAAhgB,EAAD,OAAuBD,EAAAC,EAAAC,cAAA,wBAAAc,OAAgBE,KAGrDlB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACggB,GAAAjgB,EAAD,OAAqBD,EAAAC,EAAAC,cAAA,oCAE7BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACigB,GAAAlgB,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,uBAAAc,OAAeE,KAE1ClB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,8BAQtCF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BAA0BX,QAAS,kBAAI2e,EAAiBlD,KACpEpc,EAAAC,EAAAC,cAAA,aAAKO,EAAL,OAIJiP,EAAM1B,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKF,EAASvS,QAAS,kBAAI2e,EAAiBlD,MAEjFpc,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM2f,KAAuBjgB,MAAO8e,EAASlR,OAAQrN,QAAS,kBAAI4T,GAAe,MAC7FvU,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM4f,KAAYlgB,MAAO,IACrCJ,EAAAC,EAAAC,cAACqgB,GAAD,CACMjK,MAAOA,EACP+G,aAAgB,kBAAIoB,GAAOrC,EAAQnd,EAAKiE,KACxCka,WAAc,kBAAIoB,GAAKpC,EAAQnd,EAAKiE,OAE1ClD,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM8f,KAAapgB,MAAO,UClLzCqgB,GAzBD,SAAA3gB,GAAa,IAAX4gB,EAAW5gB,EAAX4gB,MAEZ,OACI1gB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACA1D,EAAAC,EAAAC,cAACygB,GAAA,EAAD,KAEID,EAAMpX,IAAI,SAAAsX,GAAI,OACV5gB,EAAAC,EAAAC,cAAC2gB,GAAD,CAAMpX,IAAKmX,EAAK1d,GACRkZ,OAAUwE,EAAK1d,GACfgQ,QAAW0N,EAAK1N,QAChBqD,SAAYqK,EAAKrK,SACjBrV,SAAY0f,EAAK1f,SACjBT,KAAQmgB,EAAKngB,KACbqgB,OAAUF,EAAKE,OACfpR,MAASkR,EAAKlR,MACd8G,UAAaoK,EAAKpK,UAClBF,MAASsK,EAAKtK,uBChBhCxO,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJjB,QAAS,OACT+Z,YAAa,CACXC,WAAYhZ,EAAMyG,QAAQ,QAKjB,SAASwS,KACtB,IAAMzY,EAAUV,KAEhB,OACE9H,EAAAC,EAAAC,cAAA,OAAKoB,UAAWkH,EAAQP,MACtBjI,EAAAC,EAAAC,cAACghB,GAAA,EAAD,iBCsESC,GA9EF,WAAM,IAAAvgB,EACEjB,IAATV,EADOM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MACP3B,KADOsD,EAEWC,mBAAS,IAFpBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAERme,EAFQje,EAAA,GAED2e,EAFC3e,EAAA,GAAAG,EAGeJ,oBAAS,GAHxBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAGRye,EAHQxe,EAAA,GAGCye,EAHDze,EAAA,GAAA8Q,EAIenR,mBAAS,MAJxBoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAIRjR,EAJQkR,EAAA,GAICjR,EAJDiR,EAAA,GAAAC,EAKmBrR,mBAAS,IAL5BsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAKRoK,EALQnK,EAAA,GAKGyN,EALHzN,EAAA,GA2Df,OApDA1Q,oBAAU,WACR,IAAIoe,GAAU,EAOd,OANAhgB,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAiS,GACxCgM,IACD7e,EAAW6S,EAAS/R,QACpB8d,EAAa/L,EAAS/R,QAAU+R,EAAS/R,OAAOwa,cAG/C,kBAAMuD,GAAU,IACtB,IAEHpe,oBAAU,WACL,IAAIoe,GAAU,EAoCjB,OAnCGF,GAAW,GACRrD,EACAzc,EAAG6B,WAAW,SACboe,MAAM,WAAY,KADnB,CAC0BxiB,EAAKiE,IAD/BlC,OAAAzB,OAAAmiB,GAAA,EAAAniB,CACqC0e,KACpC0D,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACT,GAAGgM,EAAQ,CACR,GAAGhM,EAASoM,MAET,YADAN,GAAW,GAGXF,EAAS5L,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAAK2D,GAAGI,EAAIJ,IAAOI,EAAIG,WACrD6d,GAAW,KAEjB,SAAAvU,GACAvC,QAAQC,IAAIsC,KAGlBvL,EAAG6B,WAAW,SACboe,MAAM,WAAY,KAAM,CAACxiB,EAAKiE,KAC9Bye,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACT,GAAGgM,EAAQ,CACR,GAAGhM,EAASoM,MAET,YADAN,GAAW,GAGXF,EAAS5L,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAAK2D,GAAGI,EAAIJ,IAAOI,EAAIG,WACrD6d,GAAW,KAEjB,SAAAvU,GACAvC,QAAQC,IAAIsC,KAIX,kBAAMyU,GAAU,IAEtB,CAACvD,IAGAje,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK1B,GAAWA,EAAQ2B,YAEnCrE,EAAAC,EAAAC,cAAA,mBAGHF,EAAAC,EAAAC,cAAC2hB,GAAD,MAEER,GAAWrhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAetB,EAAAC,EAAAC,cAAC+gB,GAAD,OAE1CjhB,EAAAC,EAAAC,cAAC4hB,GAAD,CAAOpB,MAAOA,MCUXqB,WArFM,WAAM,IAAAxf,EACQC,mBAAS,MADjBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACjBO,EADiBL,EAAA,GACPM,EADON,EAAA,GAIlBO,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EAElC,OAEOnD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,4BACZtB,EAAAC,EAAAC,cAAA,8BAEAF,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,4BACXtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAA,oCACAF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,CAAgB4E,mBAAkB3B,EAAI4B,QAAQ,YAAYnE,QAdzD,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,kBAe7BhF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACGT,GAAIA,EACEF,KAAMA,EACNF,SAAUA,EACVc,QAlBV,kBAAMb,EAAY,OAoBdc,aAAc,CACXC,SAAU,MACVC,WAAY,SAEfC,gBAAiB,CACdF,SAAU,MACVC,WAAY,UAGf/D,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBACXtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAMF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,iCAEhDF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,gDAE/CF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,wCAE/CF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,2CAMzDF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAAf,eACAtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eAAf,gBAEHtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAA,oCACAF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAEHD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAAf,mBACAtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eAAf,gBAEHtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAA,oCACAF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAEHD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAAf,mBACAtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eAAf,gBAEHtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAA,oCACAF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAEHD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAAf,mBACAtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eAAf,oBC7DL0gB,WAfQ,SAAAliB,GAAe,IAAbkH,EAAalH,EAAbkH,QACrB,OACIhH,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAI4F,EAAO,YAAAhG,OAAegG,EAAQ9F,UAAvB,aACblB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,8BACXtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK4C,GAAWA,EAAQ3C,WAChCrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iCACXtB,EAAAC,EAAAC,cAAA,UAAK8G,EAAUA,EAAQ1C,YAAa,cACpCtE,EAAAC,EAAAC,cAAA,YAAO8G,GAAO,IAAAhG,OAAQgG,EAAQ9F,YAElClB,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,mBC8BDgU,WArCM,WAAM,IAAArhB,EACPjB,IAATV,EADgBM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAChB3B,KADgBsD,EAEEC,mBAAS,IAFXC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAEjB2f,EAFiBzf,EAAA,GAEV0f,EAFU1f,EAAA,GAkBvB,OAdDW,oBAAU,WACP,IAAIoe,GAAU,EAUd,OATAhgB,EAAG6B,WAAW,SAAS+e,MAAM,GAAG7e,WAAW,SAAAiS,GACrCgM,GACAW,EAAS3M,EAAS+J,KAAKjW,IAAI,SAAArK,GAAI,OAAAM,OAAAC,EAAA,EAAAD,CAAA,CAC5B2D,GAAGjE,EAAKiE,IACLjE,EAAKwE,aAKV,kBAAM+d,GAAU,IACvB,IAGKxhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,4BACZtB,EAAAC,EAAAC,cAAA,2BAEAF,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,4BAGX4gB,GAASA,EAAMG,OAAO,SAAAC,GAAC,OAAGA,EAAEpf,KAAKjE,EAAKiE,KAAIoG,IAAI,SAAArK,GAC3C,OAAOe,EAAAC,EAAAC,cAAA,MAAIuJ,IAAKxK,EAAKiE,IAAIlD,EAAAC,EAAAC,cAACqiB,GAAD,CAAgBvb,QAAS/H,WCFvDujB,WA1BM,SAAA1iB,GAA6C,IAA3CM,EAA2CN,EAA3CM,MAAO2G,EAAoCjH,EAApCiH,SAAUpG,EAA0Bb,EAA1Ba,QAASgW,EAAiB7W,EAAjB6W,YAAiBpU,EACpCC,oBAAS,GAD2BC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACvDkgB,EADuDhgB,EAAA,GAChDigB,EADgDjgB,EAAA,GAAAG,EAElBJ,oBAAS,GAFSK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAEvD+f,EAFuD9f,EAAA,GAEvC+f,EAFuC/f,EAAA,GAS9D,OACC7C,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAS,gBAAAN,OAAkB2hB,EAAgB,eAAe,KAC3D3iB,EAAAC,EAAAC,cAAC2iB,EAAA5iB,EAAD,CAAYqB,UAAU,6BACtBtB,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OACJqX,YAAaA,EACbmM,QAXO,WACnBJ,GAAS,GACTE,GAAkB,IAUNG,OAAU,kBAAKH,GAAkB,IACjCxiB,MAASA,EACT2G,SAAYA,IAEjB0b,GAASriB,EAAM4N,OAAO,GAAMhO,EAAAC,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYU,QAASA,QCEjDqiB,WApBC,WAAM,IAAAzgB,EACKC,mBAAS,IADdC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACZ9B,EADYgC,EAAA,GACNwgB,EADMxgB,EAAA,GAElB,OACIzC,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAEZtB,EAAAC,EAAAC,cAACgjB,GAAD,CACI9iB,MAAOK,EACPsG,SAAY,SAACwM,GAAD,OAAK0P,EAAQ1P,EAAE5G,OAAOvM,QAClCO,QAAS,kBAAIsiB,EAAQ,KACrBtM,YAAY,mBAGf3W,EAAAC,EAAAC,cAACijB,GAAD,MAEAnjB,EAAAC,EAAAC,cAACkjB,GAAD,wCCaGC,WA7BA,SAAAvjB,GAAgC,IAA9BM,EAA8BN,EAA9BM,MAAO2G,EAAuBjH,EAAvBiH,SAAUpG,EAAab,EAAba,QAAa4B,EACjBC,oBAAS,GADQC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACpCkgB,EADoChgB,EAAA,GAC7BigB,EAD6BjgB,EAAA,GAAAG,EAECJ,oBAAS,GAFVK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAEpC+f,EAFoC9f,EAAA,GAEpB+f,EAFoB/f,EAAA,GAS3C,OACI7C,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,wBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAS,iCAAAN,OAAmC2hB,GAAkB,YAC/D3iB,EAAAC,EAAAC,cAACojB,GAAArjB,EAAD,MACAD,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OACRgC,UAAS,uBAAAN,OAAyB2hB,GAAkB,gBACpDhM,YAAY,8BACZmM,QAZO,WACnBJ,GAAS,GACTE,GAAkB,IAWNG,OAAU,kBAAKH,GAAkB,IACjCxiB,MAASA,EACT2G,SAAYA,IAGb0b,GAASriB,EAAM4N,OAAO,GAAMhO,EAAAC,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYU,QAASA,4BCPrD4iB,WAfE,SAAAzjB,GAAkD,IAAhD+G,EAAgD/G,EAAhD+G,KAAM3F,EAA0CpB,EAA1CoB,SAAUsiB,EAAgC1jB,EAAhC0jB,SAAUC,EAAsB3jB,EAAtB2jB,QAAS9iB,EAAab,EAAba,QAClD,OACIX,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aAAaX,QAAU8iB,OAAiBtgB,EAARxC,GAC3CX,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKof,IACbxjB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACZtB,EAAAC,EAAAC,cAAA,UAAK2G,GACL7G,EAAAC,EAAAC,cAAA,gBAAQgB,IAGPuiB,GAAWzjB,EAAAC,EAAAC,cAACqE,EAAAtE,EAAD,SCuBZyjB,GA9BG,SAAA5jB,GAAgCA,EAA9B6jB,OAA8B,IAAtBC,EAAsB9jB,EAAtB8jB,QAAsBhjB,GAAAd,EAAb2jB,QAChB9jB,KAATV,EADsCM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MACtC3B,KADsCsD,EAExBC,mBAAS,IAFeC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAEvCshB,EAFuCphB,EAAA,GAElCqhB,EAFkCrhB,EAAA,GAAAG,EAGdJ,mBAAS,MAHKK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAGvCmhB,EAHuClhB,EAAA,GAG7BmhB,EAH6BnhB,EAAA,GAiB9C,OAZAO,oBAAU,WACN0gB,EAAOF,EAAQvB,OAAO,SAAA4B,GAAM,OAAEA,IAAShlB,EAAKiE,KAAIghB,aACjD,IAEH9gB,oBAAU,WACHygB,EAAI7V,OAAO,GACVxM,EAAG6B,WAAW,SAASC,IAAIugB,GAAKtgB,WAAW,SAAAiS,GACvCwO,EAAYxO,EAAS/R,WAG9B,CAACogB,IAGA7jB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBACXtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK2f,GAAYA,EAAS1f,WAClCrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACZtB,EAAAC,EAAAC,cAAA,UAAK6jB,GAAYA,EAASzf,aAC1BtE,EAAAC,EAAAC,cAAA,YAAO6jB,GAAQ,IAAA/iB,OAAQ+iB,EAAS7iB,YAEnClB,EAAAC,EAAAC,cAACqE,EAAAtE,EAAD,QC/BCkkB,WACC,YADDA,GAEI,cAFJA,GAGG,aAGHC,GAAc,SAAChlB,EAAOC,GAC/B,OAAQA,EAAOC,MACX,KAAK6kB,GACD,SAAAnjB,OAAAzB,OAAAmiB,GAAA,EAAAniB,CAAWH,GAAX,CAAkBC,EAAOglB,OAG7B,KAAKF,GACD,OAAO/kB,EAAMijB,OAAO,SAAApjB,GAAI,OAAIA,EAAKiE,KAAO7D,EAAO6D,KAGnD,KAAKihB,GACD,MAAO,GAGX,QACI,OAAO/kB,IClBNklB,GAAc5kB,0BAYZ6kB,GAVa,SAAAzkB,GAAgB,IAAdC,EAAcD,EAAdC,SAAcykB,EACdnkB,qBAAW+jB,GAAa,IADVK,EAAAllB,OAAAsB,EAAA,EAAAtB,CAAAilB,EAAA,GACjCE,EADiCD,EAAA,GAC1B9e,EAD0B8e,EAAA,GAGxC,OACIzkB,EAAAC,EAAAC,cAACokB,GAAYnkB,SAAb,CAAsBC,MAAO,CAACskB,QAAO/e,aAChC5F,ICqJE4kB,GAhJI,WAAM,IAAApiB,EACOC,mBAAS,IADhBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACdqiB,EADcniB,EAAA,GACNoiB,EADMpiB,EAAA,GAAAG,EAEqBJ,mBAAS,IAF9BK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAEdkiB,EAFcjiB,EAAA,GAECkiB,EAFDliB,EAAA,GAAA8Q,EAGSnR,mBAAS,IAHlBoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAGdqR,EAHcpR,EAAA,GAGLqR,EAHKrR,EAAA,GAAAC,EAISrR,oBAAS,GAJlBsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAIdwN,EAJcvN,EAAA,GAILwN,EAJKxN,EAAA,GAAAlT,EAKJjB,IAATV,EALaM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAKb3B,KALaimB,EAMKtlB,qBAAW0kB,IAA9BI,EANcQ,EAMdR,MAAO/e,EANOuf,EAMPvf,SAEVwf,EAAa,GACbC,EAAmB,GAWjBC,EAAe,SAACpmB,GAAD,OAAUqmB,EAAWrmB,IAEpCqmB,EAAa,SAACrmB,GAChB0G,EAAS,CACLrG,KAAM6kB,GACNjhB,GAAKjE,EAAKiE,MAIlBE,oBAAU,WACN,IAAMmiB,EAAc/jB,EAAG6B,WAAW,SAASoe,MAAM,UAAW,iBAAkBxiB,EAAKiE,IAAIK,WAAW,SAAAiS,GAAQ,OACvGuP,EAAiBvP,EAAS+J,KAAKjW,IAAI,SAAChG,GAChC,OAAO/D,OAAAC,EAAA,EAAAD,CAAA,CACH2D,GAAGI,EAAIJ,IACJI,EAAIG,aAKlB,OAAO,WACH8hB,MAEL,IAEHT,EAAcxb,IAAI,SAAA+a,GAAI,OAAEA,EAAKT,QAAQ4B,QAAQ,SAAAvB,GAAM,OAAGkB,EAAWlI,KAAKgH,OACtEkB,EAAW7b,IAAI,SAAA2a,GACX,OAA2C,IAApCmB,EAAiBK,QAAQxB,IAAgBmB,EAAiBnI,KAAKgH,KAwC1E,OAnCA7gB,oBAAU,WAqBN,OAAO,kBAnBHke,GAAW,GACC9f,EAAG6B,WAAW,SAASoe,MAAM,cAAe,KAAMmD,GAAQc,MAAM3a,KAAK,SAAAoG,GACzEA,EAAOyQ,OACPqD,EAAW,IACXza,QAAQC,IAAI,2BACZ6W,GAAW,KAET2D,EAAW9T,EAAOoO,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC5B2D,GAAII,EAAIJ,IACLI,EAAIG,WAIX6d,GAAW,QAOxB,CAACsD,IAUJpa,QAAQC,IAAI0a,GACZ3a,QAAQC,IAAI2a,GAGRplB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,sBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,6BACbtB,EAAAC,EAAAC,cAAC2iB,EAAA5iB,EAAD,MACAD,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OAAOqX,YAAY,gBAC5BvW,MAAOwkB,EACP7d,SAAU,SAAAwM,GAAC,OAAIsR,EAAUtR,EAAE5G,OAAOvM,WAKnCskB,EAAM1W,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAE3BojB,EAAMpb,IAAI,SAAAqc,GACN,OAAQ3lB,EAAAC,EAAAC,cAAC0lB,GAAA,EAAD,CAAMnc,IAAKkc,EAAQziB,GACX4d,OAAQ9gB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKuhB,EAAQthB,WAC7BsF,MAAOgc,EAAQrhB,YACf3D,QAAS,kBAAI0kB,EAAaM,IAC1BE,SAAU,kBAAIR,EAAaM,UAS1DtE,GAAYrhB,EAAAC,EAAAC,cAAC4lB,GAAA,EAAD,MAEd9lB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBAEX0jB,EAAQ3C,OAAO,SAAA7e,GAAG,OAAG4hB,EAAiB5H,SAASha,EAAIN,MAAKoG,IAAI,SAAAqc,GACxD,OAAS3lB,EAAAC,EAAAC,cAAC6lB,GAAD,CAAUtc,IAAKkc,EAAQziB,GACb2D,KAAQ8e,EAAQrhB,YAChBpD,SAAYykB,EAAQzkB,SACpBsiB,SAAYmC,EAAQthB,SACpB1D,QAAW,WA7GzCgF,EAAS,CACLrG,KAAM6kB,GACNE,KA2GyDsB,KAC/BlC,SA3EfxkB,EA2EoC0mB,EA3E3BjB,EAAMsB,KAAK,SAAAzc,GAAI,OAAIA,EAAKrG,KAAOjE,EAAKiE,QAA9C,IAACjE,IAiFP6lB,EAAcxb,IAAI,SAAA+a,GACd,OAAOrkB,EAAAC,EAAAC,cAAC+lB,GAAD,CAAWxc,IAAK4a,EAAKnhB,GACpBygB,OAAWU,EAAKnhB,GAChB0gB,QAAWS,EAAKT,eCpJ7BsC,WACO,SAAUrO,GAAY,IAAAC,EACfD,EAAWtG,MAAM,MADFwG,EAAAxY,OAAAsB,EAAA,EAAAtB,CAAAuY,EAAA,GAC7BE,EAD6BD,EAAA,GACvBE,EADuBF,EAAA,GAAAG,EAETF,EAAKzG,MAAM,KAFF4G,EAAA5Y,OAAAsB,EAAA,EAAAtB,CAAA2Y,EAAA,GAE7BE,EAF6BD,EAAA,GAEtBE,EAFsBF,EAAA,GAEjBG,EAFiBH,EAAA,GAAAI,EAGLN,EAAK1G,MAAM,KAHNiH,EAAAjZ,OAAAsB,EAAA,EAAAtB,CAAAgZ,EAAA,GAAAE,EAImB,CAACH,EAAMF,EAAOC,EAJjCG,EAAA,GAAAA,EAAA,GAAAA,EAAA,IAI4DlP,IAAI,SAAAoP,GAAC,OAAGC,SAASD,KAJ7EE,EAAArZ,OAAAsB,EAAA,EAAAtB,CAAAkZ,EAAA,GAI7BI,EAJ6BD,EAAA,GAItBE,EAJsBF,EAAA,GAIdG,EAJcH,EAAA,GAIRI,EAJQJ,EAAA,GAIDK,EAJCL,EAAA,GAIQM,EAJRN,EAAA,GAO9BO,EAAQ,IAAI3L,KACZ4L,EAAkBT,SAASQ,EAAMxL,eACjC0L,EAAkBV,SAAUQ,EAAM1L,WAAW,GAC7C6L,EAAkBX,SAASQ,EAAMzL,WACjC6L,EAAkBZ,SAASQ,EAAMK,YACjCC,EAAkBd,SAASQ,EAAMO,cACjCC,EAAkBhB,SAASQ,EAAMS,cAEjCC,EAAS,SAACC,GAAD,OAASA,EAAG,IAAM,GAAKA,EAAG,MAAM,GAAOA,EAAG,MAAQ,GAE3DqM,EAAU,SAACxV,EAAGqJ,EAAIvT,EAAGwT,EAAGC,EAAIC,GAC9B,IAAIC,EAAI,EACR,GAAIJ,EAAG,EAAE,CACL,IAAK,IAAItB,EAAE,EAAGA,EAAEjS,EAAGiS,IACnB0B,GAAI,EAEJ,OAAU,MAAHA,EAAW,KAAFH,EAAU,GAAHC,EAAMC,EAIjC,IADA,IAAIE,EAAM,EACD3B,EAAE,EAAIA,EAAEsB,EAAKtB,IAElB2B,GADQ,IAAJ3B,GAAa,IAAJA,GAAa,IAAJA,GAAa,KAAJA,EACzB,GAEI,IAANA,EACOmB,EAAOlJ,GAAI,GAAI,GACb,GAGjB,OAAkB,OAAV0J,EAAK5T,EAAE,GAAY,KAAFwT,EAAU,GAAHC,EAAMC,GA0BpCG,EAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAgBhG,OAdsB,SAACC,EAAKnB,EAAOP,EAAOC,EAAQC,EAAMC,EAAOC,GAC3D,OAAIsB,EAAK,MACL,GAAAvZ,OAAUgY,EAAV,KAAAhY,OAAmBiY,EAAnB,KAAAjY,OAA8BgY,EAAM,GAAG,KAAK,MAG7CuB,EAAI,OAASA,EAAI,OAChB,YAGDA,EAAI,OACH,GAAAvZ,OAAUsZ,EAAUxB,EAAO,GAA3B,KAAA9X,OAAiC+X,EAAjC,MAAA/X,OAA0C6X,QAD9C,EAKGuN,CAtCgB,SAACzL,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,EAAIC,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,GAC1D,IAAMC,EAAQ4K,EAAQxL,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,GACjCQ,EAAQ2K,EAAQlL,EAAGC,EAAIC,EAAGC,EAAGC,EAAIC,GAEnCG,EAAI,EAER,GAAIR,IAAON,GAAOM,IAAON,EAAG,EACxBc,EAAM,OAGV,IAAI,IAAI/C,EAAEiC,EAAG,EAAGjC,EAAEuC,EAAIvC,IACdmB,EAAOnB,KACX+C,GAAK,KAELA,GAAK,IAGT,IAAMC,EAAI7B,EAAOc,GAAK,SAASY,EAAQ,QAASA,EAEhD,OAAQN,IAAKN,EAAKe,EAAQ,MAAJD,EAAYD,EAAQA,EAAMD,EAmB/B8K,CAAexN,EAAMC,EAAOC,EAAKC,EAAMC,EAAQC,EAASE,EAAMC,EAAOC,EAAKC,EAAME,EAAQE,GAASP,EAAOP,EAAOC,EAAQC,EAAMC,EAAOC,KCKlJqN,GA3EW,SAAAxmB,GAA6BA,EAA3B+G,KAA2B,IAArB8c,EAAqB7jB,EAArB6jB,OAAqB/iB,GAAAd,EAAb8jB,QACrBjkB,KAATV,EAD2CM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAC3C3B,KAD2CsD,EAEnBC,mBAAS,IAFUC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAE5CgkB,EAF4C9jB,EAAA,GAElC+jB,EAFkC/jB,EAAA,GAAAG,EAGrBJ,mBAAS,MAHYK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAG5C6jB,EAH4C5jB,EAAA,GAGnC6jB,EAHmC7jB,EAAA,GAAA8Q,EAI7BnR,mBAAS,IAJoBoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAI5CkQ,EAJ4CjQ,EAAA,GAIvCkQ,EAJuClQ,EAAA,GAMnDxQ,oBAAU,WACN,IAAIoe,GAAU,EAad,OAZGmC,GACCniB,EAAG6B,WAAW,SACXC,IAAIqgB,GACJtgB,WAAW,YACXse,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACPgM,GACCgF,EAAYhR,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAEA,EAAIG,YAK5C,kBAAM+d,GAAU,IACxB,IAGHpe,oBAAU,WACN,IAAIoe,GAAU,EASd,OARGmC,GACCniB,EAAG6B,WAAW,SAASC,IAAIqgB,GAAQpgB,WAAW,SAAAiS,GACvCgM,GACCsC,EAAOtO,EAAS/R,OAAOmgB,QAAQvB,OAAO,SAAAzE,GAAM,OAAEA,IAAS3e,EAAKiE,KAAI,MAKrE,kBAAMse,GAAU,IACxB,CAACmC,IAGJvgB,oBAAU,WACN,IAAIoe,GAAU,EAWd,OAVGqC,GACCriB,EAAG6B,WAAW,SACbC,IAAIugB,GACJtgB,WAAW,SAAAiS,GACLgM,GACCkF,EAAWlR,EAAS/R,UAKzB,kBAAM+d,GAAU,IACxB,CAACqC,IAUJ,OACI7jB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAE,aAAAJ,OAAe2iB,GAAUA,GAAUriB,UAAS,oBAAuBC,gBAAgB,eAC1FvB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKqiB,EAASA,EAAQpiB,SAAU,OACxCrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACXtB,EAAAC,EAAAC,cAAA,cAAMumB,EAAUA,EAAQniB,YAAa,aACrCtE,EAAAC,EAAAC,cAAA,YAAOumB,EAAO,IAAAzlB,OAAOylB,EAAQvlB,UAAY,KAEzClB,EAAAC,EAAAC,cAAA,SAAIqmB,EAAS,KAAOA,EAAS,GAAGI,QAAQ3Y,OAAO,GAA3B,GAAAhN,OAAiCulB,EAAS,GAAGI,QAAQC,MAAM,EAAE,IAA7D,QAAuEL,EAAS,GAAGI,WAE3G3mB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BAA2BilB,EAAS,IAhBrC,SAACtO,GACnB,GAAGA,EAAK,CACJ,IAAMD,EAAO4D,GAA+B3D,GAC5C,OAAO+E,GAAqBhF,IAa6B6O,CAAcN,EAAS,GAAG/P,cCkChFsQ,WAjGK,WAAM,IAAAlmB,EACLjB,IAATV,EADcM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MACd3B,KADcwG,EAEGJ,IAAjBH,EAFc3F,OAAAsB,EAAA,EAAAtB,CAAAkG,EAAA,MAEdP,aAFcggB,EAGItlB,qBAAW0kB,IAA9BI,EAHeQ,EAGfR,MAAO/e,EAHQuf,EAGRvf,SAHQpD,EAIgBC,oBAAS,GAJzBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAIf+R,EAJe7R,EAAA,GAIF8R,EAJE9R,EAAA,GAAAG,EAKoBJ,mBAAS,IAL7BK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAKfkiB,EALejiB,EAAA,GAKAkiB,EALAliB,EAAA,GAAA8Q,EAMEnR,mBAAS,IANXoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAMflT,EANemT,EAAA,GAMTqP,EANSrP,EAAA,GAQhBmT,EAAWC,yBAAc,CAAEC,SAAU,MAE3C7jB,oBAAU,WACN,IAAMmiB,EAAc/jB,EAAG6B,WAAW,SAASoe,MAAM,UAAW,iBAAkBxiB,EAAKiE,IAAIK,WAAW,SAAAiS,GAAQ,OACtGuP,EAAiBvP,EAAS+J,KAAKjW,IAAI,SAAChG,GAWhC,OAAO/D,OAAAC,EAAA,EAAAD,CAAA,CACH2D,GAAII,EAAIJ,IACLI,EAAIG,aAOnB,OAAO,kBAAI8hB,MAGZ,CAACtmB,IAmBJ,OACIe,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAAC+V,GAAD,CAAQjT,KAAMsR,EACN1Q,QAAS,kBAAI2Q,GAAe,IAC5B3K,MAAM,cACNiE,SAtBM,WACd6W,GACAA,EAAMc,QAAQ,SAAAnB,GACV7iB,EAAG6B,WAAW,SAASgT,IAAI,CACvB6Q,MAAK,GAAAlmB,OAAK/B,EAAKqF,YAAV,KAAAtD,OAAyB/B,EAAKiC,SAA9B,KAAAF,OAA0CqjB,EAAK/f,YAA/C,KAAAtD,OAA8DqjB,EAAKnjB,UACxE0iB,QAAS,CAAC3kB,EAAKiE,GAAImhB,EAAKnhB,MAE5ByC,EAAS,CACPrG,KAAO6kB,GACPjhB,GAAOmhB,EAAKnhB,QAcVxC,KAAQ+e,KACR3R,WAAW,QAEX9N,EAAAC,EAAAC,cAACinB,GAAD,OAGRnnB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAAA,OAAKoB,UAAS,eAAAN,OAAkBkE,GAAgB6hB,GAAa,UACzD/mB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,uBACXtB,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACZtB,EAAAC,EAAAC,cAACknB,EAAAnnB,EAAD,CAAiBU,QAAS,kBAAI4T,GAAe,QAIpDvU,EAAAC,EAAAC,cAACmnB,GAAD,CAAQjnB,MAAOK,EACPsG,SAAY,SAACwM,GAAD,OAAK0P,EAAQ1P,EAAE5G,OAAOvM,QAClCO,QAAS,kBAAIsiB,EAAQ,OAG7BjjB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,sBA5BHwjB,EAAczC,OAAO,SAAAgC,GAAI,OAAEA,EAAK6C,MAAMjmB,cAAcuc,SAAS/c,EAAKQ,iBA8B1DqI,IAAI,SAAA+a,GAAI,OACtBrkB,EAAAC,EAAAC,cAAConB,GAAD,CAAmB7d,IAAK4a,EAAKnhB,GAC3B0gB,QAAWS,EAAKT,QAChBD,OAAUU,EAAKnhB,wIC/FrC4E,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCuf,MAAO,CACHvgB,QAAS,OACTwgB,WAAY,SACZC,eAAgB,SAChBC,QAAS,WA+BFC,GA3BI,SAAA7nB,GAA6B,IAA3BkD,EAA2BlD,EAA3BkD,KAAMY,EAAqB9D,EAArB8D,QAASgkB,EAAY9nB,EAAZ8nB,OAC1Bpf,EAAUV,KAEhB,OACA9H,EAAAC,EAAAC,cAAC2nB,GAAA,EAAD,CACIpgB,kBAAgB,yBAChB5C,mBAAiB,+BACjBvD,UAAWkH,EAAQ+e,MACnBvkB,KAAMA,EACNY,QAASA,EACTkkB,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbC,QAAS,MAGXloB,EAAAC,EAAAC,cAACioB,GAAA,EAAD,CAAMC,GAAIplB,GACPhD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,4BACZtB,EAAAC,EAAAC,cAAA,OAAKkE,IAAKwjB,EAAQxU,IAAI,kBCerBiV,GAzCK,SAAAvoB,GAAW,IAATwoB,EAASxoB,EAATwoB,IAAS1nB,EACVjB,IAATV,EADmBM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MACnB3B,KADmBsD,EAEHC,oBAAS,GAFNC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAEpBS,EAFoBP,EAAA,GAEd8lB,EAFc9lB,EAAA,GAAAG,EAGDJ,mBAAS,IAHRK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAGpBglB,EAHoB/kB,EAAA,GAGZ2lB,EAHY3lB,EAAA,GAIpBK,EAAMolB,EAANplB,GAJoBulB,EAKmBH,EAAI7kB,KAA3CiM,EALoB+Y,EAKpB/Y,MAAOiX,EALa8B,EAKb9B,QAASnQ,EALIiS,EAKJjS,UAAWD,EALPkS,EAKOlS,SAG5BmS,EAAe,SAACrd,GAClBmd,EAAUnd,GACVkd,GAAQ,IAKZ,OAAOvoB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACH1D,EAAAC,EAAAC,cAACyoB,GAAD,CAAY3lB,KAAMA,EACXY,QAJS,kBAAM2kB,GAAQ,IAKvBX,OAAQA,IAGXrR,IAAatX,EAAKiE,GACdlD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cAAcmI,IAAKvG,GAC9BlD,EAAAC,EAAAC,cAAA,KAAGoB,UAAS,gCACPoO,GAAS1P,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAI,SAASzS,QAAS,kBAAI+nB,EAAahZ,MACjEiX,GAAW3mB,EAAAC,EAAAC,cAAA,YAAOymB,IAEvB3mB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,mBAAmBsa,GAA+BpF,GAAjE,IAA6ExW,EAAAC,EAAAC,cAAC0oB,GAAA3oB,EAAD,QAGjFD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aAAamI,IAAKvG,GAC7BlD,EAAAC,EAAAC,cAAA,KAAGoB,UAAS,iBACPoO,GAAS1P,EAAAC,EAAAC,cAAA,OAAKkE,IAAMsL,EAAO0D,IAAI,SAASzS,QAAS,kBAAI+nB,EAAahZ,MAClEiX,GAAW3mB,EAAAC,EAAAC,cAAA,YAAOymB,IAEvB3mB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BAA0Bsa,GAA+BpF,OC+P7EqS,GAtQF,WAAM,IACTlF,EAAUmF,cAAVnF,OADSphB,EAEgBC,mBAAS,IAFzBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAETgkB,EAFS9jB,EAAA,GAEC+jB,EAFD/jB,EAAA,GAAAG,EAGQJ,mBAAS,IAHjBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAGTnC,EAHSoC,EAAA,GAGHogB,EAHGpgB,EAAA,GAAA8Q,EAIcnR,mBAAS,IAJvBoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAITiQ,EAJShQ,EAAA,GAIAmV,EAJAnV,EAAA,GAAAC,EAKcrR,mBAAS,IALvBsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAKT7M,EALS8M,EAAA,GAKAkV,EALAlV,EAAA,GAAAlT,EAMCjB,IAATV,EANQM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAMR3B,KANQwG,EAOmBJ,IAPnBK,EAAAnG,OAAAsB,EAAA,EAAAtB,CAAAkG,EAAA,GAOOE,GAPPD,EAAA,GAORR,aAPQQ,EAAA,IAQV2W,EAAU/Z,cARA0R,EAUcxR,mBAAS6K,GAAgBpO,EAAKqF,cAV5C2P,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAUTd,EAVSe,EAAA,GAUAd,EAVAc,EAAA,GAAAG,EAWgB5R,mBAAS,MAXzB6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAWTtR,EAXSuR,EAAA,GAWCtR,EAXDsR,EAAA,GAAAG,EAYkBhS,oBAAS,GAZ3BiS,EAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,EAAA,GAYTc,EAZSb,EAAA,GAYEc,EAZFd,EAAA,GAAAG,EAeMpS,mBAAS,MAffqS,EAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,EAAA,GAeTxQ,EAfSyQ,EAAA,GAeJd,EAfIc,EAAA,GAAAE,EAgBsBvS,mBAAS,MAhB/BwS,EAAAzV,OAAAsB,EAAA,EAAAtB,CAAAwV,EAAA,GAgBTb,GAhBSc,EAAA,GAgBIb,GAhBJa,EAAA,GAAAE,GAiBsB1S,oBAAS,GAjB/B2S,GAAA5V,OAAAsB,EAAA,EAAAtB,CAAA2V,GAAA,GAiBTZ,GAjBSa,GAAA,GAiBIZ,GAjBJY,GAAA,GAAAC,GAkBgC5S,mBAAS,CAACgJ,MAAO,EAAGE,OAAQ,IAlB5D2J,GAAA9V,OAAAsB,EAAA,EAAAtB,CAAA6V,GAAA,GAkBTV,GAlBSW,GAAA,GAkBSV,GAlBTU,GAAA,GAAA4T,GAmBoCzmB,mBAAS,MAnB7C0mB,GAAA3pB,OAAAsB,EAAA,EAAAtB,CAAA0pB,GAAA,GAmBT5Z,GAnBS6Z,GAAA,GAmBWpU,GAnBXoU,GAAA,GAAAC,GAoBqC3mB,mBAAS,MApB9C4mB,GAAA7pB,OAAAsB,EAAA,EAAAtB,CAAA4pB,GAAA,GAoBTlU,GApBSmU,GAAA,GAoBW/W,GApBX+W,GAAA,GAuBhBhmB,oBAAU,WACHugB,GACDniB,EAAG6B,WAAW,SAASC,IAAIqgB,GAAQpgB,WAAW,SAAAiS,GAC3CuT,EAAWvT,EAAS/R,QAAU+R,EAAS/R,OAAOmgB,QAAQvB,OAAO,SAAAzE,GAAM,OAAEA,IAAS3e,EAAKiE,KAAI,MAI7F1B,EAAG6B,WAAW,SACXC,IAAIqgB,GACJtgB,WAAW,YACXse,QAAQ,YAAa,OACrBpe,WAAW,SAAAiS,GACTgR,EAAYhR,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,MAAG,CAACJ,GAAII,EAAIJ,GAAIO,KAAMH,EAAIG,aAGhEkC,EAAS,CACNrG,KAAMJ,EACNgG,cAAc,KAKjB,CAACye,IAEJvgB,oBAAU,WACJwgB,GACApiB,EAAG6B,WAAW,SACbC,IAAIsgB,GACJrgB,WAAW,SAAAiS,GACTwT,EAAWxT,EAAS/R,WAG1B,CAACmgB,IAEJ,IAAMyF,GAAc,SAAC9V,GAClBA,EAAE6C,iBACFb,GAAa,GAERrB,GACChK,GAAiBgK,IAChBnJ,KAAM,SAAAvH,GAEJhC,EAAG6B,WAAW,SACZC,IAAIqgB,GACJtgB,WAAW,YACXgT,IAAI,CACAE,SAAUtX,EAAKiE,GACfyjB,QAASlmB,EACTiP,MAAQlM,EACRgT,UAAW/U,IAASS,UAAUuU,WAAWC,oBAE/CuM,EAAQ,IACRlP,EAAO,MACPI,GAAe,MACfoB,GAAa,KAEfrK,MAAO,SAAAC,GACLoK,GAAa,MAIhB/T,EAAG6B,WAAW,SACZC,IAAIqgB,GACJtgB,WAAW,YACXgT,IAAI,CACHE,SAAUtX,EAAKiE,GACfyjB,QAASlmB,EACT+V,UAAW/U,IAASS,UAAUuU,WAAWC,oBAE5CuM,EAAQ,IACRlP,EAAO,MACPwB,GAAa,KAkBrBnS,oBAAU,WACN0R,GAAsBJ,GAAiBlJ,MAAMkJ,GAAiBhJ,SAC/D,CAACgJ,KAEJ,IAaMnM,GAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,GACNF,KAAM1J,EAAAC,EAAAC,cAACuV,GAAAxV,EAAD,MACNsJ,KAAMvJ,EAAAC,EAAAC,cAACwV,GAAD,CACEhG,MAAOtL,EACPiO,sBAAwBA,GACxBhD,mBAAyBA,MAGrC,CACInM,GAAI,EACJ0G,MAAO,MACPF,KAAM,GACNH,KAAMvJ,EAAAC,EAAAC,cAACyV,GAAD,CAAQjG,MAAOuF,GAAoB/B,QAASA,EAASC,WAAYA,MAIzEnQ,GAAOC,QAAQH,GACfI,GAAKF,GAAO,oBAAiBG,EAkBnC,OACEnD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACM1D,EAAAC,EAAAC,cAAC+V,GAAD,CAAQjT,KAAMsR,GACN1Q,QAAS,kBAAI2Q,IAAe,IAC5B3K,MAAM,aACNiE,SAnDS,WAJrBkG,EAAOlI,IAAIC,gBAAgBmJ,KAC3Bd,GAAec,IAKQ,IAAnB/B,EAAQlF,QACRmF,EAAW9F,GAAgBpO,EAAKqF,eAiDxB5D,KAAQwV,KACRpI,WAAW,QAEX9N,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,MAG/BvI,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,mBACZtB,EAAAC,EAAAC,cAACopB,GAAArpB,EAAD,CAAwBU,QAvBnB,WACbgF,EAAS,CACNrG,KAAMJ,IAGTmd,EAAQY,KAAK,iBAoBRjd,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK4C,GAAWA,EAAQ3C,YAEnCrE,EAAAC,EAAAC,cAAA,UAAK8G,GAAWA,EAAQ1C,aACxBtE,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,aAAAJ,OAAe2iB,EAAf,UAA8B3jB,EAAAC,EAAAC,cAACqpB,GAAAtpB,EAAD,CAAUgkB,OAAQjd,MAG1DhH,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cAETilB,EAASjd,IAAI,SAAAgf,GACT,OAAOtoB,EAAAC,EAAAC,cAACspB,GAAD,CAAa/f,IAAK6e,EAAIplB,GAAIolB,IAAKA,OAKhDtoB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACV8C,GACFpE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACZtB,EAAAC,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYqB,UAAU,aAAaX,QAAS,kBAAIoT,EAAO,SACvD/T,EAAAC,EAAAC,cAAA,OAAKkE,IAAKA,EAAKgP,IAAI,aACnBpT,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,YAAYX,QAAS,kBAAI4T,IAAe,KAA1D,SAIHvU,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAM+oB,KACPnqB,KAAK,OACLsH,OAAO,UACPC,KAAK,eACL3D,GAAG,cACH6D,SAnHF,SAAAwM,GACjB,IAAMwD,EAAa,IAAIlG,WACvBkG,EAAW9F,UAAY,WACnB8C,EAAOgD,EAAW5F,QAClBgD,GAAe4C,EAAW5F,SAE9B4F,EAAW/F,cAAcuC,EAAE5G,OAAON,MAAM,IAExCN,GAAQwH,GAAGxI,KAAK,SAAAvH,GACZmR,GAAoB,CAACnJ,MAAOhI,EAAIgI,MAAOE,OAAQlI,EAAIkI,cA4GhD1L,EAAAC,EAAAC,cAACwpB,GAAAzpB,EAAD,MACAD,EAAAC,EAAAC,cAAA,QAAMiW,SAAUkT,IACbrpB,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OACTqX,YAAY,sBACZvW,MAAOK,EACPsG,SAAW,SAACwM,GAAD,OAAK0P,EAAQ1P,EAAE5G,OAAOvM,UAEpCJ,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACbtB,EAAAC,EAAAC,cAACypB,GAAA1pB,EAAD,CAAgC4E,mBAAkB3B,GAAI5D,KAAK,SAASqB,QAzE5D,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,kBA0EpChF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACMT,GAAIA,GACJF,KAAMA,GACNF,SAAUA,EACVc,QA7EH,kBAAMb,EAAY,OA8Efc,aAAc,CACXC,SAAU,MACVC,WAAY,UAEfC,gBAAiB,CACdF,SAAU,SACVC,WAAY,UAEfE,MAAO,CACJC,UAAW,4BAIdlE,EAAAC,EAAAC,cAACkX,GAAAnX,EAAD,CAAQoX,aAzFV,SAACtS,EAAOuS,GACzB,IAAIC,EAAa9W,EAAO6W,EAAYE,MACpCyL,EAAQ1L,QA4FMnT,GAAO3D,EAAKuN,OAAO,EACpBsH,EACAtV,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,eAActB,EAAAC,EAAAC,cAACwX,GAAD,OAC7B1X,EAAAC,EAAAC,cAAC0pB,GAAA3pB,EAAD,CAAUX,KAAK,SAASgC,UAAU,WAAWX,QAAS0oB,KACtDrpB,EAAAC,EAAAC,cAAC0pB,GAAA3pB,EAAD,8BC/LP4pB,WAjFU,WACrB,IAAMxN,EAAU/Z,cACTqhB,EAAUmF,cAAVnF,OAFoB/iB,EAGVjB,IAATV,EAHmBM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAGnB3B,KAHmBwG,EAIQJ,IAJRK,EAAAnG,OAAAsB,EAAA,EAAAtB,CAAAkG,EAAA,GAIJE,GAJID,EAAA,GAInBR,aAJmBQ,EAAA,IAAAnD,EAKDC,mBAAS,CAAEsnB,UAAU,IALpBrnB,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAKpBnD,EALoBqD,EAAA,GAKboN,EALapN,EAAA,GAAAG,EAOGJ,mBAAS,IAPZK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAOpBghB,EAPoB/gB,EAAA,GAOXkmB,EAPWlmB,EAAA,GAAA8Q,EAQGnR,mBAAS,IARZoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAQpB3M,EARoB4M,EAAA,GAQXoV,EARWpV,EAAA,GAY3BxQ,oBAAU,WACJugB,IACDniB,EAAG6B,WAAW,SAASC,IAAIqgB,GAAQpgB,WAAW,SAAAiS,GAC3CuT,EAAWvT,EAAS/R,QAAU+R,EAAS/R,OAAOmgB,QAAQvB,OAAO,SAAAzE,GAAM,OAAEA,IAAS3e,EAAKiE,KAAI,MAG1FyC,EAAS,CACNrG,KAAMJ,MAKX,CAACykB,IAEJvgB,oBAAU,WACLwgB,GACApiB,EAAG6B,WAAW,SACbC,IAAIsgB,GACJrgB,WAAW,SAAAiS,GACTwT,EAAWxT,EAAS/R,WAGzB,CAACmgB,IAYJ,OACI5jB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,4BACbtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,kCACZtB,EAAAC,EAAAC,cAACopB,GAAArpB,EAAD,CAAuBU,QAAS,kBAAI0b,EAAQ0N,aAE9C/pB,EAAAC,EAAAC,cAAA,gCAGHF,EAAAC,EAAAC,cAACqiB,GAAD,CAAgBvb,QAASA,IAExBhH,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACZtB,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,8BACCF,EAAAC,EAAAC,cAAC8pB,GAAA,EAAD,CACIC,QAAS7qB,EAAM0qB,SACf/iB,SArDE,SAAChC,GAAW8K,EAAStQ,OAAAC,EAAA,EAAAD,CAAA,GAAKH,EAANG,OAAA2qB,GAAA,EAAA3qB,CAAA,GAAcwF,EAAM4H,OAAO9F,KAAO9B,EAAM4H,OAAOsd,YAsDrEjhB,MAAM,UACNnC,KAAK,WACLsjB,WAAY,CAAE9gB,aAAc,wBAKvCrJ,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,eACXtB,EAAAC,EAAAC,cAAA,oBAAAc,OAAegG,GAAWA,EAAQ9F,WAClClB,EAAAC,EAAAC,cAAA,qBAAAc,OAAgBgG,GAAWA,EAAQ9F,WACnClB,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,MAAMX,QAtCL,WACpBgjB,GACSniB,EAAG6B,WAAW,SAASC,IAAIqgB,GACjC3F,OAAO,CACR4F,QAASniB,IAASS,UAAUuU,WAAW4H,YAAYpf,EAAKiE,MACxD6H,KAAK,SAAAvH,GAAG,OAAG6Y,EAAQY,KAAK,iBAiCrB,sDC9Ef,IAwKemN,GAxKD,WAAM,IAAA7nB,EACQC,oBAAS,GADjBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACTJ,EADSM,EAAA,GACH4nB,EADG5nB,EAAA,GAEV6nB,EAAgB,CAClBzjB,KAAkB,GAClB3F,SAAkB,GAClBqpB,MAAkB,GAClBC,SAAkB,GAClBC,gBAAkB,IAEhBC,EAAe,CACjBH,MAAkB,GAClBC,SAAkB,IAXN5pB,EAaUjB,IAbVgrB,EAAAprB,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,GAaF+E,GAbEglB,EAAA,GAaR1rB,KAbQ0rB,EAAA,IAAA/nB,EAcsBJ,mBAAS8nB,GAd/BznB,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAcTgoB,EAdS/nB,EAAA,GAcIgoB,EAdJhoB,EAAA,GAAA8Q,EAeoBnR,mBAASkoB,GAf7B9W,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAeTmX,EAfSlX,EAAA,GAeGmX,EAfHnX,EAAA,GAAAC,EAgBUrR,mBAAS,IAhBnBsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAgBT9G,EAhBS+G,EAAA,GAgBFkX,EAhBElX,EAAA,GAAAE,EAiBcxR,oBAAS,GAjBvByR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAiBTqN,EAjBSpN,EAAA,GAiBAqN,EAjBArN,EAAA,GAAAG,EAmBkB5R,oBAAS,GAnB3B6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAmBT6W,EAnBS5W,EAAA,GAmBE6W,EAnBF7W,EAAA,GA6BV8W,EAAa,WACfd,EAAQ,SAAAloB,GAAI,OAAGA,IARf+oB,GAAa,GACbL,EAAeP,GACfS,EAAcL,GACdM,EAAS,IACT1J,GAAW,IAwGf,OAjCAle,oBAAU,WAAM,IACLyD,EAAoC+jB,EAApC/jB,KAAM3F,EAA8B0pB,EAA9B1pB,SAAUqpB,EAAoBK,EAApBL,MAAOC,EAAaI,EAAbJ,SAG9B,GAAIS,IAAcle,EAAMiB,OAAO,CAC3BsT,GAAW,GACX,IACI9f,EAAG6B,WAAW,SAASgT,IAAI,CACvB+U,IAAI,GACJ9mB,YAAauC,EACb0jB,QACApM,UAAW,GACXF,UAAW,GACXoN,OAAQ5pB,IAASS,UAAUuU,WAAWC,kBACtC8T,WACAnmB,SAAU,GACVqgB,MAAO,GACPxjB,WACAib,UAAU,EACVmP,UAAW,KAEdvgB,KAAK,SAAAvH,GACFgH,QAAQC,IAAIjH,GACZ2nB,MAEN,MAAOpe,GAEL,YADAvC,QAAQC,IAAIsC,MAKrB,CAACke,EAAWle,IAGX/M,EAAAC,EAAAC,cAAA,WAASoB,UAAU,kBACftB,EAAAC,EAAAC,cAAA,OAAKoB,UAAS,oBAAAN,OAAsBmB,EAAO,SAAU,KACrDnC,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAAQtB,EAAAC,EAAAC,cAAA,OAAKkE,IAAKmnB,KAAUnY,IAAI,cAC/CpT,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UACXtB,EAAAC,EAAAC,cAAA,QAAMsrB,aAAa,MAAMrV,SAnFnB,SAAC5C,GAAM,IAClBgX,EAAmBO,EAAnBP,MAAOC,EAAYM,EAAZN,SACdjX,EAAE6C,iBACFkL,GAAW,GACX9f,EAAG6B,WAAW,SACToe,MAAM,QAAS,KAAM8I,GACrB9I,MAAM,WAAW,KAAM+I,GACvBpI,MAAM,GACNsD,MACA3a,KAAK,SAAAyK,GACF,OAAIA,EAAS+J,KAAKvR,OAIPzO,OAAAC,EAAA,EAAAD,CAAA,CAAC2D,GAAIsS,EAAS+J,KAAK,GAAGrc,IAAOsS,EAAS+J,KAAK,GAAG9b,aAHrDunB,EAAS,wBAMhBjgB,KAAK,SAAAvH,GACCA,EApCD,SAACvE,GACX,IACIA,EAAKurB,cAAWrnB,EAChBqB,aAAainB,QAAQ,eAAgBC,KAAKC,UAAU1sB,IAEpD0G,EAAS,CACLrG,KAAMJ,EACND,KAAOysB,KAAKE,MAAMpnB,aAAaqnB,QAAQ,mBAG3CvK,GAAW,GACb,MAAOvU,GAGL,OAFAvC,QAAQC,IAAIsC,QACZuU,GAAW,IAwBHwK,CAAMtoB,IAENwnB,EAAS,sCACT1J,GAAW,MAGlBpW,MAAM,SAAA6B,GACHuU,GAAW,GACX0J,EAAS,0CAyDDhrB,EAAAC,EAAAC,cAAA,oBACAF,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,QAAWuH,KAAK,QAAW8P,YAAY,QAAWvW,MAAO0qB,EAAWP,MAAUxjB,SAAU,SAAAwM,GAAC,OAAEwX,EAAcxrB,OAAAC,EAAA,EAAAD,CAAA,GAAIurB,EAAL,CAAiBP,MAAMhX,EAAE5G,OAAOvM,YACpJJ,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,WAAWuH,KAAK,WAAW8P,YAAY,WAAWvW,MAAO0qB,EAAWN,SAAUzjB,SAAU,SAAAwM,GAAC,OAAEwX,EAAcxrB,OAAAC,EAAA,EAAAD,CAAA,GAAIurB,EAAL,CAAiBN,SAASjX,EAAE5G,OAAOvM,UAAS2rB,UAAQ,IACxK/rB,EAAAC,EAAAC,cAAA,UAAQZ,KAAK,SAASgC,UAAU,UAAU+f,EAASrhB,EAAAC,EAAAC,cAACwX,GAAD,MAAc,UAChE3K,EAAMiB,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAASyL,GAC3C/M,EAAAC,EAAAC,cAAA,KAAGoB,UAAU,UAAb,0BAA6CtB,EAAAC,EAAAC,cAAA,QAAMS,QAASwqB,GAAf,eAIzDnrB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,iBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UACXtB,EAAAC,EAAAC,cAAA,QAAMsrB,aAAa,MAAMrV,SA7DvB,SAAC5C,GACfA,EAAE6C,iBACF8U,GAAa,GACbF,ECpGO,SAAkBgB,GAC/B,IAAIC,EAAS,GAELplB,EAAqDmlB,EAArDnlB,KAAM3F,EAA+C8qB,EAA/C9qB,SAAUqpB,EAAqCyB,EAArCzB,MAAOC,EAA8BwB,EAA9BxB,SAAUC,EAAoBuB,EAApBvB,gBAGlB,IAApBvpB,EAAS8M,SACVie,EAAOC,WAAa,8BAGH,IAAhBrlB,EAAKmH,SACNie,EAAOE,OAAS,+BAIb5B,EAXc,gGAaI6B,KAAK7B,KAC1B0B,EAAOI,QAAU,4BAFjBJ,EAAOI,QAAU,4BAMd7B,EAEO,qDAAqD4B,KAAK5B,KACpEyB,EAAOK,WAAa,6GAFpBL,EAAOK,WAAa,uBAMnB9B,IAAaC,IACZwB,EAAOM,YAAc,+BA9Bc,IAiClCJ,EAAwDF,EAAxDE,OAAQD,EAAgDD,EAAhDC,WAAYG,EAAoCJ,EAApCI,QAASC,EAA2BL,EAA3BK,WAAYC,EAAeN,EAAfM,YAE9C,OAAGJ,GAGGD,GAGEG,GAGEC,GAGEC,GAGK,GDkDFC,CAAS5B,MA2DF5qB,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OAAWuH,KAAK,OAAc8P,YAAY,YAAmBvW,MAAOwqB,EAAY/jB,KAAaE,SAAU,SAACwM,GAAD,OAAKsX,EAAetrB,OAAAC,EAAA,EAAAD,CAAA,GAAIqrB,EAAL,CAAkB/jB,KAAM0M,EAAE5G,OAAOvM,YACvKJ,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OAAWuH,KAAK,WAAkB8P,YAAY,WAAkBvW,MAAOwqB,EAAY1pB,SAAiB6F,SAAU,SAACwM,GAAD,OAAKsX,EAAetrB,OAAAC,EAAA,EAAAD,CAAA,GAAIqrB,EAAL,CAAkB1pB,SAAUqS,EAAE5G,OAAOvM,YAClLJ,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,OAAUuH,KAAK,QAAkB8P,YAAY,QAAkBvW,MAAOwqB,EAAYL,MAAiBxjB,SAAU,SAACwM,GAAD,OAAKsX,EAAetrB,OAAAC,EAAA,EAAAD,CAAA,GAAIqrB,EAAL,CAAkBL,MAAOhX,EAAE5G,OAAOvM,YAC9KJ,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,WAAWuH,KAAK,WAAkB8P,YAAY,kBAAkBvW,MAAOwqB,EAAYJ,SAAiBzjB,SAAU,SAACwM,GAAD,OAAKsX,EAAetrB,OAAAC,EAAA,EAAAD,CAAA,GAAIqrB,EAAL,CAAkBJ,SAAUjX,EAAE5G,OAAOvM,YAClLJ,EAAAC,EAAAC,cAAA,SAAOZ,KAAK,WAAWuH,KAAK,kBAAkB8P,YAAY,mBAAkBvW,MAAOwqB,EAAYH,gBAAiB1jB,SAAU,SAACwM,GAAD,OAAKsX,EAAetrB,OAAAC,EAAA,EAAAD,CAAA,GAAIqrB,EAAL,CAAkBH,gBAAiBlX,EAAE5G,OAAOvM,YACxL2M,EAAMiB,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAASyL,GAC3C/M,EAAAC,EAAAC,cAAA,UAAQZ,KAAK,SAASgC,UAAU,UAAU+f,EAASrhB,EAAAC,EAAAC,cAACwX,GAAD,MAAc,WACjE1X,EAAAC,EAAAC,cAAA,KAAGoB,UAAU,UAAb,oBAAuCtB,EAAAC,EAAAC,cAAA,QAAMS,QAASwqB,GAAf,aAG/CnrB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAAQtB,EAAAC,EAAAC,cAAA,OAAKkE,IAAKmnB,KAAUnY,IAAI,2FEiBhDqZ,WA7KK,SAAA3sB,GAAuC,IAArC4C,EAAqC5C,EAArC4C,QAASgqB,EAA4B5sB,EAA5B4sB,uBACpBtB,EAA4D1oB,EAA5D0oB,IAAK9mB,EAAuD5B,EAAvD4B,YAAaK,EAA0CjC,EAA1CiC,SAAU2mB,EAAgC5oB,EAAhC4oB,UAAWjnB,EAAqB3B,EAArB2B,SAAUsoB,EAAWjqB,EAAXiqB,QADDpqB,EAEfC,mBAAS,CAC7C8B,cACA8mB,IAAUA,GAAQ,GAClBzmB,SAAUA,GAAkB,GAC5BgoB,QAAUA,GAAgB,KANyBlqB,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAEhDqqB,EAFgDnqB,EAAA,GAElCoqB,EAFkCpqB,EAAA,GAAAG,EAQjCJ,mBAAS,CAC3BsqB,SAAUzoB,EACV0oB,aAAczB,IAVqCzoB,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAQhDwB,EARgDvB,EAAA,GAQ3CkR,EAR2ClR,EAAA,GAAA8Q,EAYbnR,mBAAS,CAC/CwqB,YAAa3oB,EACb4oB,gBAAiB3B,IAdkC1X,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAYhDuZ,EAZgDtZ,EAAA,GAYjCuZ,EAZiCvZ,EAAA,GAAAC,EAgBFrR,mBAAS,MAhBPsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAgBhDoB,EAhBgDnB,EAAA,GAgB5BzB,EAhB4ByB,EAAA,GAAAE,EAiBPxR,mBAAS,CACrD4qB,MAAO,CAAC5hB,MAAM,EAAGE,OAAO,GACxB4f,UAAW,CAAC9f,MAAM,EAAGE,OAAQ,KAnBsBuI,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAiBhDU,EAjBgDT,EAAA,GAiB9BU,EAjB8BV,EAAA,GAAAG,EAqBH5R,mBAAS,CACzD4qB,MAAO,KACP9B,UAAW,OAvBwCjX,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAqBhD/E,EArBgDgF,EAAA,GAqB5BS,EArB4BT,EAAA,GAAAG,EA0BjBhS,oBAAS,GA1BQiS,EAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,EAAA,GA0BhDF,EA1BgDG,EAAA,GA0BnCF,EA1BmCE,EAAA,GAAAG,EA2BjBpS,mBAAS,IA3BQqS,EAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,EAAA,GA2BhDyY,EA3BgDxY,EAAA,GA2BnCyY,EA3BmCzY,EAAA,GA6BjD0Y,EAAe,SAACha,EAAGia,GACrB,IAAMzW,EAAa,IAAIlG,WACvBkG,EAAW9F,UAAY,WACP,UAATuc,IACCzZ,EAAOxU,OAAAC,EAAA,EAAAD,CAAA,GAAK6E,EAAN,CAAW0oB,SAAU/V,EAAW5F,UACtCgc,EAAiB5tB,OAAAC,EAAA,EAAAD,CAAA,GAAK2tB,EAAN,CAAqBF,YAAajW,EAAW5F,UAC7Dmc,EAAe,UAEP,cAATE,IACCzZ,EAAOxU,OAAAC,EAAA,EAAAD,CAAA,GAAI6E,EAAL,CAAU2oB,aAAahW,EAAW5F,UACxCgc,EAAiB5tB,OAAAC,EAAA,EAAAD,CAAA,GAAK2tB,EAAN,CAAqBD,gBAAiBlW,EAAW5F,UACjEmc,EAAe,cAEnB/Y,GAAe,IAEnBwC,EAAW/F,cAAcuC,EAAE5G,OAAON,MAAM,IAExCN,GAAQwH,GAAGxI,KAAK,SAAAvH,GACA,UAATgqB,GACC7Y,EAAoBpV,OAAAC,EAAA,EAAAD,CAAA,GAAImV,EAAL,CAAuB0Y,MAAM,CAAC5hB,MAAOhI,EAAIgI,MAAOE,OAAQlI,EAAIkI,WAEvE,cAAT8hB,GACC7Y,EAAoBpV,OAAAC,EAAA,EAAAD,CAAA,GAAImV,EAAL,CAAuB4W,UAAU,CAAC9f,MAAOhI,EAAIgI,MAAOE,OAAQlI,EAAIkI,cAK/FtI,oBAAU,WACN0R,EAAsBvV,OAAAC,EAAA,EAAAD,CAAA,GACf8P,EADc,CAEjB+d,MAAO1Y,EAAiB0Y,MAAM5hB,MAAMkJ,EAAiB0Y,MAAM1hB,OAC3D4f,UAAW5W,EAAiB4W,UAAU9f,MAAMkJ,EAAiB4W,UAAU5f,WAE5E,CAACgJ,IAEJ,IAoCMnM,EAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,GACNL,KAAOvJ,EAAAC,EAAAC,cAACwV,GAAD,CACChG,MAAuB,cAAd2d,EAA0BjpB,EAAI2oB,aAAa3oB,EAAI0oB,SACxDza,sBAAwBA,EACxBhD,mBAAuC,cAAdge,EAA0Bhe,EAAmBic,UAAUjc,EAAmB+d,UASnH,OAJAhqB,oBAAU,WACNspB,EAAuB,CAACE,eAAcM,mBACvC,CAACN,EAAcM,IAGdltB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAAC+V,GAAD,CAAQjT,KAAMsR,EACN1Q,QAxBG,WACf2Q,GAAe,GACf+Y,EAAe,KAuBH1jB,MAAM,aACNiE,SA9BS,WAnBF,UAAhBwf,IACC7iB,QAAQC,IAAI,aAAawK,GACzBlB,EAAOxU,OAAAC,EAAA,EAAAD,CAAA,GACA6E,EADD,CAEF0oB,SAAUjhB,IAAIC,gBAAgBmJ,MAElCkY,EAAiB5tB,OAAAC,EAAA,EAAAD,CAAA,GAAI2tB,EAAL,CAAoBF,YAAa/X,MAGlC,cAAhBoY,IACC7iB,QAAQC,IAAI,iBAAiBwK,GAC7BlB,EAAOxU,OAAAC,EAAA,EAAAD,CAAA,GACA6E,EADD,CAEF2oB,aAAclhB,IAAIC,gBAAgBmJ,MAEtCkY,EAAiB5tB,OAAAC,EAAA,EAAAD,CAAA,GAAI2tB,EAAL,CAAoBD,gBAAiBhY,OAmC7CvU,KAAQwV,KACRpI,WAAW,SAEX9N,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,KAG3BvI,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBAAqB2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASoD,EAAI2oB,cAAiB3oB,EAAI2oB,aAAlC,OACvD/sB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,mCACV8C,EAAI0oB,UAAY9sB,EAAAC,EAAAC,cAAA,OAAKkE,IAAKA,EAAI0oB,SAAU1Z,IAAG,GAAApS,OAAKsD,KACjDtE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACXtB,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMgtB,KACPpuB,KAAK,OACLsH,OAAO,UACPC,KAAK,eACL3D,GAAG,kBACH6D,SAAU,SAACwM,GAAKga,EAAaha,EAAG,SAChB+Z,EAAe,cAKnDttB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,mCACXtB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMgtB,KACPpuB,KAAK,OACLsH,OAAO,UACPC,KAAK,eACL3D,GAAG,cACH6D,SAAU,SAACwM,GAAKga,EAAaha,EAAG,aAChB+Z,EAAe,iBAI/CttB,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACytB,GAAA1tB,EAAD,CAAWU,QA5FZ,WACpBoT,EAAOxU,OAAAC,EAAA,EAAAD,CAAA,GAAI6E,EAAL,CAAU2oB,aAAa,QAC7BpY,EAAoBpV,OAAAC,EAAA,EAAAD,CAAA,GAAImV,EAAL,CAAuBkZ,SAAS,CAACpiB,MAAM,EAAGE,OAAO,MACpEoJ,EAAsBvV,OAAAC,EAAA,EAAAD,CAAA,GAAI8P,EAAL,CAAyBic,UAAW,QACzD6B,EAAiB5tB,OAAAC,EAAA,EAAAD,CAAA,GAAI2tB,EAAL,CAAoBD,gBAAgB,SAwFpC,OAIRjtB,EAAAC,EAAAC,cAAA,QAAM2tB,YAAU,EAACrC,aAAa,OAC1BxrB,EAAAC,EAAAC,cAAC4tB,GAAA,EAAD,CAAW5qB,GAAG,cAAcyG,MAAM,OAAO7E,QAAQ,SAAS1E,MAAOwsB,EAAatoB,YAAayC,SAAU,SAAAwM,GAAC,OAAEsZ,EAAgBttB,OAAAC,EAAA,EAAAD,CAAA,GAAIqtB,EAAL,CAAmBtoB,YAAYiP,EAAE5G,OAAOvM,YAC/JJ,EAAAC,EAAAC,cAAC4tB,GAAA,EAAD,CAAW5qB,GAAG,MAAMyG,MAAM,MAAM7E,QAAQ,SAAS1E,MAAOwsB,EAAaxB,IAAKrkB,SAAU,SAAAwM,GAAC,OAAEsZ,EAAgBttB,OAAAC,EAAA,EAAAD,CAAA,GAAIqtB,EAAL,CAAmBxB,IAAI7X,EAAE5G,OAAOvM,YACtIJ,EAAAC,EAAAC,cAAC4tB,GAAA,EAAD,CAAW5qB,GAAG,WAAWyG,MAAM,WAAW7E,QAAQ,SAAS1E,MAAOwsB,EAAajoB,SAAUoC,SAAU,SAAAwM,GAAC,OAAEsZ,EAAgBttB,OAAAC,EAAA,EAAAD,CAAA,GAAIqtB,EAAL,CAAmBjoB,SAAS4O,EAAE5G,OAAOvM,YAC1JJ,EAAAC,EAAAC,cAAC4tB,GAAA,EAAD,CAAW5qB,GAAG,UAAUyG,MAAM,UAAU7E,QAAQ,SAAS1E,MAAOwsB,EAAaD,QAAS5lB,SAAU,SAAAwM,GAAC,OAAEsZ,EAAgBttB,OAAAC,EAAA,EAAAD,CAAA,GAAIqtB,EAAL,CAAmBD,QAAQpZ,EAAE5G,OAAOvM,UAASkB,UAAU,sBCnH9KysB,GAzDW,SAAAjuB,GAAe,IAAb4C,EAAa5C,EAAb4C,QAAa9B,EACpBjB,IAATV,EAD6BM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAC7B3B,KAD6BsD,EAECC,mBAAS,IAFVC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAE9ByrB,EAF8BvrB,EAAA,GAEjBwrB,EAFiBxrB,EAAA,GAAAG,EAGLJ,mBAAS,IAHJK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAG9BsrB,EAH8BrrB,EAAA,GAGpBsrB,EAHoBtrB,EAAA,GAAA8Q,EAKXnR,mBAAS,MALEoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAK9Bya,EAL8Bxa,EAAA,GAKvBya,EALuBza,EAAA,GAAAC,EAMXrR,mBAAS,MANEsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAM9Bya,EAN8Bxa,EAAA,GAMvBya,EANuBza,EAAA,GAyCrC,OAjCA1Q,oBAAU,WACN5B,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAiS,GACxCA,EAASoM,OAGZqM,EAAezY,EAAS/R,QAAU+R,EAAS/R,OAAOwa,cAEvD,IAEH7a,oBAAU,WACHV,GAAUA,EAAQyb,UAAUnQ,OAAO,GAClCmgB,EAAYzrB,EAAQyb,UAAUkE,OAAO,SAAA9Y,GAAI,OAAGykB,EAAYxQ,SAASjU,OAEtE,CAACykB,EAAatrB,IAEjBU,oBAAU,WACN,IAAIorB,EAAiBN,EAASlgB,OAC3BwgB,EAAe,IACVA,EAAe,GACfhtB,EAAG6B,WAAW,SAASC,IAAI4qB,EAAS,IAAI3qB,WAAW,SAAAiS,GAC/C+Y,EAAS/Y,EAAS/R,UAI1BjC,EAAG6B,WAAW,SAASC,IAAI4qB,EAAS,IAAI3qB,WAAW,SAAAiS,GAC/C6Y,EAAS7Y,EAAS/R,YAI3B,CAACyqB,IAEJ1jB,QAAQC,IAAIyjB,GAGRluB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAEP4sB,EAASlgB,OAAO,EAChBhO,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACK0qB,GAASpuB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKgqB,EAAM/pB,WAC3B6pB,EAASlgB,OAAO,GAAKsgB,GAAWtuB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKkqB,EAAMjqB,WACrDrE,EAAAC,EAAAC,cAAA,8BAAAc,OAAsBotB,EAAQA,EAAM9pB,YAAa,GAAjD,SAA4E,IAAlB4pB,EAASlgB,QAAcsgB,EAAxB,OAAAttB,OAAwCstB,EAAMhqB,aAAe,GAAtH,IAA4H4pB,EAASlgB,OAAO,GAAKsgB,EAAtB,KAAAttB,OAAkCstB,EAAMhqB,YAAxC,UAAAtD,OAA4DktB,EAASlgB,OAAO,EAA5E,WAAuF,GAAlN,MAGJhO,EAAAC,EAAAC,cAAA,mDCgKDuuB,WAjMM,SAAA3uB,GAAaA,EAAX4gB,MAAW,IAAAne,EACAC,mBAAS,CAAC4oB,IAAI,GAAI9mB,YAAY,GAAI6Z,UAAW,GAAIF,UAAU,GAAItZ,SAAS,GAAIN,SAAS,GAAIsoB,QAAQ,KADjGlqB,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACvBG,EADuBD,EAAA,GACdE,EADcF,EAAA,GAAA7B,EAGbjB,IAATV,EAHsBM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAGtB3B,KACDiC,EAAY4nB,cAAZ5nB,SAJuB0B,EAMwBJ,mBAAS,IANjCK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAMvB8rB,EANuB7rB,EAAA,GAMF6pB,EANE7pB,EAAA,GAAA8Q,EAOMnR,mBAAS,MAPfoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAOvBgb,EAPuB/a,EAAA,GAOXgb,EAPWhb,EAAA,GAAAC,EAQcrR,mBAAS,MARvBsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAQvBgb,EARuB/a,EAAA,GAQPgb,EAROhb,EAAA,GAAAE,EASUxR,oBAAS,GATnByR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GASvB+a,EATuB9a,EAAA,GAST+a,EATS/a,EAAA,GAAAG,EAUkB5R,oBAAS,GAV3B6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAUvB6a,EAVuB5a,EAAA,GAUL6a,EAVK7a,EAAA,GAAAG,EAWMhS,oBAAS,GAXfiS,EAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,EAAA,GAWvB2a,EAXuB1a,EAAA,GAWX2a,EAXW3a,EAAA,GAAAG,EAaQpS,oBAAS,GAbjBqS,EAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,EAAA,GAavBN,EAbuBO,EAAA,GAaVN,EAbUM,EAAA,GAc1Bwa,GAAQ3sB,GAAWA,EAAQQ,MAAQjE,EAAKiE,GAdd6R,EAgBQvS,oBAAS,GAhBjBwS,EAAAzV,OAAAsB,EAAA,EAAAtB,CAAAwV,EAAA,GAgBvBqK,EAhBuBpK,EAAA,GAgBVqK,EAhBUrK,EAAA,GAAAE,EAkBI1S,oBAAS,GAlBb2S,EAAA5V,OAAAsB,EAAA,EAAAtB,CAAA2V,EAAA,GAkBvBoa,EAlBuBna,EAAA,GAkBZoa,GAlBYpa,EAAA,GAAAC,GAmBJ5S,mBAAS,IAnBL6S,GAAA9V,OAAAsB,EAAA,EAAAtB,CAAA6V,GAAA,GAmBvBwS,GAnBuBvS,GAAA,GAmBfmT,GAnBenT,GAAA,GA0B9BjS,oBAAU,WACR5B,EAAG6B,WAAW,SAASoe,MAAM,WAAY,KAAMvgB,GAAUqC,WAAW,SAAAiS,GAClE7S,EAAW6S,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC9B2D,GAAII,EAAIJ,IACLI,EAAIG,UACL,OAGL,CAACvC,IA2EJ,OAhCAkC,oBAAU,WAEN,GADAoH,QAAQC,IAAR,iBAAAzJ,OAA6B+tB,EAA7B,wBAAA/tB,OAAgEiuB,IAC7DF,GAAgBE,EAAiB,KAAAO,EACcd,EAAoB9B,aAA3DtoB,EADyBkrB,EACzBlrB,YAAa8mB,EADYoE,EACZpE,IAAKzmB,EADO6qB,EACP7qB,SAAUgoB,EADH6C,EACG7C,SAClB,SAAX8C,IACFjuB,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAI8a,OAAO,CACvC1Z,cACA8mB,MACAzmB,WACAgoB,UACAtoB,SAAUsqB,EACVrD,UAAWuD,IACZ9jB,KAAK,SAAAvH,GACJ4rB,GAAc,KAEjBlkB,MAAM,SAAA6B,GAAW0iB,MAEtBA,KAGL,CAACV,EAAcE,IAGlB7rB,oBAAU,WACHV,IACM2sB,GACDhQ,EAAe3c,EAAQyb,UAAUX,SAASve,EAAKiE,OAGxD,CAACR,IAIA1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAAC+V,GAAD,CACQjT,KAAMsR,EACN1Q,QAAS,kBAAI2Q,GAAe,IAC5B3K,MAAM,eACNiE,SA/ES,WAAM,IAAA6hB,EACYhB,EAAoBxB,cAApDF,EADoB0C,EACpB1C,YAAaC,EADOyC,EACPzC,gBACpBmC,GAAc,GACXpC,IAAgBtqB,EAAQ2B,WACnBuqB,EAAclsB,EAAQ2B,UACtB2qB,GAAgB,IAGpBhC,IAAgBtqB,EAAQ2B,UACR,SAAVsrB,IAAU,OAAMzlB,GAAiB8iB,GAAajiB,KAAK,SAAAvH,GACrDorB,EAAcprB,GACdwrB,GAAgB,KAEnB9jB,MAAM,SAAA6B,GAAS4iB,MAEhBA,GAGA1C,IAAoBvqB,EAAQ4oB,YACxBwD,EAAkBpsB,EAAQ4oB,WAC1B4D,GAAoB,IAGxBjC,IAAoBvqB,EAAQ4oB,YACJ,OAApB2B,GACA6B,EAAkB,IAClBI,GAAoB,IAEJ,SAAVS,IACFzlB,GAAiB+iB,GAAiBliB,KAAK,SAAAvH,GACnCsrB,EAAkBtrB,GAClB0rB,GAAoB,KAEvBhkB,MAAM,SAAA6B,GAAS4iB,MAEpBA,KA6CIjvB,KAAQ+e,KACR3R,WAAW,QAEX9N,EAAAC,EAAAC,cAAC0vB,GAAD,CAAaltB,QAASA,EAASgqB,uBAAwBA,KAG/D1sB,EAAAC,EAAAC,cAACyoB,GAAD,CAAY3lB,KAAMssB,EACd1rB,QAnGa,kBAAM2rB,IAAa,IAoGhC3H,OAAQA,KAGZ5nB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBAAqB2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAAS0B,GAAWA,EAAQ4oB,UAA5B,OACvDtrB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACToB,GAAWA,EAAQ2B,UAAarE,EAAAC,EAAAC,cAAA,OAAKkE,IAAK1B,EAAQ2B,SAAU+O,IAAG,GAAApS,OAAK0B,EAAQ4B,aAAe3D,QAAS,kBA9GpG0K,EA8GqH3I,EAAQ2B,SA7G/ImkB,GAAUnd,QACVkkB,IAAa,GAFI,IAAClkB,OAkHVrL,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,wBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eACXtB,EAAAC,EAAAC,cAAC2vB,EAAA5vB,EAAD,QAEDovB,GAAQrvB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,eACtBtB,EAAAC,EAAAC,cAACknB,EAAAnnB,EAAD,OAEFovB,EACFrvB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAgBX,QAAS,kBAAI4T,GAAe,KAA3D,gBAKI6K,EACIpf,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAgBX,QAAS,kBAAIyd,GAASnf,EAAKiE,GAAIR,EAAQQ,MAAtE,YAIAlD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAgBX,QAAS,kBAAIgd,GAAO1e,EAAKiE,GAAIR,EAAQQ,MAApE,WAOZlD,EAAAC,EAAAC,cAAA,UAAKwC,GAAUA,EAAQ4B,aACtBpD,GAAYlB,EAAAC,EAAAC,cAAA,gBAAAc,OAAWE,IACvBwB,GAAW1C,EAAAC,EAAAC,cAAA,SAAIwC,EAAQ0oB,KAExBprB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACToB,GAAWA,EAAQiC,UAAa3E,EAAAC,EAAAC,cAAA,eAAMF,EAAAC,EAAAC,cAAC0f,GAAA3f,EAAD,MAAN,IAAoBD,EAAAC,EAAAC,cAAA,YAAOwC,EAAQiC,WACnEjC,GAAWA,EAAQiqB,SAAY3sB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAAf,IAAwBtB,EAAAC,EAAAC,cAAC4vB,GAAA7vB,EAAD,MAAxB,IAA2CD,EAAAC,EAAAC,cAAA,YAAOwC,EAAQiqB,UAC3F3sB,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6vB,GAAA9vB,EAAD,MAAL,IAAuBD,EAAAC,EAAAC,cAAA,0BAG3BF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aACXtB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAcE,EAAd,gBACJlB,EAAAC,EAAAC,cAAA,YAAOwC,GAAWA,EAAQub,UAAUjQ,OAApC,IAA4ChO,EAAAC,EAAAC,cAAA,wBAEhDF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAcE,EAAd,gBACJlB,EAAAC,EAAAC,cAAA,iBAAiBiD,IAAVT,GAAuBA,EAAQyb,UAAUnQ,OAAhD,IAAwDhO,EAAAC,EAAAC,cAAA,wBAGzDmvB,GAAQF,GAAenvB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAf,IAA+BtB,EAAAC,EAAAC,cAACwX,GAAD,MAA/B,MAG9B1X,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACR+tB,GAAQrvB,EAAAC,EAAAC,cAAC8vB,GAAD,CAAmBttB,QAASA,+BCtGhDye,GA3FF,WAAM,IACRjgB,EAAY4nB,cAAZ5nB,SACDmb,EAAU/Z,cAFDC,EAGWC,mBAAS,IAHpBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGRme,EAHQje,EAAA,GAGD2e,EAHC3e,EAAA,GAAAG,EAIeJ,oBAAS,GAJxBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAIRye,EAJQxe,EAAA,GAICye,EAJDze,EAAA,GAAA8Q,EAiBenR,mBAZZ,CACd4oB,IAAI,GACJ9mB,YAAY,GACZ6Z,UAAU,GACVF,UAAU,GACV/a,GAAI,GACJyB,SAAU,GACVN,SAAU,GACVnD,SAAU,GACVoqB,UAAW,GACXqB,QAAS,KAfE/Y,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAiBRjR,EAjBQkR,EAAA,GAiBCjR,EAjBDiR,EAAA,GAmBfxQ,oBAAU,WACR5B,EAAG6B,WAAW,SAASoe,MAAM,WAAY,KAAMvgB,GAAUqC,WAAW,SAAAiS,GAClE7S,EAAW6S,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC9B2D,GAAII,EAAIJ,IACLI,EAAIG,UACL,OAEL,CAACvC,IAEJkC,oBAAU,WACRke,GAAW,GAER5e,GACDlB,EAAG6B,WAAW,SACboe,MAAM,WAAY,KAAM/e,EAAQQ,IAChCye,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACV4L,EAAS5L,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAAM2D,GAAGI,EAAIJ,IAAOI,EAAIG,WACtD6d,GAAW,MAGd,CAAC5e,IAEJ,IAAM6F,EAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,SACNL,KAAMvJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI2d,GAAWrhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAetB,EAAAC,EAAAC,cAAC+gB,GAAD,OAC3CjhB,EAAAC,EAAAC,cAAC4hB,GAAD,CAAQpB,MAAOA,MAG3B,CACIxd,GAAI,EACJ0G,MAAO,mBACPL,KAAMvJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,UAAM2d,GAAWrhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAetB,EAAAC,EAAAC,cAAC+gB,GAAD,OAA/C,MAEV,CACI/d,GAAI,EACJ0G,MAAO,QACPL,KAAMvJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI2d,GAAWrhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAetB,EAAAC,EAAAC,cAAC+gB,GAAD,OAC3CjhB,EAAAC,EAAAC,cAAC4hB,GAAD,CAAQpB,MAAOA,EAAM2B,OAAO,SAAAzB,GAAI,OAAEA,EAAKlR,MAAM1B,OAAO,QAGhE,CACI9K,GAAI,EACJ0G,MAAO,QACPL,KAAMvJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,SAAK2d,GAAWrhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBAAetB,EAAAC,EAAAC,cAAC+gB,GAAD,OAA9C,OAId,OACIjhB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,mBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBAAqBX,QAAS,kBAAI0b,EAAQ0N,WACtD/pB,EAAAC,EAAAC,cAACopB,GAAArpB,EAAD,OAEHD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,kBACbtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,wBAAuBtB,EAAAC,EAAAC,cAAA,UAAKwC,GAAWA,EAAQ4B,aAAiBtE,EAAAC,EAAAC,cAAC+vB,GAAAhwB,EAAD,OAC/ED,EAAAC,EAAAC,cAAA,YAAOwgB,GAASA,EAAM1S,OAAtB,aAILhO,EAAAC,EAAAC,cAACgwB,GAAD,CAAcxtB,QAASA,IAEvB1C,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,MCxEf4nB,WAvBM,SAAArwB,GAAa,IAAX4gB,EAAW5gB,EAAX4gB,MAAWne,EACHC,mBAAS,IADNC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACxB6tB,EADwB3tB,EAAA,GAChB4tB,EADgB5tB,EAAA,GAO9B,OAJDW,oBAAU,WACPitB,EAAU3P,EAAM2B,OAAO,SAAAzB,GAAI,OAAEA,EAAKlR,MAAM1B,OAAO,IAAG4Y,MAAM,EAAE,GAAGtd,IAAI,SAAAC,GAAO,OAAOA,EAAKmG,UACpF,IAGE1P,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qCACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aAAa2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASovB,EAAOpiB,OAAO,GAAKoiB,EAAO,GAAnC,QACnDpwB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAAS2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASovB,EAAOpiB,OAAO,GAAKoiB,EAAO,GAAnC,QAC/CpwB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aAAa2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASovB,EAAOpiB,OAAO,GAAKoiB,EAAO,GAAnC,SAEtDpwB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aAAa2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASovB,EAAOpiB,OAAO,GAAKoiB,EAAO,GAAnC,QACnDpwB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SAAS2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASovB,EAAOpiB,OAAO,GAAKoiB,EAAO,GAAnC,QAC/CpwB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aAAa2C,MAAO,CAACwpB,gBAAe,OAAAzsB,OAASovB,EAAOpiB,OAAO,GAAKoiB,EAAO,GAAnC,YCsClDpN,GAhDC,WAAM,IACZ9hB,EAAY4nB,cAAZ5nB,SADYqB,EAEOC,mBAAS,IAFhBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAEZme,EAFYje,EAAA,GAEL2e,EAFK3e,EAAA,GAAAG,EAGKJ,mBAAS,IAHdK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAGZnC,EAHYoC,EAAA,GAGNogB,EAHMpgB,EAAA,GAAA8Q,EAIWnR,mBAAS,MAJpBoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAIZjR,EAJYkR,EAAA,GAIHjR,EAJGiR,EAAA,GA4BlB,OAtBAxQ,oBAAU,WACR5B,EAAG6B,WAAW,SAASoe,MAAM,WAAY,KAAMvgB,GAAUqC,WAAW,SAAAiS,GAClE7S,EAAW6S,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC9B2D,GAAII,EAAIJ,IACLI,EAAIG,UACL,OAEL,CAACvC,IAGJkC,oBAAU,WACHV,GACClB,EAAG6B,WAAW,SACboe,MAAM,WAAY,KAAM/e,EAAQQ,IAChCye,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACR4L,EAAS5L,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAIA,EAAIG,aAG/C,CAACf,IAIA1C,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAEZtB,EAAAC,EAAAC,cAACgjB,GAAD,CACI9iB,MAAOK,EACPsG,SAAY,SAACwM,GAAD,OAAK0P,EAAQ1P,EAAE5G,OAAOvM,QAClCO,QAAS,kBAAIsiB,EAAQ,KACrBtM,YAAY,mBAGb+J,EAAM1S,OAAO,GAAKhO,EAAAC,EAAAC,cAACowB,GAAD,CAAc5P,MAAOA,IAEzC1gB,EAAAC,EAAAC,cAACkjB,GAAD,MAEApjB,EAAAC,EAAAC,cAACijB,GAAD,QCoDGoN,GAhGO,WACnB,IAAMlU,EAAU/Z,cACTpB,EAAY4nB,cAAZ5nB,SAFkBqB,EAGSC,mBAAS,IAHlBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGlB0b,EAHkBxb,EAAA,GAGP8e,EAHO9e,EAAA,GAAAG,EAISJ,mBAAS,IAJlBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAIlBub,EAJkBtb,EAAA,GAIP2tB,EAJO3tB,EAAA,GAAA8Q,EAMKnR,mBAAS,IANdoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAMlBjR,EANkBkR,EAAA,GAMTjR,EANSiR,EAAA,GAAAC,EAOCrR,mBAAS,IAPVsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAOlB6M,EAPkB5M,EAAA,GAOXsN,EAPWtN,EAAA,GASzB1Q,oBAAU,WACJlC,GACAM,EAAG6B,WAAW,SAASoe,MAAM,WAAY,KAAMvgB,GAAUqC,WAAW,SAAAiS,GACpE7S,EAAW6S,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC7B2D,GAAII,EAAIJ,IACLI,EAAIG,UACN,OAGP,IAGHL,oBAAU,WACPV,EAAQQ,IACR1B,EAAG6B,WAAW,SACboe,MAAM,WAAY,KAAM/e,EAAQQ,IAChCye,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACZ4L,EAAS5L,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAIA,EAAIG,aAGtC,CAACf,IAGJU,oBAAU,WACJV,EAAQQ,KACRsH,QAAQC,IAAI/H,EAAQ4B,YAAa5B,EAAQQ,IACzC1B,EAAG6B,WAAW,SAASoe,MAAM,YAAa,iBAAkB/e,EAAQQ,IACnEK,WAAW,SAAAiS,GACZ+L,EAAa/L,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC/B2D,GAAII,EAAIJ,IACLI,EAAIG,aAGVjC,EAAG6B,WAAW,SAASoe,MAAM,YAAa,iBAAkB/e,EAAQQ,IACnEK,WAAW,SAAAiS,GACZgb,EAAahb,EAAS+J,KAAKjW,IAAI,SAAAhG,GAAG,OAAA/D,OAAAC,EAAA,EAAAD,CAAA,CAC/B2D,GAAII,EAAIJ,IACLI,EAAIG,eAIb,CAACf,IAEJ8H,QAAQC,IAAIwT,GACZzT,QAAQC,IAAI0T,GAGX,IAAM5V,EAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,YACNL,KAAMvJ,EAAAC,EAAAC,cAAA,UACIie,GAAaA,EAAU7U,IAAI,SAAArK,GACzB,OAAQe,EAAAC,EAAAC,cAAA,MAAIuJ,IAAKxK,EAAKiE,IAAd,IAAmBlD,EAAAC,EAAAC,cAACqiB,GAAD,CAAgBvb,QAAS/H,SAIpE,CACIiE,GAAI,EACJ0G,MAAO,YACPL,KAAMvJ,EAAAC,EAAAC,cAAA,UACI+d,GAAaA,EAAU3U,IAAI,SAAArK,GACzB,OAAQe,EAAAC,EAAAC,cAAA,MAAIuJ,IAAKxK,EAAKiE,IAAd,IAAmBlD,EAAAC,EAAAC,cAACqiB,GAAD,CAAgBvb,QAAS/H,UAMxE,OACIe,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,6BACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBAAqBX,QAAS,kBAAI0b,EAAQ0N,WACtD/pB,EAAAC,EAAAC,cAACopB,GAAArpB,EAAD,OAEHD,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,kBACbtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,wBAAuBtB,EAAAC,EAAAC,cAAA,UAAKwC,EAAQ4B,aAAiBtE,EAAAC,EAAAC,cAAC+vB,GAAAhwB,EAAD,OACpED,EAAAC,EAAAC,cAAA,YAAQwgB,EAAM1S,OAAO,EAAb,GAAAhN,OAAmB0f,EAAM1S,OAAzB,WAA0C,MAIvDhO,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,MCiNfkoB,GA7QM,SAAA3wB,GAA4E,IAA1EoH,EAA0EpH,EAA1EoH,MAAOxE,EAAmE5C,EAAnE4C,QAASuZ,EAA0Dnc,EAA1Dmc,WAAYC,EAA8Cpc,EAA9Coc,qBAAsBwU,EAAwB5wB,EAAxB4wB,mBAC9DpsB,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SACjC3F,EAA8CtP,EAA9CsP,UAAW/V,EAAmCyG,EAAnCzG,KAAMiP,EAA6BxI,EAA7BwI,MAAOwD,EAAsBhM,EAAtBgM,QAASyL,EAAazX,EAAbyX,UAClC3G,EAAO4D,GAA+BpF,GACtC6F,EAAU/Z,cACT8Z,EAAU0M,cAAV1M,OALsF7Z,EAO7DC,mBAAS,MAPoDC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAOtFO,EAPsFL,EAAA,GAO5EM,EAP4EN,EAAA,GAAAG,EAQ3DJ,oBAAS,GARkDK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAQtF0S,EARsFzS,EAAA,GAQ3E0S,EAR2E1S,EAAA,GAUvFG,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EAX0DwQ,EAejDnR,mBAAS,IAfwCoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAetF2I,EAfsF1I,EAAA,GAetE2I,EAfsE3I,EAAA,GAAAC,EAkBvErR,mBAAS,MAlB8DsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAkBtFzP,EAlBsF0P,EAAA,GAkBjFC,EAlBiFD,EAAA,GAAAE,EAmBvDxR,mBAAS,MAnB8CyR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAmBtFE,EAnBsFD,EAAA,GAmBzEE,EAnByEF,EAAA,GAAAG,EAoB7C5R,mBAAS,CAACgJ,MAAO,EAAGE,OAAQ,IApBiB2I,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAoBtFM,EApBsFL,EAAA,GAoBpEM,EApBoEN,EAAA,GAAAG,EAqBzChS,mBAAS,MArBgCiS,EAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,EAAA,GAqBtFnF,GArBsFoF,EAAA,GAqBlEK,GArBkEL,EAAA,GAAAG,GAsBxCpS,mBAAS,MAtB+BqS,GAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,GAAA,GAsBtFK,GAtBsFJ,GAAA,GAsBlExC,GAtBkEwC,GAAA,GAAAE,GAuBvDvS,oBAAS,GAvB8CwS,GAAAzV,OAAAsB,EAAA,EAAAtB,CAAAwV,GAAA,GAuBtFT,GAvBsFU,GAAA,GAuBzET,GAvByES,GAAA,GAAAE,GAwBjD1S,mBAAS6K,GAAgB4O,EAAW3X,cAxBa6Q,GAAA5V,OAAAsB,EAAA,EAAAtB,CAAA2V,GAAA,GAwBtFsH,GAxBsFrH,GAAA,GAwBtEsH,GAxBsEtH,GAAA,GA2C7F/R,oBAAU,WACN0R,GAAsBJ,EAAiBlJ,MAAMkJ,EAAiBhJ,SAC/D,CAACgJ,IAEJ,IAYMnM,GAAQ,CACV,CACIrF,GAAI,EACJ0G,MAAM,GACNF,KAAM1J,EAAAC,EAAAC,cAACuV,GAAAxV,EAAD,MACNsJ,KAAMvJ,EAAAC,EAAAC,cAACwV,GAAD,CACEhG,MAAOtL,EACPiO,sBAAwBA,GACxBhD,mBAAyBA,MAGrC,CACInM,GAAI,EACJ0G,MAAO,MACPF,KAAM,GACNH,KAAMvJ,EAAAC,EAAAC,cAACyV,GAAD,CAAQjG,MAAOuF,GAAoB/B,QAASsJ,GAAgBC,kBAAmBA,OAI7FrZ,oBAAU,WACSiN,SAASkC,cAAc,YAC7BqD,iBAAiB,UAE1B,WACA,IAAIC,EAAK1I,KACT2I,WAAW,WACPD,EAAG5R,MAAM8R,QAAU,wBACnBF,EAAG5R,MAAM8R,QAAU,UAAYF,EAAGG,aAAe,MACnD,MAEH,IA+DH,OACIhW,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACI1D,EAAAC,EAAAC,cAAC+V,GAAD,CAAQjT,KAAMsR,GACN1Q,QAAS,kBAAI2Q,IAAe,IAC5B3K,MAAM,aACNiE,SAzGS,WAJrBkG,EAAOlI,IAAIC,gBAAgBmJ,KAC3Bd,EAAec,IAKe,IAA1BuH,GAAexO,QACfyO,GAAkBpP,GAAgB/I,KAuG1B5D,KAAQwV,KACRpI,WAAW,OACXoO,qBAAwBA,GAExBlc,EAAAC,EAAAC,cAACoI,GAAD,CAAYC,MAAOA,MAG3BvI,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,SACXtB,EAAAC,EAAAC,cAACwc,GAAA,EAAD,KACA1c,EAAAC,EAAAC,cAACyc,GAAA,EAAD,KACI3c,EAAAC,EAAAC,cAAC0c,GAAA,EAAD,KACI5c,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,IACbrE,EAAAC,EAAAC,cAAC2c,GAAA,EAAD,OAEJ7c,EAAAC,EAAAC,cAAC4c,GAAA,EAAD,KACI9c,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACXtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB,IACftE,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACX6a,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAD7C,IAAAN,OAESE,EAFT,OAAAF,OAEuBwV,GAAawG,GAAchF,OAK1DhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BAAf,IAA0CtB,EAAAC,EAAAC,cAAA,aAAKO,EAAL,OAE5CiP,EAAM1B,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKF,IAC1ClT,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,cAAhB,eAAyCtB,EAAAC,EAAAC,cAAA,aAAAc,OAAQE,EAAR,MAAAF,OAAqB0vB,GAAsBA,EAAmBxvB,eAKnHlB,EAAAC,EAAAC,cAACyc,GAAA,EAAD,KACI3c,EAAAC,EAAAC,cAAC0c,GAAA,EAAD,KACA5c,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAK6X,EAAW5X,YAExBrE,EAAAC,EAAAC,cAAC4c,GAAA,EAAD,KACI9c,EAAAC,EAAAC,cAAA,QAAMiW,SA1GN,SAAC5C,GACjBA,EAAE6C,iBACFb,GAAa,GAEVrB,EACChK,GAAiBgK,GAChBnJ,KAAM,SAAAvH,GAEHhC,EAAG6B,WAAW,SACbC,IAAI8Y,GACJ/Y,WAAW,YACXC,IAAIqb,GACJtb,WAAW,kBACXgT,IAAI,CACDmG,eAAkBA,GAClB/b,KAAkB6b,EAClB5M,MAAkBlM,EAClB8S,MAAkB,GAClBC,SAAkB0F,EAAW/Y,GAC7BsT,UAAkB/U,IAASS,UAAUuU,WAAWC,oBAGhD6F,EAAkB,IAClBE,GAAkB,IAClB1I,EAAO,MACPwB,GAAa,GACb2G,GAAqB,GACrBG,EAAQY,KAAR,WAAAjc,OAAwBob,EAAxB,KAAApb,OAAkC2d,MAEzCzT,MAAO,SAAA6B,GACJvC,QAAQC,IAAIsC,GACZwI,GAAa,MAMjB/T,EAAG6B,WAAW,SACbC,IAAI8Y,GACJ/Y,WAAW,YACXC,IAAIqb,GACJtb,WAAW,kBACXgT,IAAI,CACDmG,eAAkB,GAClB/b,KAAkB6b,EAClB5M,MAAkB,GAClB4G,MAAkB,GAClBC,SAAkB0F,EAAW/Y,GAC7BsT,UAAkB/U,IAASS,UAAUuU,WAAWC,oBAGhD6F,EAAkB,IAClBE,GAAkB,IAClB1I,EAAO,MACPwB,GAAa,GACb2G,GAAqB,GACrBG,EAAQY,KAAR,WAAAjc,OAAwBob,EAAxB,KAAApb,OAAkC2d,OAmDtB3e,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAA,YAAUoT,KAAK,IACPqD,YAAc,mBACdrX,KAAc,OACdc,MAAekc,EACfvV,SA3LZ,SAACwM,GAAD,OAAOgJ,EAAkBhJ,EAAE5G,OAAOvM,WAiM9BgE,GACIpE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAC0W,GAAA3W,EAAD,CAAYqB,UAAU,aAAaX,QAAS,kBAAIoT,EAAO,SACvD/T,EAAAC,EAAAC,cAAA,OAAKkE,IAAKA,EAAKgP,IAAI,aACnBpT,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,YAAYX,QAAS,kBAAI4T,IAAe,KAA1D,SAIZvU,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACXtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBACXtB,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMoW,KACfxX,KAAK,OACLsH,OAAO,UACPC,KAAK,uBACL3D,GAAG,uBACH6D,SAjMf,SAAAwM,GACjB,IAAMwD,EAAa,IAAIlG,WACvBkG,EAAW9F,UAAY,WACnB8C,EAAOgD,EAAW5F,QAClBgD,EAAe4C,EAAW5F,SAE9B4F,EAAW/F,cAAcuC,EAAE5G,OAAON,MAAM,IACxCN,GAAQwH,GAAGxI,KAAK,SAAAvH,GACZmR,EAAoB,CAACnJ,MAAOhI,EAAIgI,MAAOE,OAAQlI,EAAIkI,cA2L3B1L,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMsW,OACnBhX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMuW,OACnBjX,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAMwW,KACNrS,mBAAkB3B,EAAI5D,KAAK,SAASqB,QAzNzD,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,kBA4NrBhF,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACIT,GAAIA,EACJF,KAAMA,EACNF,SAAUA,EACVc,QA/NhB,kBAAMb,EAAY,OAgOFc,aAAc,CACVC,SAAU,MACVC,WAAY,UAEhBC,gBAAiB,CACbF,SAAU,SACVC,WAAY,UAEhBE,MAAO,CAACkT,aAAc,SAEtBnX,EAAAC,EAAAC,cAACkX,GAAAnX,EAAD,CAAQoX,aA7NvB,SAACtS,EAAOuS,GACzB,IAAI4F,EAAaZ,EAAiBhF,EAAYE,MAC9C+E,EAAkBW,OA8NUld,EAAAC,EAAAC,cAAC2W,GAAD,CAAanW,KAAM+W,QAIfnC,EAAYtV,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3M,UAAU,yBAAwBtB,EAAAC,EAAAC,cAACwX,GAAD,OAEtD1X,EAAAC,EAAAC,cAAC+N,GAAA,EAAD,CAAQ3O,KAAK,SAAQgC,UAAU,yBAA/B,iBCjCzBqvB,GAnOC5R,qBAAW,SAAAjf,EASrBkf,GAAQ,IARXxC,EAQW1c,EARX0c,eACA/b,EAOWX,EAPXW,KACAiP,EAMW5P,EANX4P,MACA8G,EAKW1W,EALX0W,UACAD,EAIWzW,EAJXyW,SACAoI,EAGW7e,EAHX6e,UACArI,EAEWxW,EAFXwW,MACAsa,EACW9wB,EADX8wB,eAGMvU,EAAU/Z,cACT8Z,EAAU0M,cAAV1M,OACDpE,EAAO4D,GAA+BpF,GAJjCjU,EAMqBC,mBAAS,MAN9BC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAMJO,EANIL,EAAA,GAMMM,EANNN,EAAA,GASLO,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EAVxBvC,EAYMjB,IAATV,EAZGM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAYH3B,KAZG2D,EAamBJ,mBAAS,CAACU,GAAG,GAAGoB,YAAY,GAAID,SAAU,GAAI8X,UAAU,EAAOjb,SAAU,GAAIid,UAAW,GAAIF,UAAU,KAbzHpb,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAaJF,EAbIG,EAAA,GAaKF,EAbLE,EAAA,GAcJyB,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SAd7BxI,EAeyBnR,mBAAS,MAflCoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAeJsI,EAfIrI,EAAA,GAeQqL,EAfRrL,EAAA,GAAAC,EAgB6BrR,mBAAS,MAhBtCsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAgBJgd,EAhBI/c,EAAA,GAgBUgd,EAhBVhd,EAAA,GAAAE,EAiByCxR,mBAAS,MAjBlDyR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAiBJ0c,EAjBIzc,EAAA,GAiBgB8c,EAjBhB9c,EAAA,GAAAG,EAmB2B5R,oBAAS,GAnBpC6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAmBJE,GAnBID,EAAA,GAmBSE,GAnBTF,EAAA,GAAAG,GAsBiChS,mBAAS,IAtB1CiS,GAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,GAAA,GAsBJwc,GAtBIvc,GAAA,GAsBYwc,GAtBZxc,GAAA,GAuBLyc,GAAmB,SAAAvS,GAAS,OAAItC,EAAQY,KAAR,WAAAjc,OAAwBob,EAAxB,KAAApb,OAAkC2d,KAvB7D/J,GAyB2BpS,oBAAS,GAzBpCqS,GAAAtV,OAAAsB,EAAA,EAAAtB,CAAAqV,GAAA,GAyBJwK,GAzBIvK,GAAA,GAyBSwK,GAzBTxK,GAAA,GA2BXzR,oBAAU,WACP,IAAIoe,GAAU,EA2Bd,OA1BAhgB,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAiS,GACzCgM,GACAvC,EAAc1f,OAAAC,EAAA,EAAAD,CAAA,CAAC2D,GAAGjE,EAAKiE,IAAOsS,EAAS/R,WAI7CjC,EAAG6B,WAAW,SAASC,IAAIiT,GAAUhT,WAAW,SAAAiS,GAC1CgM,GACA7e,EAAW6S,EAAS/R,UAI1BjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAC1CC,IAAIqb,GAAWtb,WAAW,kBAC1BE,WAAW,SAAAiS,GACNgM,GACAyP,GAAkBzb,EAAS+J,KAAKjW,IAAI,SAAA6nB,GAAa,OAAA5xB,OAAAC,EAAA,EAAAD,CAAA,CAAI2D,GAAGiuB,EAAcjuB,IAAOiuB,EAAc1tB,aAIpGjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ7Y,WAAW,SAAAiS,GACxCgM,GACAsP,EAAgBtb,EAAS/R,UAIxB,kBAAM+d,GAAU,IACvB,IAEHpe,oBAAU,WACP,IAAIoe,GAAU,EAUd,OARGqP,GACArvB,EAAG6B,WAAW,SAASC,IAAIutB,EAAata,UAAUhT,WAAW,SAAAiS,GACvDgM,GACAuP,EAAsBvb,EAAS/R,UAKjC,kBAAM+d,GAAU,IAEvB,CAACqP,IAEJztB,oBAAU,WACJV,GACA2c,GAAe3c,EAAQyb,UAAUX,SAASve,EAAKiE,MAElD,CAACR,IAIJ,OACG1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAC+V,GAAD,CACGjT,KAAMsR,GACN1Q,QAAS,kBAAI2Q,IAAe,IAC5B3K,MAAM,GACNiE,SARgB,aAShBnN,KAAQ+e,KACR3R,WAAW,IAEX9N,EAAAC,EAAAC,cAACkxB,GAAD,CAAclqB,MAAO,CACfmqB,cAAe7U,EACf9M,QACA8G,YACAD,WACAoI,YACArI,SAEH5T,QAASA,EACTuZ,WAAaA,EACbC,qBAjFiB,SAAA9c,GAAK,OAAImV,GAAenV,IAkFzCsxB,mBAAsBA,KAI5B1wB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,OAAO0d,IAAKA,GACxBhf,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,KAEhBrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB,IAChBtE,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACT6a,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAD/C,OAAAN,OAEWE,EAFX,OAAAF,OAEyBwV,GAAawG,GAAchF,MAGvDhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBAAyBuD,mBAAkB3B,EAAI4B,QAAQ,YAAYnE,QAhH/E,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,iBAiH7BhF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAGHD,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACGT,GAAIA,EACJF,KAAMA,EACNF,SAAUA,EACVc,QAvHD,kBAAMb,EAAY,OAyHjBc,aAAc,CACXC,SAAU,MACVC,WAAY,SAEfC,gBAAiB,CACdF,SAAU,MACVC,WAAY,UAGf/D,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBAEXiV,IAAatX,EAAKiE,GAClBlD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAI+d,GAActC,EAAQuC,KACpC3e,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UAAStB,EAAAC,EAAAC,cAACyf,GAAA1f,EAAD,OAA2BD,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,UAAd,WAEtDtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC0f,GAAA3f,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,kCAE3BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,0BAE1BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC4f,GAAA7f,EAAD,OAAsBD,EAAAC,EAAAC,cAAA,mCAIjCF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,2CAG5Ckf,GACApf,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAIyd,GAASnf,EAAKiE,GAAIqT,KAChCvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC8f,GAAA/f,EAAD,OAA+BD,EAAAC,EAAAC,cAAA,0BAAAc,OAAkBE,KAEvDlB,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAIgd,GAAO1e,EAAKiE,GAAIqT,KAChCvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC+f,GAAAhgB,EAAD,OAAuBD,EAAAC,EAAAC,cAAA,wBAAAc,OAAgBE,KAQlDlB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACggB,GAAAjgB,EAAD,OAAqBD,EAAAC,EAAAC,cAAA,oCAE7BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACigB,GAAAlgB,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,uBAAAc,OAAeE,KAE1ClB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,8BAQrC0wB,GAAkB5wB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBAAf,eACJtB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAe4vB,IAAvB,IAAA5vB,OAA8C4vB,KAG7D5wB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BAA0BX,QAAS,kBAAIuwB,GAAiBvS,KACpE3e,EAAAC,EAAAC,cAAA,aAAKO,EAAL,OAIJiP,EAAM1B,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKoJ,EAAgB7b,QAAS,kBAAIuwB,GAAiBvS,MAExF3e,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM2f,KAAuBjgB,MAAO4wB,GAAehjB,OAAQrN,QAAS,kBAAI4T,IAAe,MACnGvU,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM4f,KAAYlgB,MAAO,IACrCJ,EAAAC,EAAAC,cAACqgB,GAAD,CACGjK,MAAOA,EACP8G,WAAc,kBAAIwB,GAAYxC,EAAQuC,EAAW1f,EAAKiE,KACtDma,aAAgB,kBAAKwB,GAAczC,EAAQuC,EAAW1f,EAAKiE,OAE9DlD,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM8f,KAAapgB,MAAO,UC9NzCkxB,GAzBE,SAAAxxB,GAAgC,IAA9Bof,EAA8Bpf,EAA9Bof,SAAU0R,EAAoB9wB,EAApB8wB,eACzB,OACI5wB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACA1D,EAAAC,EAAAC,cAACygB,GAAA,EAAD,KAEIzB,EAAS5V,IAAI,SAAAkW,GAAO,OAChBxf,EAAAC,EAAAC,cAACqxB,GAAD,CAAS9nB,IAAK+V,EAAQtc,GACdyb,UAAaa,EAAQtc,GACrBsZ,eAAkBgD,EAAQhD,eAC1BjG,SAAYiJ,EAAQjJ,SACpBrV,SAAYse,EAAQte,SACpBT,KAAQ+e,EAAQ/e,KAChBqgB,OAAUtB,EAAQsB,OAClBpR,MAAS8P,EAAQ9P,MACjB8G,UAAagJ,EAAQhJ,UACrBF,MAASkJ,EAAQlJ,MACjBsa,eAAkBA,SCsM3BY,GAzLI,SAAA1xB,GAAwB,IAAtB2xB,EAAsB3xB,EAAtB2xB,OAAQvS,EAAcpf,EAAdof,SACnB9C,EAAU0M,cAAV1M,OADiCxb,EAEvBjB,IAATV,EAFgCM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAEhC3B,KAFgCsD,EAGVC,mBAAS,CAACU,GAAG,GAAGoB,YAAY,GAAID,SAAU,GAAI8X,UAAU,EAAOjb,SAAU,GAAIid,UAAW,GAAIF,UAAW,KAH7Fxb,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGjCG,EAHiCD,EAAA,GAGxBE,EAHwBF,EAAA,GAIjC6B,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SAErCjJ,EAMCue,EANDve,QACAzS,EAKCgxB,EALDhxB,KACAiP,EAIC+hB,EAJD/hB,MACA8G,EAGCib,EAHDjb,UACAD,EAECkb,EAFDlb,SACAD,EACCmb,EADDnb,MAGG0B,EAAO4D,GAA+BpF,GACtC6F,EAAU/Z,cAfwBM,EAiBFJ,oBAAS,GAjBPK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAiBjC0R,EAjBiCzR,EAAA,GAiBpB0R,EAjBoB1R,EAAA,GAAA8Q,EAkBRnR,mBAAS,MAlBDoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAkBjC7Q,EAlBiC8Q,EAAA,GAkBvB7Q,EAlBuB6Q,EAAA,GAqBlC5Q,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EAtBK0Q,EAwBFrR,oBAAS,GAxBPsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAwBjCuL,EAxBiCtL,EAAA,GAwBpBuL,EAxBoBvL,EAAA,GA0BxC1Q,oBAAU,WACP,IAAIoe,GAAU,EAOd,OANAhgB,EAAG6B,WAAW,SAASC,IAAIiT,GAAUhT,WAAW,SAAAiS,GAC1CgM,GACA7e,EAAW6S,EAAS/R,UAInB,kBAAM+d,GAAU,IACvB,IAEHpe,oBAAU,WACJV,GACA2c,EAAe3c,EAAQyb,UAAUX,SAASve,EAAKiE,MAElD,CAACR,IAaJ,OACA1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAC+V,GAAD,CACGjT,KAAMsR,EACN1Q,QAAS,kBAAI2Q,GAAe,IAC5B3K,MAAM,GACNiE,SAjBmB,aAkBnBnN,KAAQ+e,KACR3R,WAAW,IAEX9N,EAAAC,EAAAC,cAACwf,GAAD,CAAOxY,MAAO,CACRgM,UACAzS,OACAiP,QACA8G,YACAD,WACA6F,SACA9F,SAEH5T,QAASA,EACTuZ,WAAahd,EACbid,qBAvBoB,SAAA9c,GAAK,OAAImV,EAAenV,OA2BlDY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACftB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,KAEhBrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BACZtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB6X,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAA3D,KACAtB,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACZJ,GAAQ,IAAAF,OAAQE,EAAR,OAIflB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBAA0BuD,mBAAkB3B,EAAI4B,QAAQ,YAAYnE,QA3E7E,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,iBA4EhChF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAGHD,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACGT,GAAIA,EACJF,KAAMA,EACNF,SAAUA,EACVc,QAlFE,kBAAMb,EAAY,OAmFpBc,aAAc,CACXC,SAAU,MACVC,WAAY,SAEfC,gBAAiB,CACdF,SAAU,MACVC,WAAY,UAGf/D,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBAEXiV,IAAatX,EAAKiE,GAClBlD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,MAAIS,QAvEP,WAClB2d,GAAWlC,GACXC,EAAQY,KAAK,OAsEWjd,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UAAStB,EAAAC,EAAAC,cAACyf,GAAA1f,EAAD,OAA2BD,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,UAAd,WAEtDtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC0f,GAAA3f,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,kCAE3BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,0BAE1BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC4f,GAAA7f,EAAD,OAAsBD,EAAAC,EAAAC,cAAA,mCAIjCF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,2CAG5Ckf,EACGpf,EAAAC,EAAAC,cAAA,MAAIS,QArFb,kBAAKyd,GAASnf,EAAKiE,GAAIqT,KAsFdvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC8f,GAAA/f,EAAD,OAA+BD,EAAAC,EAAAC,cAAA,0BAAAc,OAAkBE,KAEvDlB,EAAAC,EAAAC,cAAA,MAAIS,QAzFd,kBAAKgd,GAAO1e,EAAKiE,GAAIqT,KA0FVvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC+f,GAAAhgB,EAAD,OAAuBD,EAAAC,EAAAC,cAAA,wBAAAc,OAAgBE,KAGlDlB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACggB,GAAAjgB,EAAD,OAAqBD,EAAAC,EAAAC,cAAA,oCAE7BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACigB,GAAAlgB,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,uBAAAc,OAAeE,KAE1ClB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,iCAY/CF,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,6BAA6Bb,GACvCiP,GAAS1P,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKF,IACpClT,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BAA0BkV,GAAawG,GAAchF,KAGvEhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,sBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM2f,KAAuBjgB,MAAO8e,EAASlR,OAAQrN,QAAS,kBAAI4T,GAAe,MAC7FvU,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM4f,KAAYlgB,MAAO,IACrCJ,EAAAC,EAAAC,cAACqgB,GAAD,CAAMjK,MAAOA,EACP8G,WAAa,kBAAIoB,GAAKpC,EAAQnd,EAAKiE,KACnCma,aAAgB,kBAAIoB,GAAOrC,EAAQnd,EAAKiE,OAE9ClD,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM8f,KAAapgB,MAAO,SCtInCsxB,WAhEA,WAAM,IAAAnvB,EACeC,mBAAS,IADxBC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACV2c,EADUzc,EAAA,GACA0c,EADA1c,EAAA,GAAAG,EAEWJ,mBAAS,MAFpBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAEV6uB,EAFU5uB,EAAA,GAEF8uB,EAFE9uB,EAAA,GAAA8Q,EAG2BnR,mBAAS,IAHpCoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAGVid,EAHUhd,EAAA,GAGMge,EAHNhe,EAAA,GAKXyI,EAAU/Z,cACT8Z,EAAU0M,cAAV1M,OAuCP,OArCAhZ,oBAAU,WACR,IAAIoe,GAAU,EAkBd,OAjBGpF,IACH5a,EAAG6B,WAAW,SAASC,IAAI8Y,GACvB7Y,WAAW,SAAAiS,GACNgM,GACAmQ,EAAUpyB,OAAAC,EAAA,EAAAD,CAAA,GAAIiW,EAAS/R,WAIhCjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAC1Cse,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACNgM,GACArC,EAAY3J,EAAS+J,KAAKjW,IAAI,SAAAkW,GAAO,OAAAjgB,OAAAC,EAAA,EAAAD,CAAA,CAAI2D,GAAGsc,EAAQtc,IAAOsc,EAAQ/b,cAKrE,kBAAM+d,GAAU,IAEtB,CAACpF,IAEJhZ,oBAAU,WACR,IAAIoe,GAAU,EASd,OARGiQ,GACAjwB,EAAG6B,WAAW,SAASC,IAAImuB,EAAOlb,UAAUhT,WAAW,SAAAiS,GACjDgM,GACAoQ,EAAkBpc,EAAS/R,OAAOvC,YAKpC,kBAAMsgB,GAAU,IAEtB,CAACiQ,IAGAzxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,kBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBAAoBX,QAAS,kBAAI0b,EAAQ0N,WACrD/pB,EAAAC,EAAAC,cAACopB,GAAArpB,EAAD,OAEHD,EAAAC,EAAAC,cAAA,oBAGFuxB,GAAUzxB,EAAAC,EAAAC,cAAC2xB,GAAD,CAAYJ,OAAQA,EAAQvS,SAAUA,KAlDzC,EAsDRlf,EAAAC,EAAAC,cAAC4xB,GAAD,CAAU5S,SAAUA,EAAU0R,eAAgBA,OCuF1CmB,GAlIOhT,qBAAW,SAAAjf,EAU3Bkf,GAAQ,IATXxC,EASW1c,EATX0c,eACA/b,EAQWX,EARXW,KACAiP,EAOW5P,EAPX4P,MACA8G,EAMW1W,EANX0W,UACAD,EAKWzW,EALXyW,SACAyb,EAIWlyB,EAJXkyB,gBAEApB,GAEW9wB,EAHXwW,MAGWxW,EAFX8wB,gBACAqB,EACWnyB,EADXmyB,qBACWC,EAEiBpJ,cAArB1M,EAFI8V,EAEJ9V,OAAQuC,EAFJuT,EAEIvT,UACT3G,EAAO4D,GAA+BpF,GAHjCjU,EAKqBC,mBAAS,MAL9BC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAKJO,EALIL,EAAA,GAKMM,EALNN,EAAA,GAQLO,EAAOC,QAAQH,GACfI,EAAKF,EAAO,oBAAiBG,EATxBvC,EAWMjB,IAATV,EAXGM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAWH3B,KAXG2D,EAYmBJ,mBAAS,CAACU,GAAG,GAAGoB,YAAY,GAAID,SAAU,GAAI8X,UAAU,EAAOjb,SAAU,KAZ5F2B,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAYJF,EAZIG,EAAA,GAYKF,EAZLE,EAAA,GAaJyB,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SAExC/Y,oBAAU,WACP5B,EAAG6B,WAAW,SAASC,IAAIiT,GAAUhT,WAAW,SAAAiS,GAC7C7S,EAAW6S,EAAS/R,WAEvB,IAEH,IAAM0uB,EAAwB,SAAC/V,EAAQuC,EAAWqT,IrCUlB,SAAC5V,EAAQuC,EAAWqT,GAC1BxwB,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAAYC,IAAIqb,GAAWtb,WAAW,kBAAkBC,IAAI0uB,GAClHzT,SqCXd6T,CAAoBhW,EAAQuC,EAAWqT,IAG3C,OACGhyB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,OAAO0d,IAAKA,GACxBhf,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,KAEhBrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB,IAChBtE,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACX6a,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAD7C,OAAAN,OAESE,EAFT,OAAAF,OAEuBwV,GAAawG,GAAchF,MAGrDhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBAAyBuD,mBAAkB3B,EAAI4B,QAAQ,YAAYnE,QAlC/E,SAACoE,GAAD,OAAWhC,EAAYgC,EAAMC,iBAmC7BhF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAGHD,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACGT,GAAIA,EACJF,KAAMA,EACNF,SAAUA,EACVc,QAzCD,kBAAMb,EAAY,OA2CjBc,aAAc,CACXC,SAAU,MACVC,WAAY,SAEfC,gBAAiB,CACdF,SAAU,MACVC,WAAY,UAGf/D,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBAEXiV,IAAatX,EAAKiE,GAClBlD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAIwxB,EAAsB/V,EAAQuC,EAAWqT,KACvDhyB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UAAStB,EAAAC,EAAAC,cAACyf,GAAA1f,EAAD,OAA2BD,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,UAAd,WAEtDtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC0f,GAAA3f,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,kCAE3BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,0BAE1BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC4f,GAAA7f,EAAD,OAAsBD,EAAAC,EAAAC,cAAA,mCAIjCF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,2CAE/CF,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBAAIyd,GAASnf,EAAKiE,GAAIqT,KAChCvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC8f,GAAA/f,EAAD,OAA+BD,EAAAC,EAAAC,cAAA,0BAAAc,OAAkBE,KAEzDlB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACggB,GAAAjgB,EAAD,OAAqBD,EAAAC,EAAAC,cAAA,oCAE7BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACigB,GAAAlgB,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,uBAAAc,OAAeE,KAE1ClB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,8BAQrC0wB,GAAkB5wB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBAAf,cAEhBtB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAc4vB,IAAtB,IAAA5vB,OAA6C4vB,EAA7C,MACA5wB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAcixB,IAAtB,IAAAjxB,OAAmDixB,KAGtDjyB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,2BACZtB,EAAAC,EAAAC,cAAA,aAAKO,EAAL,OAIJiP,EAAM1B,OAAO,GAAKhO,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKoJ,SCtH1C6V,GAxBQ,SAAAvyB,GAAsD,IAApDof,EAAoDpf,EAApDof,SAAU0R,EAA0C9wB,EAA1C8wB,eAAgBqB,EAA0BnyB,EAA1BmyB,qBAC/C,OACIjyB,EAAAC,EAAAC,cAACygB,GAAA,EAAD,KAEIzB,EAAS5V,IAAI,SAAAkW,GAAO,OAChBxf,EAAAC,EAAAC,cAACoyB,GAAD,CAAe7oB,IAAK+V,EAAQtc,GACpB8uB,gBAAmBxS,EAAQtc,GAC3BsZ,eAAkBgD,EAAQhD,eAC1BjG,SAAYiJ,EAAQjJ,SACpBrV,SAAYse,EAAQte,SACpBT,KAAQ+e,EAAQ/e,KAChBqgB,OAAUtB,EAAQsB,OAClBpR,MAAS8P,EAAQ9P,MACjB8G,UAAagJ,EAAQhJ,UACrBF,MAASkJ,EAAQlJ,MACjBsa,eAAkBA,EAClBqB,qBAAwBA,QC6OjCM,GA/NK,SAAAzyB,GAAwB,IAAtB2xB,EAAsB3xB,EAAtB2xB,OAAQvS,EAAcpf,EAAdof,SAAcgT,EACZpJ,cAArB1M,EADiC8V,EACjC9V,OAAQuC,EADyBuT,EACzBvT,UADyB/d,EAEvBjB,IAATV,EAFgCM,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,MAEhC3B,KAFgCsD,EAGAC,mBAAS,MAHTC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGjCsuB,EAHiCpuB,EAAA,GAGnBquB,EAHmBruB,EAAA,GAAAG,EAIYJ,mBAAS,MAJrBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAIjC8tB,EAJiC7tB,EAAA,GAIbkuB,EAJaluB,EAAA,GAAA8Q,EAKVnR,mBAAS,CAACU,GAAG,GAAGoB,YAAY,GAAID,SAAU,GAAI8X,UAAU,EAAOjb,SAAU,GAAIid,UAAU,GAAIF,UAAU,KAL3FrK,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAKjCjR,EALiCkR,EAAA,GAKxBjR,EALwBiR,EAAA,GAMjCtP,EAA6C5B,EAA7C4B,YAAapD,EAAgCwB,EAAhCxB,SAAUmD,EAAsB3B,EAAtB2B,SAAU8X,EAAYzZ,EAAZyZ,SANAtI,EAOJrR,mBAAS,MAPLsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAOjCoI,EAPiCnI,EAAA,GAOrBmL,EAPqBnL,EAAA,GASpC0I,EAMAiV,EANAjV,eACA/b,EAKAgxB,EALAhxB,KACAiP,EAIA+hB,EAJA/hB,MACA8G,EAGAib,EAHAjb,UACAD,EAEAkb,EAFAlb,SACAD,EACAmb,EADAnb,MAGC0B,EAAO4D,GAA+BpF,GACtC6F,EAAU/Z,cAlByB0R,EAoBHxR,oBAAS,GApBNyR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAoBlCM,EApBkCL,EAAA,GAoBrBM,EApBqBN,EAAA,GAAAG,EAqBT5R,mBAAS,MArBA6R,EAAA9U,OAAAsB,EAAA,EAAAtB,CAAA6U,EAAA,GAqBlCtR,EArBkCuR,EAAA,GAqBxBtR,GArBwBsR,EAAA,GAwBnCrR,GAAOC,QAAQH,GACfI,GAAKF,GAAO,oBAAiBG,EAzBMqR,GA2BHhS,oBAAS,GA3BNiS,GAAAlV,OAAAsB,EAAA,EAAAtB,CAAAiV,GAAA,GA2BlC4K,GA3BkC3K,GAAA,GA2BrB4K,GA3BqB5K,GAAA,GA6BzCrR,oBAAU,WACP,IAAIoe,GAAU,EAmBd,OAlBAhgB,EAAG6B,WAAW,SAASC,IAAIrE,EAAKiE,IAAIK,WAAW,SAAAiS,GACzCgM,GACAvC,EAAc1f,OAAAC,EAAA,EAAAD,CAAA,CAAC2D,GAAGjE,EAAKiE,IAAOsS,EAAS/R,WAI7CjC,EAAG6B,WAAW,SAASC,IAAIiT,GAAUhT,WAAW,SAAAiS,GAC1CgM,GACA7e,EAAW6S,EAAS/R,UAI1BjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ7Y,WAAW,SAAAiS,GACxCgM,GACFsP,EAAgBtb,EAAS/R,UAItB,kBAAM+d,GAAU,IAEvB,IAEHpe,oBAAU,WACP,IAAIoe,GAAU,EASd,OARIqP,GACDrvB,EAAG6B,WAAW,SAASC,IAAIutB,EAAata,UAAUhT,WAAW,SAAAiS,GACvDgM,GACFuP,EAAsBvb,EAAS/R,UAK/B,kBAAM+d,GAAU,IAEvB,CAACqP,IAEJztB,oBAAU,WACJV,GACA2c,GAAe3c,EAAQyb,UAAUX,SAASve,EAAKiE,MAElD,CAACR,IAeH,OACE1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAC+V,GAAD,CACGjT,KAAMsR,EACN1Q,QAAS,kBAAI2Q,GAAe,IAC5B3K,MAAM,GACNiE,SAnBgB,aAoBhBnN,KAAQ+e,KACR3R,WAAW,IAEX9N,EAAAC,EAAAC,cAACkxB,GAAD,CAAclqB,MAAO,CACfsrB,cAAehW,EACf/b,OACAiP,QACA8G,YACAD,WACA6F,SACA9F,QACAqI,aAEHjc,QAAWA,EACXuZ,WAAcA,EACdyU,mBAAsBA,EACtBxU,qBAzBkB,SAAA9c,GAAK,OAAImV,EAAenV,OA6BjDY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACdtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,qBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAQC,IAAKC,KAEhBrE,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,cACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BACZtB,EAAAC,EAAAC,cAAA,UAAKoE,EAAL,IAAmB6X,GAAYnc,EAAAC,EAAAC,cAAC6c,GAAA9c,EAAD,CAAkBqB,UAAU,gBAA3D,KACAtB,EAAAC,EAAAC,cAAA,QAAMoB,UAAU,uBACXJ,GAAQ,IAAAF,OAAQE,EAAR,OAIhBlB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,yBAA0BuD,mBAAkB3B,GAAI4B,QAAQ,YAAYnE,QA1GhF,SAACoE,GAAD,OAAWhC,GAAYgC,EAAMC,iBA2G7BhF,EAAAC,EAAAC,cAAC+E,EAAAhF,EAAD,OAGHD,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CACGT,GAAIA,GACJF,KAAMA,GACNF,SAAUA,EACVc,QAjHD,kBAAMb,GAAY,OAkHjBc,aAAc,CACXC,SAAU,MACVC,WAAY,SAEfC,gBAAiB,CACdF,SAAU,MACVC,WAAY,UAGf/D,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,oBAEXiV,IAAatX,EAAKiE,GAClBlD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,MAAIS,QAAS,kBA3EhB,SAACyb,EAAQuC,GAC7BD,GAActC,EAAQuC,GACtBtC,EAAQY,KAAR,WAAAjc,OAAwBob,IAyEgBqW,CAAgBrW,EAAQuC,KACtC3e,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,UAAStB,EAAAC,EAAAC,cAACyf,GAAA1f,EAAD,OAA2BD,EAAAC,EAAAC,cAAA,MAAIoB,UAAU,UAAd,WAEtDtB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC0f,GAAA3f,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,kCAE3BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,0BAE1BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC4f,GAAA7f,EAAD,OAAsBD,EAAAC,EAAAC,cAAA,mCAIjCF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyD,SAAA,KACG1D,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC6f,GAAA9f,EAAD,OAAuCD,EAAAC,EAAAC,cAAA,2CAG5Ckf,GACGpf,EAAAC,EAAAC,cAAA,MAAIS,QA1Ff,kBAAKyd,GAASnf,EAAKiE,GAAIqT,KA2FTvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC8f,GAAA/f,EAAD,OAA+BD,EAAAC,EAAAC,cAAA,0BAAAc,OAAkBE,KAEzDlB,EAAAC,EAAAC,cAAA,MAAIS,QA3FjB,kBAAKgd,GAAO1e,EAAKiE,GAAIqT,KA4FLvW,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC+f,GAAAhgB,EAAD,OAAuBD,EAAAC,EAAAC,cAAA,wBAAAc,OAAgBE,KAGrDlB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACggB,GAAAjgB,EAAD,OAAqBD,EAAAC,EAAAC,cAAA,oCAE7BF,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAACigB,GAAAlgB,EAAD,OAAmBD,EAAAC,EAAAC,cAAA,uBAAAc,OAAeE,KAE1ClB,EAAAC,EAAAC,cAAA,UACGF,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAC2f,GAAA5f,EAAD,OAAkBD,EAAAC,EAAAC,cAAA,iCAY9CwwB,GAAsB1wB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oCAAf,eACTtB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAcE,IAAtB,IAAAF,OAAuCE,IAD9B,KACkDlB,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,YAAAJ,OAAc0vB,EAAmBxvB,WAAzC,IAAAF,OAA0D0vB,EAAmBxvB,YAGtJlB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACbtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,6BAA6Bb,GAC1CiP,GAAS1P,EAAAC,EAAAC,cAAA,OAAKkE,IAAKsL,EAAO0D,IAAKoJ,IACjCxc,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,0BAA0BkV,GAAawG,GAAchF,KAGtEhY,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,sBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,gBACXtB,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM2f,KAAuBjgB,MAAO8e,EAASlR,OAAQrN,QAAS,kBAAI4T,GAAe,MAC7FvU,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM4f,KAAYlgB,MAAO,IACrCJ,EAAAC,EAAAC,cAACqgB,GAAD,CAAMjK,MAAOA,EACP8G,WAAa,kBAAIwB,GAAYxC,EAAQuC,EAAW1f,EAAKiE,KACrDma,aAAgB,kBAAIwB,GAAczC,EAAQuC,EAAY1f,EAAKiE,OAEjElD,EAAAC,EAAAC,cAACkgB,GAAD,CAAY1f,KAAM8f,KAAapgB,MAAO,SC1JvCsxB,GAnFA,WAAM,IAAAnvB,EAC2BC,mBAAS,IADpCC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GACVyuB,EADUvuB,EAAA,GACMwuB,EADNxuB,EAAA,GAAAG,EAEWJ,mBAAS,MAFpBK,EAAAtD,OAAAsB,EAAA,EAAAtB,CAAAqD,EAAA,GAEV6uB,EAFU5uB,EAAA,GAEF8uB,EAFE9uB,EAAA,GAAA8Q,EAG2BnR,mBAAS,IAHpCoR,EAAArU,OAAAsB,EAAA,EAAAtB,CAAAoU,EAAA,GAGVid,EAHUhd,EAAA,GAGMge,EAHNhe,EAAA,GAAAC,EAIuBrR,mBAAS,MAJhCsR,EAAAvU,OAAAsB,EAAA,EAAAtB,CAAAsU,EAAA,GAIVgd,EAJU/c,EAAA,GAIIgd,EAJJhd,EAAA,GAAAE,EAKuCxR,mBAAS,IALhDyR,EAAA1U,OAAAsB,EAAA,EAAAtB,CAAAyU,EAAA,GAKVie,EALUhe,EAAA,GAKYye,EALZze,EAAA,GAOXoI,EAAU/Z,cAPC4vB,EAQWpJ,cAArB1M,EARU8V,EAQV9V,OAAQuC,EAREuT,EAQFvT,UAwDf,OAtDAvb,oBAAU,WACR,IAAIoe,GAAU,EAwBd,OAvBGpF,IACH5a,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ7Y,WAAW,SAAAiS,GACxCgM,GACAsP,EAAgBtb,EAAS/R,UAI/BjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAAYC,IAAIqb,GAC1Dpb,WAAW,SAAAiS,GACNgM,GACAmQ,EAAUpyB,OAAAC,EAAA,EAAAD,CAAA,GAAIiW,EAAS/R,WAIhCjC,EAAG6B,WAAW,SAASC,IAAI8Y,GAAQ/Y,WAAW,YAAYC,IAAIqb,GAAWtb,WAAW,kBAChFse,QAAQ,YAAa,QACrBpe,WAAW,SAAAiS,GACNgM,GACAyP,EAAkBzb,EAAS+J,KAAKjW,IAAI,SAAAkW,GAAO,OAAAjgB,OAAAC,EAAA,EAAAD,CAAA,CAAI2D,GAAGsc,EAAQtc,IAAOsc,EAAQ/b,cAK3E,kBAAM+d,GAAU,IACtB,CAACpF,IAEJhZ,oBAAU,WACR,IAAIoe,GAAU,EASd,OARIqP,GACDrvB,EAAG6B,WAAW,SAASC,IAAIutB,EAAata,UAAUhT,WAAW,SAAAiS,GACvDgM,GACHkR,EAAwBld,EAAS/R,OAAOvC,YAKvC,kBAAMsgB,GAAU,IACtB,CAACqP,IAEJztB,oBAAU,WACR,IAAIoe,GAAU,EASd,OARGiQ,GACAjwB,EAAG6B,WAAW,SAASC,IAAImuB,EAAOlb,UAAUhT,WAAW,SAAAiS,GACjDgM,GACAoQ,EAAkBpc,EAAS/R,OAAOvC,YAKpC,kBAAMsgB,GAAU,IACtB,CAACiQ,IAGAzxB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,QACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,kBACZtB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBAAoBX,QAAS,kBAAI0b,EAAQ0N,WACrD/pB,EAAAC,EAAAC,cAACopB,GAAArpB,EAAD,OAEHD,EAAAC,EAAAC,cAAA,qBAGFuxB,GAAUzxB,EAAAC,EAAAC,cAACyyB,GAAD,CAAalB,OAAQA,EAAQvS,SAAU8R,KAnE1C,EAuERhxB,EAAAC,EAAAC,cAAC0yB,GAAD,CAAgB1T,SAAU8R,EAAgBJ,eAAgBA,EAAgBqB,qBAAsBA,MC1D5FY,GArBM,WAAM,IAAAtwB,EAGAC,mBAAS,IAHTC,EAAAlD,OAAAsB,EAAA,EAAAtB,CAAAgD,EAAA,GAGjB9B,EAHiBgC,EAAA,GAGXwgB,EAHWxgB,EAAA,GAKvB,OACIzC,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,WAEZtB,EAAAC,EAAAC,cAACgjB,GAAD,CACI9iB,MAAOK,EACPsG,SAAY,SAACwM,GAAD,OAAK0P,EAAQ1P,EAAE5G,OAAOvM,QAClCO,QAAS,kBAAIsiB,EAAQ,KACrBtM,YAAY,mBAGf3W,EAAAC,EAAAC,cAACijB,GAAD,6BCFG2P,WAbG,WAChB,OACE9yB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aACZtB,EAAAC,EAAAC,cAAA,WACGF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASE,OAAK,EAACD,GAAG,IAAIG,gBAAgB,qBAAoBvB,EAAAC,EAAAC,cAAC6yB,EAAA9yB,EAAD,OAC1DD,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAG,UAAUG,gBAAgB,qBAAoBvB,EAAAC,EAAAC,cAAC8yB,GAAA/yB,EAAD,OAC1DD,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAG,iBAAiBG,gBAAgB,qBAAoBvB,EAAAC,EAAAC,cAAC+yB,EAAAhzB,EAAD,OACjED,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAG,YAAYG,gBAAgB,qBAAoBvB,EAAAC,EAAAC,cAACknB,EAAAnnB,EAAD,WCoFvDizB,WA5EH,WAAM,IAAAtyB,EACWjB,IADXgrB,EAAAprB,OAAAsB,EAAA,EAAAtB,CAAAqB,EAAA,GACR3B,EADQ0rB,EAAA,GACR1rB,KAAO0G,EADCglB,EAAA,GAUhB,OAPAvnB,oBAAU,WACNuC,EAAS,CACPrG,KAAMJ,EACND,KAAMysB,KAAKE,MAAMpnB,aAAaqnB,QAAQ,oBAEzC,IAGD7rB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,OAEbrC,EACAe,EAAAC,EAAAC,cAACiB,EAAA,EAAD,KACEnB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,oBACbtB,EAAAC,EAAAC,cAACizB,GAAD,MACAnzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,KACEpzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAO/xB,OAAK,EAACgyB,KAAK,KACdrzB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aACbtB,EAAAC,EAAAC,cAACozB,GAAD,MACAtzB,EAAAC,EAAAC,cAACqzB,GAAD,QAINvzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,aACVrzB,EAAAC,EAAAC,cAACszB,GAAD,KACExzB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aACbtB,EAAAC,EAAAC,cAACuzB,GAAD,MACAzzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,KACEpzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,oBAAoBhyB,OAAK,GACnCrB,EAAAC,EAAAC,cAACwzB,GAAD,OAEF1zB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,0BACVrzB,EAAAC,EAAAC,cAACyzB,GAAD,WAOV3zB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,sBACRrzB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aACbtB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,KACEpzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,qBAAqBhyB,OAAK,EAACwG,UAAW+rB,KAClD5zB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,gCAAgCQ,OAAQ,kBAAK7zB,EAAAC,EAAAC,cAAC4zB,GAAD,UAE3D9zB,EAAAC,EAAAC,cAAC6zB,GAAD,QAIN/zB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,mBACRrzB,EAAAC,EAAAC,cAAA,OAAKoB,UAAU,aACbtB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,KACEpzB,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,kBAAkBhyB,OAAK,GAC/BrB,EAAAC,EAAAC,cAAC8zB,GAAD,OAEJh0B,EAAAC,EAAAC,cAACkzB,EAAA,EAAD,CAAOC,KAAK,8BACRrzB,EAAAC,EAAAC,cAAC+zB,GAAD,QAGNj0B,EAAAC,EAAAC,cAACg0B,GAAD,UAMVl0B,EAAAC,EAAAC,cAACi0B,GAAD,OAGFn0B,EAAAC,EAAAC,cAACk0B,GAAD,SCxFNC,IAASR,OACL7zB,EAAAC,EAAAC,cAACo0B,EAAD,KACIt0B,EAAAC,EAAAC,cAACq0B,EAAD,KACIv0B,EAAAC,EAAAC,cAACs0B,GAAD,QAGZnkB,SAASkC,cAAc","file":"static/js/main.371a96e0.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAQ4AQMAAADSHVMAAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURR2N7huA2MYBZJ4AAA7KSURBVHja7N1NcuS4EQXgpBkTXMyCK8cseQKHj8BjeDlHIW5mHAU7b+EdHIEA3T/TP5JK1ZKKiUzkSx2g2Z8ekS9JlbrphPiiH18Q3oIGTmhgAgNXNHBCAwcw8JM7GgGc0cARDUxg4IIGTmjgAAZuBAYuaOCEBg5g4OdHmNCOMKEdYUI7woR2hAntCBPaEbYOjmhgAgNXNHBGA0c0cAADv1w7jIMLGjijgSMamMDADQ1c0MAZDRzRwAEMfHNmWQZXNHBGAyc0cEADExi4ooELGjihgSMaOICBby+WhsEVDVwEwP9TOKTtgqMAOCsc0rzgQ9+QZgWnXd+QZgXHTd+QNgtOEuCw6hvSvOBF35BmBdOs7XWHXXCVADea9A1pXrDco0mWAH+6rcRWrSQEFlu1ggS4CIJJCCy1ajUR8KfBIbVqVSmw1KpVRMCfJqXU5pGlwFKbRxQBRzlwkAJLrVokAv78bZZZtZocWGbzqDLgz3+8zOZR0MBZDiyzaiUR8JfJIbNqRTmwzKoVRMBfRqXI5nGvlbjBBAQuYuAiCZZYtbIM+OtldzSwxOYRZcBf219i8wiSYInNg8DATQj89SQJrFpVFCywahUhcJD6qF+WBR8w4L8u0H/ziGjgIAteUcBNCny/hvnBCwr4W/133zyKMHhCA3ffPLIQ+Ps3uvfmkdDAUQj8/c7q/c4joIFJGtx582hS4O+zo/PmUcXBMxq48+aRpcBR6Ncb4cBJCvyjDvu+Aoho4CAP7rt5kBT4xyW6bh5NAbjr5lEVgGcI8E+3VtfNoygAdy3ijAZOUuCfz1LPIo4OFgD33DyCFPjnadlz8yAN4I6bR1MB7rh5VDHwz304oYE7FnHRAT70LFps4CcbT78iTjrA/Yo4OrgX+MmV+xVxQAOTDnC3Im4O7gYOIv+YZNUC7rV5FC3gXptHlgM/vcqGBu71CiBpAfcq4igGftYPMxq4VxEHLeBeRUxqwH2KuMmBn688Oxq4TxFXPeA+RVz0gBfr4OeX7lPEGQ2c9IDJOvjFzdWliKOihLsUcVCUMBy4SxGTHPjF+OhRxI0UJTwbBycJcNUE7lHExcH9wC9XgA69lNHASRV4dbDIKs0FfrnkzWjgDq+mgypwh14iB4uC2XupSYJvXGlDA7P3UlUGZn8iLsrAs2XwrePEXsRZGZjgwIeGZ4eeYO4ijtrAm2HwzUrkLuKgLeHFMPhmwtxFTNrAExqYuYibPvBhF3x7reUt4qoPzNtLxcHiYN5eyvrAk4P7PyxR1+/2gQZm7aWoELyhgVl7KSgEL2hg1iImSfArE3MyC86dfw/u7Q9LfRPm7CU4cFUJXtHAjL1UVIJnq+DX1jzGXsoqEyar4FcXeb4HxKQTvKOB+XopOlgFmK+Xgk7whAbu8Q94S4Bf/3YfNsGvJ7yjJcz14rJpBS9oYK5eqlrBExq426+kqwEfaGCmXsqy4DsXXE2C7yS8oCXM1EtJbcKTSbCm7V0cfKCBNzTw2ntqSIMXNPDc/YrC4AkNzDKmm4O7gu9ffkNLmKOXquaEF3vg+wlPaAlzXLNoTphjTBfVCTO81sqqwSsaeEEDMzw+JNXgCQ1McODrx3TUDd7QwCsa+PoxHXSDJzTw9Vcl5eADDbyjgdfeF5QGL2jgGQ1McOCLx3RVD97RwBc/PhT14AUNPKOBJzTwxWM66wfvaOANDXztmE76wTMaeEIDXzum4wDgHQ28oYEXNPClYzoMAJ7QwJeO6SHAV45pGgG8oYEXNPCMBqbe15P76OHlY7qNkfCOBl7RbunrxnQdI+HJDrj3f6oxSMLXjelREr5suSyDgFc08IwGntDAl02tPAp4RwNvaOAFDXzVmE6jgMkMOPQd0+MkvKElvKKBL5pacRjwhAa+aGoNBN7RwGvfy8mDF7SEJ7SEyQj47ffYjpbwJcslDZTwgnZLz2gJExz4QANvaOALplYbCjybAPd9BTEY+EADb2jgFQ38+NSqY4EJDnwYAL/nx3mPT63REl7REp7RwA//Hcpo4AMt4Q0t4WV88Lv+Cg9PreHABAc+0MBbx4mhArygJTwNn3ClnlNrQPCOBl7RwAsaeBod3N4Jfmz1SOMl/NjUGjHhdfCE3w2e0cA0OPiknod4yIQ3tIQXNPCEBn5k9YhDgvexEw7UcfWIQ4JnNDDBgfehwZE6HuJBwQsaeEIDf3z1GBW8jQxO1PEQjwr+8CEOg4I/fIhHTfjDq4eGhPNHwOvACX8IPKMlTHDgfVxwoY6HeFzwjAYmOPA+LLhSx0M8MHhGA9Ow4EYdD/HI4BUNPKOBaVTwSR0P8dDgFQ08oYE/8mJLBTh0PMQ0NHhBS3gaFBw7HuLBwduYZ/jj4GXMhNOHwQQH3oe8pR8Ar2gJz0OCM/U7xDQ6eBsx4fIAeEEDT2jg926XNDx4HTDh+gh4RgMTHHgbD9weAi9o4AkN/L4nJhXg8zHwigaexgOHx8QHGnhDA8/DgeNjYIIDb2jgZTRwom73tBHwjgZeBgNn6nZPWwHvLPORDVyo2z0djIAntITffE/rSLhSt3s6WgHTUOBG3e5pO+AFDUwjgc8rwBsaeBkJHLrd05bAGxp4HggcrwC/6f20KfBbfuaSdIDTJeAJDfyW9VLJLZ2vAS/DJHwRmODA2yjgchF4RgP/uoqVgOtV4AUNPA0CbleBfzm2sjXwPEbC52XgX21b2Rx4GQMcrhMfaOB1CHC8Djyhge83k0XwdNkSywhOF4LvNlO2CJ4HSDhfCb7XTFrAhTpFbBN8J2Kj4EU9uFKniKtR8KI94UadItaS8Hk1eEYDvxaxXfCsHBwuF++6wfFy8PT4dBwLfPu5WE3C6XowqU6YA/y7ZnBmAN+aW7bBs2Jw4QDfemVrG3xj39ICrjzg39DA9IdWcGMCv5jUWsAnF3hCAz/vpqAFHNjEf6CBnz5FqAFHPjD9iQamfysEJ07wdHzoG8sKztRHDAL+cVerARdm8LfJhQOmf+oCV3Yw/e29w5EV3KjD1z/QwET/UgM+Sd+Xg0d5etAJjg42Dk5o4Oxg4+CCBq4ONg5uDjYOPuHAAQ0cHWwcnNDA2cHGwQUNXB1sHNzQwKeDrYMDGjiigZODjYMzGriggauDjYMbGviEAwcHGwdHNHBCA2c0cHGwcXBFAzc08Olg6+CABo5o4IQGzmjg4mDj4OZg4+ATDhzQwBENnNDA2cHGwdXBxsENDXzCgQMaOKKBExo4o4ELGriaB/9HcRGzgP+ruIh5xvKht4h5xvIGBk6r3iLmSXgGAyfSW8RMq9WOBU60qi1ipoRntUXM9Xiktpe4Ho92KPCnhFetvcSV8Kz1iZjtFYfWXmJ7xbErfSJmA69Ki5jtlp6VFjHfW7tDZy/xgTedr6b5wIvOIuYDTzqLmPHN+66yiBnBq8peYgRPKnuJ84dJh8Ze4gSvGnuJEzxr7CXWn48eCnuJFbwpfF5iBc8Ke4n3R/6Hvl7iBa/6eon3Mw6Tvl5i/hTLrq6XmD/Fsqh7fOD+nNKhrZe4P6e0ausl9g9maesldvCmbEyzgydlY5r/s4abrscHfvCka0zzg79F3GDApGpM9wCvmh4fWMDPj+ufisZ0j4T/+m9VM07C9JueMd0H/OUYNyQw/a5lTPcCf76rIxSY6O8JDEzkYAcPCm6esCfsYAc72MEOFgOfnrAn7GAHO9jBDpYDBwc72MEOdrBicHSwgx3sYAcrBicHO9jBDh4JnB3sYAc7eCRw8YQ9YQc7eCRwdbCDHezgkcDNwQ528NDg08EOdvDY4OBgBzt4aHB0sIMdPDQ4OdjBDh4anB3sYFvg4mAHO3hocHWwg22Bm4MdbAt8OtjBDh4bHBzsYFvg6GDj4ORgBzt4aHB2sHFwcbCDbYGrgx1sC9wc7GBb4NPB1sHBwQ62BY4OdrAtcHKwcXB2sHFwcbCDbYGrg42Dm4MdbAt8Otg6ODjYODg62Dg4OdjBtsDZwcbBxcHGwdXBxsHNwcbBp4Otg4ODjYOjg42Dk4ONg7ODjYOLg42Dq4ONg5uDjYNPB1sHBzRwdLBxcHKwcXB2sHFwcbBxcEUDNwcbB58Otg4OaODoYOPg5GDj4IwGLg42Dq4ONg5uaODTwdbBAQ0cHWwcnNDA2cHGwQUNXB1sHNzQwKeDrYMDGjg62Dg4oYEzGrg42Di4ooGbg42DTzhwQANHBxsHJzRwRgMXBxsHVzRwQwOfcODgYOPgiAZOaODsYOPgggauaOCGBj7hwMHBxsERDZzQwBkNXNDAFQ3c0MCng62DAxo4ooETGjijgQsauKKBGxr4hAMHBxsHJwcbBxcHGwc3BxsHn3Dg6GDj4Oxg4+DqYOPgEw4cHGwcnNDAGQ1c0MAVDdzQwCccOKCBIxo4/79dO7bNHIbBMGzgkDnSX/OvkNE8mjY5LRCARQoVCplDuiR1TON7P1WGugeiSVq0weLgTQMnDVw48EkDDxo4aOBFA28aOGngwoEHDTxp4KCBFw2cNHDhwCcNPGngoIEXDbxp4MKBTxp40sBBAy8aOGngwoFPGnjSwEEDbxo4aeBbZK1LwYMGDhp40cBJAxcOPGjgoIEXDZw08A16raJlraJlrYvBmwZOGrg/a10NnjTwooGTBm5/iS8HDxo4aOBNAxcOPGjgoIE3DVw48KCBFw28aeDedroDPGngRQMnDdxamFrAQQMnDdxZmIoW0z3gTQM3xnTRYrpoMV20mC5aTHeBkwZu66fbwIsGLhw4aOCkgZuutop2xI3gnspUtCMu2hG3gosGTho4aGBa0goamNZ4BAys/fHw7zZXHlf1VD923rQvAOafbxvv4pd483j+uvEiDz4e9/gH4MIS9CDNhz9r7lP3+3s1+Dj+/n98fTk44Bss8TmDwQbLTfwNNlhr4G+w+PjbYIN/a50GG6wFHgYbrAWeBouDw2CDtcDLYIO1wNtgcXAaLA4ugw0WA58Gi4OHwQZrgafB4uAwWBy8DBYHb4MN1gKnweLgMlgdfBosDh4Gi4OnweLgMFgcvAwWB2+DxcFpsDi4DFYHnwaLg4fBDesD4Q+pqhNRwjEAAAAASUVORK5CYII=\"","export const initialState = {\n    user: null\n}\n\nexport const actionTypes = {\n    SET_USER: 'SET_USER'\n}\n\nconst stateReducer = (state, action) => {\n    switch (action.type) {\n        case actionTypes.SET_USER:\n            return {\n                ...state,\n                user: action.user\n            }\n        default:\n            return state\n    }\n}\n\nexport default stateReducer","import React, {createContext, useContext, useReducer} from 'react'\nimport StateReducers, {initialState} from './StateReducers'\n\nexport const StateContext = createContext()\n\nconst StateContextProvider = ({children}) => (\n    <StateContext.Provider value={useReducer(StateReducers, initialState)}>\n       {children}\n    </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)\n\nexport default StateContextProvider","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport './SidebarOption.css'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst SidebarOptions = ({active, text, Icon, onClick}) => {\n    const [{user}] = useStateValue()\n\n    const isHome = text === 'Home' \n    const isProfile = text === 'Profile'\n    const redirect =  isHome ? '': (isProfile?`${text.toLowerCase()}/${user.username}`:text.toLowerCase())   \n\n    return (\n        <NavLink to={`/${redirect}`} exact={isHome} className='sidebarOption' activeClassName='sidebar__active' onClick={onClick} >\n           <Icon />\n           <h2>{text}</h2>\n        </NavLink>\n    )\n}\n\nexport default SidebarOptions","import firebase from 'firebase'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDY1-ijhPxJaSS66klbX_oWx3RPC5OevKc\",\n  authDomain: \"twiiter-fea91.firebaseapp.com\",\n  projectId: \"twiiter-fea91\",\n  storageBucket: \"twiiter-fea91.appspot.com\",\n  messagingSenderId: \"349657889008\",\n  appId: \"1:349657889008:web:7681177e997dc14c9b2a35\",\n  measurementId: \"G-046RLETM7L\"\n};\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\n\nconst db = firebaseApp.firestore()\nconst auth = firebase.auth()\nconst provider = new firebase.auth.GoogleAuthProvider()\n\nexport {auth, provider }\n\nexport default db","import React, {useState, useEffect} from 'react'\nimport {useHistory} from 'react-router'\nimport {Avatar} from '@material-ui/core'\nimport Popover from '@material-ui/core/Popover'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport CheckIcon from '@material-ui/icons/Check'\nimport './SidebarAccount.css'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport db from '../../firebase'\n\nconst SidebarAccount = () => {\n    const history = useHistory()\n    const [{user}] = useStateValue()\n    const [profile, setProfile] = useState(user)\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n\n    const signout = () => {\n        localStorage.clear()\n        // window.location.push('/')\n        // history.push('/')\n        window.location.reload()\n    }\n\n    useEffect(() => {\n        db.collection('users').doc(user.id).onSnapshot(res=>{\n            setProfile(res.data())\n        })\n    }, [])\n\n       return (\n        <>\n            <Popover \n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                style={{\n                    transform:'translate(2rem, -1rem)'\n                }}\n            >\n                <ul className=\"post__expandList\">\n        \n                    <div className=\"user__item nocursor\" >\n                        <Avatar src={profile && profile.photoURL}/>\n                        <div className=\"user__details\">\n                        <h2>{profile &&  profile.displayName}</h2>\n                        <span>{`@${profile && profile.username}`}</span>\n                        </div>\n                        <CheckIcon />\n                    </div>                              \n                \n                    <li onClick={signout} className='logoutBtn'>\n                        <h3>Log out @{profile && profile.username}</h3>\n                    </li>\n                </ul>\n            </Popover>\n\n            <div className='sidebarAccount__wrapper' aria-describedby={id} variant=\"contained\" onClick={onClickExpand }>\n                <div className=\"sidebarAccount__ava\">\n                    <Avatar src={profile && profile.photoURL} />   \n                </div>\n                <div className='sidebarAccount__userData' >\n                <h2>{profile &&  profile.displayName}</h2>\n                <h2>{profile && `@${profile.username}`}</h2>\n                </div>\n                <div className='sidebarAccount__expandIcon'>\n                    <ExpandMoreIcon />\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default SidebarAccount\n","export const initialState = {\n    isRoomOpened: null\n}\n\nexport const actionTypes = {\n    OPENING_ROOM: 'OPENING_ROOM',\n    CLOSING_ROOM: 'CLOSING_ROOM'\n}\n\nconst isRoomOpenededucer = (state, action) => {\n    switch (action.type) {\n        case actionTypes.OPENING_ROOM:\n            return {\n                isRoomOpened: true\n            }\n        \n        case actionTypes.CLOSING_ROOM:\n            return {\n                isRoomOpened: false\n            }\n\n        default:\n            return state\n    }\n}\n\nexport default isRoomOpenededucer","import React, {createContext, useContext, useReducer} from 'react'\nimport IsRoomOpenedReducers, {initialState} from './IsRoomOpenedReducers'\n\nexport const IsRoomOpenedContext = createContext()\n\nconst IsRoomOpenedContextProvider = ({children}) => (\n    <IsRoomOpenedContext.Provider value={useReducer(IsRoomOpenedReducers, initialState)}>\n       {children}\n    </IsRoomOpenedContext.Provider>\n)\n\nexport const useRoomState = () => useContext(IsRoomOpenedContext)\n\nexport default IsRoomOpenedContextProvider\n","import React from 'react'\nimport TwitterIcon from '@material-ui/icons/Twitter'\nimport SidebarOption from '../SidebarOption/SidebarOption'\nimport SidebarAccount from '../SidebarAccount/SidebarAccount'\nimport HomeIcon from '@material-ui/icons/Home'\nimport SearchIcon from '@material-ui/icons/Search'\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder'\nimport ListAltIcon from '@material-ui/icons/ListAlt'\nimport PermIdentityIcon from '@material-ui/icons/PermIdentity'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\n\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\nimport {actionTypes} from '../../contexts/IsRoomOpenedReducers'\nimport './Sidebar.css'\n\nconst Sidebar = () => {\n    const [{isRoomOpened}, dispatch] = useRoomState()\n    const closeAllRooms= () => {\n        dispatch({\n            type: actionTypes.CLOSING_ROOM,  \n        })\n        if(isRoomOpened){}        \n    }\n\n    return (\n        <div className='sidebar'>\n           <TwitterIcon className='sidebar__twitterIcon'/>\n\n           <SidebarOption text='Home' Icon={HomeIcon} />\n           <SidebarOption text='Explore' Icon={SearchIcon} />\n           <SidebarOption text='Notifications' Icon={NotificationsNoneIcon} />           \n           <SidebarOption text='Messages' Icon={MailOutlineIcon} onClick={closeAllRooms}/>\n           <SidebarOption text='Bookmarks' Icon={BookmarkBorderIcon} />\n           <SidebarOption text='List' Icon={ListAltIcon} />           \n           <SidebarOption text='Profile' Icon={PermIdentityIcon} />\n           <SidebarOption text='More' Icon={MoreHorizIcon} />\n\n           <button variant='outlined' className='sidebar__tweet'>\n              <div dir=\"auto\" className=\"css-901oao r-1awozwy r-jwli3a r-6koalj r-18u37iz r-16y2uox r-1qd0xha r-a023e6 r-vw2c0b r-1777fci r-eljoum r-dnmrzs r-bcqeeo r-q4m81j r-qvutc0\"><svg viewBox=\"0 0 24 24\" fill='#ffffff' className=\"r-jwli3a r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-1srniue\"><g><path d=\"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z\"></path></g></svg><span className=\"css-901oao css-16my406 css-bfa6kz r-1qd0xha r-ad9z0x r-bcqeeo r-qvutc0\"></span></div>\n              <span>Tweet</span>\n           </button>\n\n           <SidebarAccount />\n           \n        </div>\n    )\n}\n\nexport default Sidebar\n","import React from 'react'\n\nconst StatusInput = ({type, accept, name, id, htmlFor, Icon, onChange, onClick}) => {\n    return (\n        <div onClick={onClick}>\n            <input type={type} accept={accept} name={name} id={id} style={{display:'none'}} onChange={onChange}/>\n            <label htmlFor={id}>\n                <Icon />\n            </label>                                \n        </div>\n    )\n}\n\nexport default StatusInput\n","import './TabbarMenu.css'\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport SwipeableViews from 'react-swipeable-views'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport {AppBar, Tabs, Tab, Typography, Box} from '@material-ui/core'\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`full-width-tabpanel-${index}`}\n      aria-labelledby={`full-width-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography component={\"span\"}>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  )\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n}\n\nfunction a11yProps(index) {\n  return {\n    id: `full-width-tab-${index}`,\n    'aria-controls': `full-width-tabpanel-${index}`,\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.paper\n  },\n}))\n\nexport default function FullWidthTabs({items}) {\n  const classes = useStyles()\n  const theme = useTheme()\n  const [value, setValue] = React.useState(0)\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue)\n  }\n\n  const handleChangeIndex = (index) => {\n    setValue(index)\n  }\n\n  return (\n    <div className={`tabbarMenu ${classes.root}` }>\n      <AppBar position=\"static\" color=\"default\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n          aria-label=\"crop and edit image\"\n        >\n          {/* <Tab icon={<CropIcon />} {...a11yProps(0)} />\n          <Tab label=\"ALT\" {...a11yProps(1)} /> */}\n          {\n            items.map(item => {\n              return <Tab key   = {item.id}\n                          icon  = {item.icon}\n                          label = {item.title}\n                          {...a11yProps(item.id)}\n              />\n            })\n          }\n        </Tabs>\n      </AppBar>\n      <SwipeableViews\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n        index={value}\n        onChangeIndex={handleChangeIndex}\n      >\n        {/* <TabPanel value={value} index={0} dir={theme.direction}>\n          {items.item}\n        </TabPanel>\n        <TabPanel value={value} index={1} dir={theme.direction}>\n          Item Two\n        </TabPanel> */}\n\n        {\n          items.map(item => {\n            return  <TabPanel value={value} index={item.id} dir={theme.direction} key={item.id}>\n                      {item[\"item\"]}\n                    </TabPanel>\n          })\n        }\n      </SwipeableViews>\n    </div>\n  )\n}","export default (file)=>{\n       return new Promise((resolve, reject)=>{\n\n         let imageUri \n         console.log(file)\n         const data = new FormData()\n         data.append(\"file\",file)\n         data.append(\"upload_preset\",\"inscatgram\")\n         data.append(\"cloud_name\",\"smilj4npj4nic\")\n         fetch(\"https://api.cloudinary.com/v1_1/smilj4npj4nic/image/upload\",{\n            method:\"post\",\n            body:data\n         })\n         .then(res=>res.json())\n         .then(data=>{\n            imageUri = data.url\n            console.log(imageUri)\n            return resolve(imageUri)\n         })\n         .catch(err=>{\n            return reject(err)\n         })    \n\n\n\n       })\n    }\n\n\n\n      //  let imageUri \n      //  console.log(file)\n      //  const data = new FormData()\n      //  data.append(\"file\",file)\n      //  data.append(\"upload_preset\",\"inscatgram\")\n      //  data.append(\"cloud_name\",\"smilj4npj4nic\")\n      //  fetch(\"https://api.cloudinary.com/v1_1/smilj4npj4nic/image/upload\",{\n      //      method:\"post\",\n      //      body:data\n      //  })\n      //  .then(res=>res.json())\n      //  .then(data=>{\n      //     imageUri = data.url\n      //     console.log(imageUri)\n      //     return imageUri\n      //  })\n      //  .catch(err=>{\n      //     return\n      //  })    \n","const imageDimensions = file => new Promise((resolve, reject) => {\n    const img = new Image()\n\n    // the following handler will fire after the successful loading of the image\n    img.onload = () => {\n        const { naturalWidth: width, naturalHeight: height } = img\n        resolve({ width, height })\n    }\n\n    // and this handler will fire if there was an error with the image (like if it's not really an image or a corrupted one)\n    img.onerror = () => {\n        reject('There was some problem with the image.')\n    }\n    \n    img.src = URL.createObjectURL(file)\n})\n\nexport const getInfo = async ({ target: { files } }) => {\n    const [file] = files\n \n    try {\n        // const dimensions = await imageDimensions(file)\n        // console.log(dimensions)\n\n        // const dimensions = await imageDimensions(file)\n        // dimensions.then(res=>{\n        //     return res\n        // })\n        return await imageDimensions(file)\n\n    } catch(error) {\n        console.error(error)\n    }\n}\n","export const generateAltText = (displayName, imageUrl) => {\n    const t = new Date()\n\n    return `A photo shared by ${displayName} on ${t.getMonth()+1} ${t.getDate()}, ${t.getFullYear()}`\n}","import React from 'react'\nimport Modal from 'react-responsive-modal'\nimport \"react-responsive-modal/styles.css\"\nimport {Button } from '@material-ui/core'\nimport './Modal.css'\n\nconst CommonModal = ({ open, \n                       onClose,\n                       title,\n                       callback,\n                       children,\n                       Icon,\n                       ButtonText\n}) => {\n\n    const onClickSave = () => {\n        callback()\n        onClose()\n    }\n    return (\n        <Modal open={open} onClose={onClose}>\n            <div className=\"modal__header\">\n                <div className='backIcon'>\n                    <Icon onClick={onClose}/>\n                </div>\n                <h2>{title}</h2>\n                {ButtonText.length>0 && <Button onClick={onClickSave}>{ButtonText}</Button> }           \n            </div>\n            {children}\n        </Modal>\n    )\n}\n\nexport default CommonModal\n","import React from 'react'\n\nconst Spinner = () => {\n    return (\n        <i className=\"fa fa-spinner fa-spin\"></i>\n    )\n}\n\nexport default Spinner\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport Slider from '@material-ui/core/Slider'\nimport RemoveCircleOutlineOutlinedIcon from '@material-ui/icons/RemoveCircleOutlineOutlined';\nimport AddCircleOutlineOutlinedIcon from '@material-ui/icons/AddCircleOutlineOutlined'\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 100,\n  },\n})\n\nexport default function ContinuousSlider({val, setVal}) {\n  const classes = useStyles()\n\n  const handleChange = (event, newValue) => {\n    setVal(newValue)\n  }\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={2}>\n        <Grid item>\n          <RemoveCircleOutlineOutlinedIcon />\n        </Grid>\n        <Grid item xs>\n          <Slider value={val} \n          onChange={handleChange} \n          min={1}\n          max={100}\n          aria-labelledby=\"continuous-slider\" />\n        </Grid>\n        <Grid item>\n          <AddCircleOutlineOutlinedIcon />\n        </Grid>\n      </Grid>\n    </div>\n  )\n}","import React ,{ PureComponent } from 'react'\nimport ReactCrop from 'react-image-crop'\nimport 'react-image-crop/dist/ReactCrop.css'\nimport './CropPhoto.css'\n\nimport Slider from '../../elements/Slider/Slider'\nimport Crop169Icon from '@material-ui/icons/Crop169'\nimport Crop32Icon from '@material-ui/icons/Crop32'\nimport CropPortraitIcon from '@material-ui/icons/CropPortrait'\n\n\nclass CreatePost extends PureComponent {\n  state = {\n    src: null,\n    crop: {\n      unit: '%',\n      width: 30,\n      aspect: this.props.initialAspectRatio || 3/4,\n    },\n    originalImageSize : null,\n    croppedImageUrl: null, \n    zoomScale: 1\n  }\n\n  onImageLoaded = image => {\n      this.imageRef = image\n  }\n\n  onCropChange = (crop) => {\n      this.setState({ crop })\n  }\n\n  onCropComplete = async crop => {\n      if (this.imageRef && crop.width && crop.height) {\n          const croppedImageUrl = await this.getCroppedImg(this.imageRef, crop)\n          this.setState({ croppedImageUrl })\n      }\n  }\n\n\n\n  getCroppedImg(image, crop) {\n      const canvas = document.createElement(\"canvas\")\n      const scaleX = image.naturalWidth / image.width\n      const scaleY = image.naturalHeight / image.height\n      canvas.width = crop.width\n      canvas.height = crop.height\n      const ctx = canvas.getContext(\"2d\")\n      \n      ctx.drawImage(\n          image,\n          crop.x * scaleX,\n          crop.y * scaleY,\n          crop.width * scaleX,\n          crop.height * scaleY,\n          0,\n          0,\n          crop.width,\n          crop.height\n      )\n\n      const reader = new FileReader()\n      canvas.toBlob(blob => {\n          reader.readAsDataURL(blob)\n          reader.onloadend = () => {\n              this.dataURLtoFile(reader.result, 'cropped.jpg')\n          }\n      })\n  }\n\n  dataURLtoFile(dataurl, filename) {\n      let arr = dataurl.split(','),\n          mime = arr[0].match(/:(.*?)/)[1],\n          bstr = atob(arr[1]), \n          n = bstr.length, \n          u8arr = new Uint8Array(n)\n              \n      while(n--){\n          u8arr[n] = bstr.charCodeAt(n)\n      }\n      let croppedImage = new File([u8arr], filename, {type:mime})\n      this.setState({croppedImage: croppedImage }) \n  }    \n\n\n\n  onChangeAspectRatio = (num) =>{\n      this.setState({crop: {\n          ...this.state.crop,\n          aspect: num\n      }})\n  }\n\n  onChangeZoomScale = (val) => {\n    this.setState({zoomScale: val})\n  }\n\n\n\n  componentDidMount (){\n      const {image, initialAspectRatio} = this.props\n      this.setState({src: image, originalImageSize: initialAspectRatio})\n  }\n\n\n  componentDidUpdate (prevProps, prevState ){\n      if(prevState.croppedImage !== this.state.croppedImage){\n        this.props.setCroppedImageResult(this.state.croppedImage)\n      }\n\n      if (prevState.zoomScale !== this.state.zoomScale){\n        const  newScale = 1+ (3-1)/(100-1)*(this.state.zoomScale - 1)\n        document.querySelector('.cropImage__wrapper .ReactCrop__image').style.transform = `scale(${newScale})`\n      }\n\n  }\n\n\n  render() {\n    const { crop,  src, originalImageSize} = this.state\n\n    return (\n      <div className=\"cropImage__wrapper\">\n      \n          <div className=\"cropImage__imageSelection\">\n            \n            {src && (\n              <ReactCrop\n                src={src}\n                crop={crop}\n                ruleOfThirds\n                onImageLoaded={this.onImageLoaded}\n                onComplete={this.onCropComplete}\n                onChange={this.onCropChange}\n                style={{\n                  width: '100vh',\n                }}\n              />\n            )}\n\n\n        {\n            src && (\n                <div className=\"cropImage__changeAspectRatio-actions\">\n                   <div className=\"cropImage__scaleButton\">\n                      <div onClick={()=>this.onChangeAspectRatio(originalImageSize)}  className={`${crop.aspect ===   originalImageSize &&  'blued'}`}><CropPortraitIcon /></div>\n                      <div onClick={()=>this.onChangeAspectRatio(16/9)} className={`${crop.aspect === 16/9 && 'blued'}`}><Crop169Icon /></div>\n                      <div onClick={()=>this.onChangeAspectRatio(1/1)}  className={`${crop.aspect === 1 &&    'blued'}`}><Crop32Icon /></div>\n                   </div>\n                   <div className=\"cropImage__slider\">\n                      <Slider val={this.state.zoomScale} setVal={this.onChangeZoomScale}/>\n                   </div>\n                </div>\n            )\n        }\n\n\n          </div>\n      </div>\n    )\n  }\n}\n\n\nexport default CreatePost\n\n\n","import React from 'react'\nimport './AddALT.css'\n\nconst AddALT = ({image, altText, setAltText}) => {\n    \n\n    return (\n        <div className='alt__wrapper'>\n            <div className=\"alt__imageContainer\">\n                <img src={URL.createObjectURL(image)} alt='addALt'/>\n            </div>\n            <div className='alt__addDescription'>\n                <h2>Description</h2>\n                <textarea name=\"\" id=\"\" cols=\"30\" rows=\"3\"\n                          value={altText}\n                          onChange={e =>setAltText(e.target.value)}\n                ></textarea>\n            </div>\n        </div>\n    )\n}\n\nexport default AddALT\n","import React, {useState, useEffect} from 'react'\nimport {Avatar, Button } from '@material-ui/core'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport db from '../../firebase'\nimport firebase from 'firebase'\nimport './TweetBox.css'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\n\nimport StatusInput from '../StatusInput/StatusInput'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport {generateAltText} from '../../helpers/generateAltText'\n\nimport Modal from '../../elements/Modal/Modal'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\n\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined'\nimport EqualizerOutlinedIcon from '@material-ui/icons/EqualizerOutlined'\nimport EventNoteSharpIcon from '@material-ui/icons/EventNoteSharp'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nconst TweetBox = () => {\n    const [{user}] = useStateValue()\n    const {displayName} = user\n    const [profile, setProfile] = useState(null)\n    const [tweetMessage, setTweetMessage] = useState('')\n    const [altText, setAltText] = useState(generateAltText(user.displayName))\n    const [src, setSrc] = useState(null)\n    const [imageToSend, setImageToSend] = useState(null)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n    const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [isLoading, setIsloading] = useState(false)\n\n\n    useEffect(() => {\n       db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n          setProfile(snapshot.data())\n       })\n    }, [])\n\n    const sendTweet = (e) => {\n        e.preventDefault()\n        setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n                db.collection('posts').add({\n                    altText     : altText,\n                    text        : tweetMessage,\n                    image       : res,\n                    likes       : [],\n                    senderId    : user.id,\n                    timestamp   : firebase.firestore.FieldValue.serverTimestamp()\n                })\n\n                setTweetMessage('')\n                setAltText('')\n                setSrc(null)\n                setIsloading(false)\n\n            })\n            .catch( err=> {\n                setIsloading(false)\n                return\n            })\n\n        } else {\n\n        db.collection('posts').add({\n            altText     : altText,\n            text        : tweetMessage,\n            image       : '',\n            likes       : [],\n            senderId    : user.id,\n            timestamp   : firebase.firestore.FieldValue.serverTimestamp()\n        })\n\n        setTweetMessage('')\n        setAltText('')\n        setSrc(null)\n        setIsloading(false)\n\n        }\n    }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (altText.length === 0){\n            setAltText(generateAltText(displayName))\n        }\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={altText} setAltText={setAltText}/>\n        }\n    ]\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newMessage = tweetMessage + emojiObject.emoji\n        setTweetMessage(newMessage)\n    }\n\n    useEffect(() => {\n        var textarea = document.querySelector('textarea')\n        textarea.addEventListener('keydown', autosize)\n                    \n        function autosize(){\n        var el = this\n        setTimeout(function(){\n            el.style.cssText = 'height:auto padding:0'\n            // for box-sizing other than \"content-box\" use:\n            // el.style.cssText = '-moz-box-sizing:content-box'\n            el.style.cssText = 'height:' + el.scrollHeight + 'px'\n        },0)\n        }\n        // text = document.body.innerHTML.replace(/(Socket|Database|Scrapper)(\\s*:)/gi, '<span style=\"color:blue\">$1</span>$2');\n        // console.log( text );\n        // document.body.innerHTML = text;\n    }, [])\n\n\n    return (\n        <>\n\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n            <div className='tweetBox'>\n                <form onSubmit={sendTweet}>\n                    <div className='tweetBox__wrapperInput' >\n                        <div className=\"tweetBox__ava\">\n                            <Avatar src={profile && profile.photoURL} />   \n                        </div>\n\n                        <div className='tweetBox__input'>\n\n                            <textarea rows='1' \n                                      placeholder=\"What's happening\"\n                                      type        = 'text' \n                                      value       = {tweetMessage}\n                                      onChange    = {e=> setTweetMessage(e.target.value)}                            \n                            >\n                            </textarea>\n\n                            {\n                                src &&\n                                    <div className='tweetBox__input-image'>\n                                        <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                                        <img src={src} alt=\"new test\"/>               \n                                        <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n                                    </div>                        \n                            }\n\n                            <div className='tweetBox__input-actions'>\n                                <div className='tweetBox__input-icons'>\n                                   <StatusInput Icon={ImageOutlinedIcon}\n                                                type=\"file\"\n                                                accept=\"image/*\"\n                                                name=\"image-upload\"\n                                                id=\"input-image\"\n                                                onChange={onSelectFile}\n                                    />\n                                   <StatusInput Icon={GifOutlinedIcon}/>\n                                   <StatusInput Icon={EqualizerOutlinedIcon} />\n                                   <StatusInput Icon={SentimentSatisfiedOutlinedIcon} \n                                                aria-describedby={id} type=\"button\" onClick={onClickEmoticon} \n                                   />\n\n                                    <Popover \n                                        id={id}\n                                        open={open}\n                                        anchorEl={anchorEl}\n                                        onClose={handleClose}\n                                        anchorOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'center',\n                                        }}\n\n                                    style={{borderRadius: '2rem'}}\n                                    >\n                                        <Picker onEmojiClick={onEmojiClick} />\n                                    </Popover>\n\n                                   <StatusInput Icon={EventNoteSharpIcon} />\n                                </div>\n                    \n                                {\n                                    isLoading ?\n                                    <Button className='tweetBox__tweetButton'><Spinner /></Button>\n                                    :\n                                    <Button type='submit'className='tweetBox__tweetButton'>Tweet</Button>\n                                }\n\n                            </div>\n                        </div>    \n                    </div>\n                </form>\n            </div>\n        </>\n    )\n}\n\nexport default TweetBox\n","import React from 'react'\nimport './FooterIcon.css'\n\nconst FooterIcon = ({Icon, value, onClick}) => {\n    return (\n        <div className=\"footerIcon_wrapper\" onClick={onClick}>\n            <Icon />\n            <div className=\"footerIcon__counter\">{value?value:''}</div>\n        </div>\n    )\n}\n\nexport default FooterIcon\n","export default {\n\n     timeDiff : function (postedTime) {\n         //for date format: '9/5/2020, 12:58:23'\n        const [date, time] = postedTime.split(', ')\n        const [month, day, year] = date.split('/')\n        const [hour, minute, second] = time.split(':')\n\n        const [year1, month1, day1, hour1, minute1, second1] = [year, month, day, hour, minute, second].map(i=> parseInt(i))\n\n        const today = new Date()\n\n        const year2           = parseInt(today.getFullYear())\n        const month2          = parseInt((today.getMonth()+1))\n        const day2            = parseInt(today.getDate())\n        const hour2           = parseInt(today.getHours())\n        const minute2         = parseInt(today.getMinutes())\n        const second2         = parseInt(today.getSeconds())\n      \n\n        const isLeap = (yy) => (yy%4 === 0 && yy%100!==0) || (yy%400 === 0)\n\n        const secs = (y, mo, d, h, mi, s) => {\n                let sd= 0\n                if (mo<2){\n                    for (let i=1; i<d; i++){\n                    sd+=1\n                    }\n                    return sd*86400+h*3600+mi*60+s\n                }\n\n                let days =0 \n                for (let i=1 ; i<mo ; i++){\n                    if (i===4 || i===6 || i===9 || i===11){\n                    days+=30\n                    } else \n                    if (i === 2){\n                        days+= isLeap(y)? 29: 28\n                    } else days+=31\n                } \n\n                return (days+d-1)*86400 +h*3600+mi*60+s \n\n        }\n\n\n                const dif = (y1,mo1,d1,h1,mi1,s1, y2,mo2,d2,h2,mi2,s2) =>{\n                \n                // const timeGap = 7*3600 // add to secs1\n                const secs1 = secs(y1,mo1,d1,h1,mi1,s1)\n                const secs2 = secs(y2,mo2,d2,h2,mi2,s2)\n\n\n                let gap=0\n\n                if((y2 === y1) || y2 === y1+1 ){\n                    gap = 0\n                    \n                } else \n                for(let i=y1+1; i<y2; i++){\n                    if (isLeap(i)){\n                    gap+=366\n                    }\n                    gap+=365\n                }\n\n                const D = isLeap(y1)?(31622400-secs1):(31536000-secs1)\n\n                return (y2!==y1)?(D + gap*86400 + secs2): secs2-secs1\n\n        }\n\n        const monthList = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n\n        const disp = (del, year2, year1, month1, day1) => {\n\n            if ( del <60){\n                return `${del} s`\n            }\n            if (del>59 && del< 3600){\n                return `${Math.trunc(del/60)}m`\n            }\n\n            if (del>3599 && del< 86400 ){\n                return `${Math.trunc(del/3600)}h `\n            }\n\n            if(del>86399 && del<604800){\n                return `${Math.trunc(del/86400)}d`\n            }\n\n            if(del>604799){\n                if (year2 === year1){\n                    return `${day1} ${monthList[month1-1]}`\n                }\n                return `${day1} ${monthList[month1-1]} ${year1}`\n            }\n        }\n\n\n\n        return disp(dif(year1,month1,day1,hour1,minute1,second1,   year2,month2,day2,hour2, minute2 ,second2),year2, year1, month1, day1)\n\n    }  \n\n\n\n}","export const convertTimestampToLocaleString = (timestamp) => {\n    return timestamp && new Date(timestamp.toDate()).toLocaleString([],{hour12:false})\n}","import React, {useState, useEffect} from 'react'\nimport {Avatar, Button} from '@material-ui/core'\nimport {useHistory} from 'react-router'\nimport { Timeline } from '@material-ui/lab'\nimport TimelineItem from '@material-ui/lab/TimelineItem'\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator'\nimport TimelineConnector from '@material-ui/lab/TimelineConnector'\nimport TimelineContent from '@material-ui/lab/TimelineContent'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport StatusInput from '../StatusInput/StatusInput'\nimport Modal from '../../elements/Modal/Modal'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\n\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport EqualizerOutlinedIcon from '@material-ui/icons/EqualizerOutlined'\nimport EventNoteSharpIcon from '@material-ui/icons/EventNoteSharp'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport CropIcon from '@material-ui/icons/Crop'\n\nimport db from '../../firebase'\nimport firebase from 'firebase'\nimport util from '../../helpers/timeDifference'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {generateAltText} from '../../helpers/generateAltText'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport './Reply.css'\n\nconst Reply = ({props, profile, ownProfile, setIsOpenParentModal}) => {\n    const {displayName, username, photoURL, verified} = profile\n    const {timestamp, text, image, altText, postId} = props\n    const date = convertTimestampToLocaleString(timestamp)\n    const history = useHistory()\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [isLoading, setIsloading] = useState(false)\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const [commentMessage, setCommentMessage] = useState('')\n    const onChangeComment = (e) => setCommentMessage(e.target.value)\n\n    const [src, setSrc] = useState(null)\n    const [imageToSend, setImageToSend] = useState(null)\n    const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n    const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [commentAltText, setCommentAltText] = useState(generateAltText(ownProfile.displayName))\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newComment = commentMessage + emojiObject.emoji\n        setCommentMessage(newComment)\n    }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (commentAltText.length === 0){\n            setCommentAltText(generateAltText(displayName))\n        }\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={commentAltText} setCommentAltText={setCommentAltText}/>\n        }\n    ]\n\n\n    useEffect(() => {\n        var textarea = document.querySelector('textarea')\n        textarea.addEventListener('keydown', autosize)\n                    \n        function autosize(){\n        var el = this\n        setTimeout(function(){\n            el.style.cssText = 'height:auto padding:0'\n            el.style.cssText = 'height:' + el.scrollHeight + 'px'\n        },0)\n        }\n    }, [])\n\n\n    const sendComment = (e) => {\n        e.preventDefault()\n        setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n                db.collection('posts')\n                .doc(postId)\n                .collection('comments')\n                .add({\n                    commentAltText  : commentAltText,\n                    text            : commentMessage,\n                    image           : res,\n                    likes           : [],\n                    senderId        : ownProfile.id,\n                    timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n                })\n\n                    setCommentMessage('')\n                    setCommentAltText('')\n                    setSrc(null)\n                    setIsloading(false)\n                    setIsOpenParentModal(false) \n                    history.push(`/status/${postId}`)\n            })\n            .catch( error=> {\n                console.log(error)\n                setIsloading(false)\n                return\n            })\n\n        } else {\n\n            db.collection('posts')\n            .doc(postId)\n            .collection('comments')\n            .add({\n                commentAltText  : '',\n                text            : commentMessage,\n                image           : '',\n                likes           : [],\n                senderId        : ownProfile.id,\n                timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n            })\n\n                setCommentMessage('')\n                setCommentAltText('')\n                setSrc(null)\n                setIsloading(false)\n                setIsOpenParentModal(false) \n                history.push(`/status/${postId}`)\n                \n        }\n    }\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n            <div className=\"reply\">\n                <Timeline>\n                <TimelineItem>\n                    <TimelineSeparator> \n                        <Avatar src={photoURL} />\n                        <TimelineConnector />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <div className=\"post__body upped\">\n                            <div className=\"post__header\">\n                                <div className=\"post__headerText\">\n                                    <h3>{displayName} {' '}\n                                        <span className='post__headerSpecial'> \n                                            {verified && <VerifiedUserIcon className='post__badge'/>} \n                                            {`@${username} . ${timestamp && util.timeDiff(date)}`}\n                                        </span>\n                                    </h3>\n                                </div>\n\n                                <div className=\"post__headerDescription\"> <p> {text} </p></div>\n                            </div>\n                            { image.length>0 && <img src={image} alt={altText}/> }\n                            <span className='replyingTo'>Replying to <p>{`@${username}`}</p></span>\n                        </div>\n                    </TimelineContent>\n                </TimelineItem>\n\n                <TimelineItem>\n                    <TimelineSeparator>\n                    <Avatar src={ownProfile.photoURL} />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <form onSubmit={sendComment}>\n                            <div className='tweetBox__input upped'>\n                                <textarea rows='1' \n                                        placeholder = 'Tweet your reply'\n                                        type        = 'text' \n                                        value       = {commentMessage}\n                                        onChange    = {onChangeComment}                            \n                                >\n                                </textarea>\n                            </div> \n\n                            {\n                                src &&\n                                    <div className='tweetBox__input-image'>\n                                        <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                                        <img src={src} alt=\"new test\"/>               \n                                        <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n                                    </div>                        \n                            }\n\n                            <div className='tweetBox__input-actions'>\n                                <div className='tweetBox__input-icons'>\n                                    <StatusInput Icon={ImageOutlinedIcon} \n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"comment-image-upload\"\n                                        id=\"comment-image-upload\"\n                                        onChange={onSelectFile}\n                                    />\n                                    <StatusInput Icon={GifOutlinedIcon}/>\n                                    <StatusInput Icon={EqualizerOutlinedIcon} />\n                                    <StatusInput Icon={SentimentSatisfiedOutlinedIcon} \n                                                 aria-describedby={id} type=\"button\" onClick={onClickEmoticon} \n                                    />\n\n                                    <Popover \n                                        id={id}\n                                        open={open}\n                                        anchorEl={anchorEl}\n                                        onClose={handleClose}\n                                        anchorOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        style={{borderRadius: '2rem'}}\n                                    >\n                                        <Picker onEmojiClick={onEmojiClick} />\n                                    </Popover>\n\n                                    <StatusInput Icon={EventNoteSharpIcon} />\n                                </div>\n                        \n                                    {\n                                        isLoading ? <Button className='tweetBox__tweetButton'><Spinner /></Button>\n                                        :\n                                        <Button type='submit'className='tweetBox__tweetButton'>Reply</Button>\n                                    }\n\n                                </div>\n                        </form>\n                    </TimelineContent>\n                </TimelineItem>\n                </Timeline>\n            </div>\n        </>\n    )\n}\n\nexport default Reply\n","import React, {useEffect, useState} from 'react'\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder'\nimport FavoriteIcon from '@material-ui/icons/Favorite'\n\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport './FooterIcon.css'\n\nconst Like = ({likes, likeAction, unlikeAction}) => {\n    const [{user}] = useStateValue()\n    const [isLiked, setisLiked] = useState(false)\n\n    useEffect(() => {\n        if(user.id && likes){\n            if(likes.includes(user.id)){\n                setisLiked(true)\n            } else {\n                setisLiked(false)\n            }\n        }\n    }, [likes])\n\n    return (\n        <div className=\"footerIcon_wrapper\">\n            { isLiked?\n                <span className='liked' onClick={unlikeAction}><FavoriteIcon/></span>\n            :\n                <FavoriteBorderIcon onClick={likeAction} />\n            }\n            <div className=\"footerIcon__counter\">{(likes && likes.length>0 )&& likes.length}</div>\n        </div>\n    )\n}\n\nexport default Like","import firebase from 'firebase'\nimport db from '../firebase'\n\nexport const follow = (userId, followId) => {\n    const userRef = db.collection('users').doc(userId)\n    const followRef = db.collection('users').doc(followId)\n\n    userRef.update({\n        following: firebase.firestore.FieldValue.arrayUnion(followId)\n    })\n\n    followRef.update({\n        followers: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unfollow = (userId, followId) => {\n    const userRef = db.collection('users').doc(userId)\n    const followRef = db.collection('users').doc(followId)\n\n    userRef.update({\n        following: firebase.firestore.FieldValue.arrayRemove(followId)\n    })\n\n    followRef.update({\n        followers: firebase.firestore.FieldValue.arrayRemove(userId)\n    })  \n}\n\nexport const deletePost = (postId) => {\n    const postRef = db.collection('posts').doc(postId)\n    postRef.delete()\n}\n\nexport const like = (postId, userId) => {\n    const postRef = db.collection('posts').doc(postId)\n    postRef.update({\n        likes: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unlike = (postId, userId) => {\n    const postRef = db.collection('posts').doc(postId)\n    postRef.update({\n        likes: firebase.firestore.FieldValue.arrayRemove(userId)\n    })\n}\n\nexport const deleteComment = (postId, commentId) => {\n    const commentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId)\n    commentRef.delete()\n}\n\nexport const likeComment = (postId, commentId, userId) => {\n    const commentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId)\n    commentRef.update({\n        likes: firebase.firestore.FieldValue.arrayUnion(userId)\n    })\n}\n\nexport const unlikeComment = (postId, commentId, userId) => {\n    const commentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId)\n    commentRef.update({\n        likes: firebase.firestore.FieldValue.arrayRemove(userId)\n    })\n}\n\nexport const deleteThreadComment = (postId, commentId, threadCommentId) => {\n    const threadCommentRef = db.collection('posts').doc(postId).collection('comments').doc(commentId).collection('threadComments').doc(threadCommentId)\n    threadCommentRef.delete()    \n}\n","import React, {useState, forwardRef, useEffect} from 'react'\nimport {Avatar} from '@material-ui/core'\nimport {useHistory} from 'react-router'\n\nimport FooterIcon from './FooterIcon'\nimport Reply from '../Reply/Reply'\nimport Like from './Like'\nimport Popover from '@material-ui/core/Popover'\nimport Modal from '../../elements/Modal/Modal'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport './Post.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {like, unlike, follow, unfollow, deletePost} from '../../server/serverActions'\n\nconst Post = forwardRef(({\n   altText,\n   text,\n   image,\n   timestamp,\n   senderId,\n   postId,\n   likes\n   }, ref) => {\n\n   const history = useHistory()\n   const date = convertTimestampToLocaleString(timestamp)\n\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n   const [isOpenModal, setIsOpenModal] = useState(false)\n\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers:[], following:[]})\n   const [ownProfile, setOwnProfile] = useState(null)\n   const {displayName, username, photoURL, verified} = profile\n\n   const [comments, setComments] = useState([])\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   const redirectToStatus = postId => history.push(`/status/${postId}`)\n\n   useEffect(() => {\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         setOwnProfile({id:user.id, ...snapshot.data()})\n      })\n      \n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         setProfile(snapshot.data())\n      })\n\n      db.collection('posts').doc(postId).collection('comments')\n         .onSnapshot(snapshot=>{\n         setComments(snapshot.docs.map(comment=>({id:comment.id, ...comment.data()})))\n      })\n\n   }, [])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n   const setIsOpenParentModal = state => setIsOpenModal(state)\n\n   return (\n      <>\n         <Modal  \n            open={isOpenModal} \n            onClose={()=>setIsOpenModal(false)}\n            title=\"\"\n            callback = {callbackForModal}\n            Icon = {CloseIcon}\n            ButtonText=''\n         >\n            <Reply props={{\n                  altText,\n                  text,\n                  image,\n                  timestamp,\n                  senderId,\n                  postId,\n                  likes\n               }}\n               profile={profile}\n               ownProfile ={ownProfile}\n               setIsOpenParentModal={setIsOpenParentModal}\n            />\n         </Modal>\n\n         <div className='post' ref={ref}>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <h3>{displayName} {' '}\n                        <span className='post__headerSpecial'> \n                              {verified && <VerifiedUserIcon className='post__badge'/>} \n                              @{`${username} . ${timestamp && util.timeDiff(date)}`}\n                        </span>\n                     </h3>\n                     <div className=\"post__headerExpandIcon\" aria-describedby={id} variant=\"contained\" onClick={onClickExpand } >\n                        <ExpandMoreIcon />\n                     </div>\n\n                     <Popover \n                        id={id}\n                              open={open}\n                              anchorEl={anchorEl}\n                              onClose={handleClose}\n\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deletePost(postId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              {\n                                 isFollowing?\n                                    <li onClick={()=>unfollow(user.id, senderId)}>\n                                       <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                    </li>\n                                 :  <li onClick={()=>follow(user.id, senderId)}>\n                                       <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                    </li>\n                              }\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n\n                  <div className=\"post__headerDescription\" onClick={()=>redirectToStatus(postId)}>\n                     <p> {text} </p>\n                  </div>\n               </div>\n\n               { image.length>0 && <img src={image} alt={altText} onClick={()=>redirectToStatus(postId)} />}\n\n               <div className=\"post__footer\">\n                  <FooterIcon Icon={ChatBubbleOutlineIcon} value={comments.length} onClick={()=>setIsOpenModal(true)}/>\n                  <FooterIcon Icon={RepeatIcon} value={0}/>\n                  <Like \n                        likes={likes}\n                        unlikeAction = {()=>unlike(postId, user.id)}\n                        likeAction = {()=>like(postId, user.id)}\n                  />\n                  <FooterIcon Icon={PublishIcon} value={0}/>\n               </div>\n            </div>\n\n         </div>\n      </>\n   )\n  }\n)\n\nexport default Post\n","import React  from 'react'\nimport FlipMove from 'react-flip-move'\nimport Post from '../Post/Post'\n\nconst Posts = ({posts}) => {\n\n    return (\n        <>\n        <FlipMove>\n        {\n            posts.map(post => (\n                <Post key={post.id}\n                        postId = {post.id}\n                        altText = {post.altText}\n                        senderId = {post.senderId}\n                        username = {post.username}\n                        text = {post.text}\n                        avatar = {post.avatar}\n                        image = {post.image}\n                        timestamp = {post.timestamp}\n                        likes = {post.likes}\n            />\n            ))\n        }           \n        </FlipMove>\n        </>\n    )\n}\n\nexport default Posts\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function CircularIndeterminate() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  );\n}","import React, {useState, useEffect} from 'react'\nimport TweetBox from '../TweetBox/TweetBox'\nimport Posts from '../Posts/Posts'\nimport db from '../../firebase'\nimport {Avatar} from '@material-ui/core'\nimport Loader from '../../elements/Loader/Loader'\nimport './Feed.css'\n\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst Feed = () => {\n    const [{user}] = useStateValue()\n    const [posts, setPosts] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [profile, setProfile] = useState(null)\n    const [following, setFollowing] = useState([])\n\n    useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         if (mounted) {\n            setProfile(snapshot.data())\n            setFollowing(snapshot.data() && snapshot.data().following)\n         }\n      })\n      return () => mounted = false\n    }, [])\n\n    useEffect(() => {\n         let mounted = true\n         setLoading(true)\n         if(following){\n            db.collection('posts')\n            .where('senderId', 'in', [user.id,...following])\n            .orderBy('timestamp', 'desc')\n            .onSnapshot(snapshot=>{\n               if(mounted){\n                  if(snapshot.empty){\n                     setLoading(false)\n                     return\n                  }\n                     setPosts(snapshot.docs.map(doc=> ({id:doc.id, ...doc.data()})))\n                     setLoading(false)\n               }\n            }, error=>{\n               console.log(error)\n            })\n         } else {\n         db.collection('posts')\n         .where('senderId', 'in', [user.id])\n         .orderBy('timestamp', 'desc')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               if(snapshot.empty){\n                  setLoading(false)\n                  return\n               }\n                  setPosts(snapshot.docs.map(doc=> ({id:doc.id, ...doc.data()})))\n                  setLoading(false)\n            }\n         }, error=>{\n            console.log(error)\n         }) \n      }\n\n      return () => mounted = false\n\n    }, [following])\n\n    return (\n        <div className='feed'>\n           <div className=\"feed__header\">\n              <div className=\"feed__header-ava\">\n                 <Avatar src={profile && profile.photoURL}/>\n              </div>\n              <h2>Home</h2>          \n           </div>\n           \n           <TweetBox />\n\n           { loading && <div className=\"feed__loader\"><Loader/></div> }\n\n            <Posts posts={posts} />\n\n        </div>\n    )\n}\n\nexport default Feed\n","import React, {useState} from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport Popover from '@material-ui/core/Popover'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\n\nimport './WidgetsTrends.css'\n\nconst WidgetTrends = () => {\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n    return (\n\n           <div className=\"widgets__widgetContainer\">\n              <h2>What's happening</h2>\n\n              <ul className='widgets__trendsContainer'>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon aria-describedby={id} variant=\"contained\" onClick={onClickExpand } />\n                        <Popover \n                           id={id}\n                                 open={open}\n                                 anchorEl={anchorEl}\n                                 onClose={handleClose}\n\n                           anchorOrigin={{\n                              vertical: 'top',\n                              horizontal: 'right',\n                           }}\n                           transformOrigin={{\n                              vertical: 'top',\n                              horizontal: 'right',\n                           }}\n                        >\n                           <ul className=\"post__expandList\">\n                              <li>\n                                 <div ><SentimentVeryDissatisfiedIcon /></div><h3 >This trend is spam</h3>\n                              </li>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>This trend is abusive or harmfull</h3>\n                              </li>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>This trend is a duplicate</h3>\n                              </li>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>This trend is low quality</h3>\n                              </li>\n                           </ul>\n                        </Popover>\n\n                    </div>\n                    <div className='hashtag'>Toklenpedia</div>\n                    <div className='tweetNumber'>5012 Tweets</div>\n                 </li>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon />\n                    </div>\n                    <div className='hashtag'>Bukanbapak Sale</div>\n                    <div className='tweetNumber'>4099 Tweets</div>\n                 </li>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon />\n                    </div>\n                    <div className='hashtag'>FIFAWorldCupU20</div>\n                    <div className='tweetNumber'>4022 Tweets</div>\n                 </li>\n                 <li>\n                    <div className='popular'>\n                       <span>Popular in Indonesia</span>         \n                       <ExpandMoreIcon />\n                    </div>\n                    <div className='hashtag'>MotoGPMandalika</div>\n                    <div className='tweetNumber'>3088 Tweets</div>\n                 </li>\n              </ul>\n\n\n           </div>\n\n\n    )\n}\n\nexport default WidgetTrends\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport {Avatar, Button } from '@material-ui/core'\nimport './UserItemFollow.css'\n\nconst UserItemFollow = ({display}) => {\n    return (\n        <Link to={display ? `/profile/${display.username}` : `/notfound`}>\n            <div className=\"userItemFollow--user__item\">\n                <Avatar src={display && display.photoURL}/>\n                <div className=\"userItemFollow--user__details\">\n                    <h2>{display ? display.displayName: 'Empty Room'}</h2>\n                    <span>{display && `@${display.username}`}</span>\n                </div>\n                <Button>Follow</Button>\n            </div>        \n        </Link>\n    )\n}\n\nexport default UserItemFollow\n","import React, {useEffect, useState} from 'react'\nimport UserItemFollow from '../UserItem/UserItemFollow'\nimport './WidgetsFollow.css'\n\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst WidgetFollow = () => {\n   const [{user}] = useStateValue()\n   const [users, setUsers] = useState([])\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').limit(6).onSnapshot(snapshot=>{\n         if(mounted){\n            setUsers(snapshot.docs.map(user=>({\n               id:user.id,\n               ...user.data()\n            })))\n         }\n      })\n\n      return () => mounted = false\n   }, [])\n\n    return (\n           <div className=\"widgets__widgetContainer\">\n              <h2>Who to follow</h2>\n\n              <ul className='widgets__trendsContainer'>\n\n              {\n                 users && users.filter(u=> u.id!==user.id).map(user=> {\n                    return <li key={user.id}><UserItemFollow display={user}/></li>\n                 })\n              }\n              </ul>\n\n\n           </div>\n\n    )\n}\n\nexport default WidgetFollow\n","import React, {useState} from 'react'\nimport './SearchWidget.css'\nimport SearchIcon from '@material-ui/icons/Search'\nimport CancelIcon from '@material-ui/icons/Cancel'\n\nconst SearchWidget = ({value, onChange, onClick, placeholder}) => {\n    const [focus, setFocus] = useState(false)\n    const [isInputPressed, setIsInputPressed] = useState(false)\n\n    const onInputPressed = () => {\n        setFocus(true)\n        setIsInputPressed(true)\n    }\n\n    return (\n     <div className=\"searchWidget__wrapper\">\n        <div className={`searchWidget ${isInputPressed ?'beingPressed':''}`}>\n            <SearchIcon className='searchWidget__searchIcon' />\n            <input type=\"text\" \n                    placeholder={placeholder}\n                    onFocus = {onInputPressed}\n                    onBlur = {()=> setIsInputPressed(false)}\n                    value = {value}\n                    onChange = {onChange}            \n            />\n            { (focus && value.length>0) && <CancelIcon onClick={onClick} /> }\n        </div>\n     </div>\n    )\n}\n\nexport default SearchWidget\n","import React, {useState} from 'react'\nimport WidgetsTrends from '../WidgetsTrends/WidgetsTrends'\nimport WidgetsFollow from '../WidgetsFollow/WidgetsFollow'\nimport SearchWidget from '../../elements/SearchWidget/SearchWidget'\n\nimport './Widgets.css'\n\nconst Widgets = () => {\n   const [text, setText] = useState('')\n    return (\n        <div className='widgets'>\n\n           <SearchWidget \n               value={text} \n               onChange = {(e)=>setText(e.target.value)}\n               onClick={()=>setText('')}           \n               placeholder='Search Twittie' \n            />\n\n            <WidgetsTrends />\n            \n            <WidgetsFollow />\n\n        </div>\n    )\n}\n\nexport default Widgets\n","import React, {useState} from 'react'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined'\nimport './Search.css'\n\nconst Search = ({value, onChange, onClick}) => {\n    const [focus, setFocus] = useState(false)\n    const [isInputPressed, setIsInputPressed] = useState(false)\n\n    const onInputPressed = () => {\n        setFocus(true)\n        setIsInputPressed(true)\n    }\n\n    return (\n        <div className=\"commonSearch__search\">\n            <div className={`commonSearch__searchContainer ${isInputPressed && 'pressed'}`}>\n                <SearchOutlinedIcon />\n                <input type=\"text\" \n                    className={`commonSearch__input ${isInputPressed && 'inputPressed'}`}\n                    placeholder='Search for people and group'\n                    onFocus = {onInputPressed}\n                    onBlur = {()=> setIsInputPressed(false)}\n                    value = {value}\n                    onChange = {onChange}\n                />\n\n                { (focus && value.length>0) && <CancelIcon onClick={onClick} /> }\n            \n            </div>\n        </div>\n    )\n}\n\nexport default Search\n","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport CheckIcon from '@material-ui/icons/Check'\nimport './UserItem.css'\n\nconst UserItem = ({name, username, photourl, clicked, onClick}) => {\n    return (\n        <div className=\"user__item\" onClick={!clicked ?onClick:undefined}>\n            <Avatar src={photourl}/>\n            <div className=\"user__details\">\n               <h2>{name}</h2>\n               <span>@{username}</span>\n            </div>\n            {\n                clicked && <CheckIcon />\n            }\n        </div>\n    )\n}\n\nexport default UserItem\n","import React, {useEffect, useState} from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport CheckIcon from '@material-ui/icons/Check'\nimport db from '../../firebase'\nimport './UserItem.css'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst UserExist = ({roomId, members, clicked}) => {\n    const [{user}] = useStateValue()\n    const [opp, setOpp] = useState('')\n    const [userInfo, setUserInfo] = useState(null)\n\n    useEffect(() => {\n        setOpp(members.filter(member=>member!==user.id).toString())\n    }, [])\n\n    useEffect(() => {\n        if(opp.length>0){\n            db.collection('users').doc(opp).onSnapshot(snapshot=>{                \n                setUserInfo(snapshot.data())\n            })\n        }             \n    }, [opp])\n\n    return (\n        <div className=\"user__item nocursor\" >\n            <Avatar src={userInfo && userInfo.photoURL}/>\n            <div className=\"user__details\">\n               <h2>{userInfo && userInfo.displayName}</h2>\n               <span>{userInfo && `@${userInfo.username}`}</span>\n            </div>\n            <CheckIcon />\n        </div>\n\n    )\n}\n\nexport default UserExist\n","export const Action = {\n    ADD_ROOM: 'add_room',\n    REMOVE_ROOM: 'remove_room',\n    EMPTY_ROOM: 'empty_room',\n}\n\nexport const chatReducer = (state, action) => {\n    switch (action.type) {\n        case Action.ADD_ROOM: {\n            return [...state, action.room]\n        }\n\n        case Action.REMOVE_ROOM: {\n            return state.filter(user => user.id !== action.id)\n        }\n\n        case Action.EMPTY_ROOM:{\n            return []\n        }\n\n        default:\n            return state\n    }\n} ","import React, {createContext, useReducer } from 'react'\nimport {chatReducer} from './ChatReducers'\n\nexport const ChatContext = createContext()\n\nconst ChatContextProvider = ({children}) => {\n    const [rooms, dispatch] = useReducer(chatReducer, [])\n\n    return (\n        <ChatContext.Provider value={{rooms, dispatch}} >\n            {children}\n        </ChatContext.Provider>\n    )\n}\n\nexport default ChatContextProvider\n","import React, {useState, useEffect, useContext} from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport Chip from '@material-ui/core/Chip'\nimport Avatar from '@material-ui/core/Avatar'\nimport LinearProgress from '@material-ui/core/LinearProgress'\nimport UserItem from '../UserItem/UserItem'\nimport UserExist from '../UserItem/UserExist'\nimport './SearchUser.css'\n\nimport db from '../../firebase'\n\nimport {Action} from '../../contexts/ChatReducers' \nimport {ChatContext} from '../../contexts/ChatContextProvider'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst SearchUser = () => {\n    const [search, setSearch] = useState('')\n    const [existingRooms, setExistingRooms] = useState([])\n    const [results, setResults] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [{user}] = useStateValue()\n    const {rooms, dispatch} = useContext(ChatContext)\n\n    let memberList = []\n    let uniqueMemberList = []\n\n    // const [uniqueMemberLists, setUniqueMemberLists] = useState(uniqueMemberList)\n\n    const onClickResult = (user) => {\n        dispatch({\n            type: Action.ADD_ROOM,\n            room: user\n        })\n    }\n\n    const onChipDelete = (user) => deleteChip(user)\n\n    const deleteChip = (user) => {\n        dispatch({\n            type: Action.REMOVE_ROOM,\n            id : user.id\n        })\n    }\n\n    useEffect(() => {\n        const unsubscribe = db.collection('rooms').where('members', 'array-contains', user.id).onSnapshot(snapshot => \n           setExistingRooms(snapshot.docs.map((doc)=>{\n               return {\n                   id:doc.id,\n                   ...doc.data()\n                }\n            }))\n        )\n\n        return () => {\n            unsubscribe()\n        }\n    }, [])\n\n    existingRooms.map(room=>room.members.forEach(member=> memberList.push(member)))\n    memberList.map(member=>{\n        return uniqueMemberList.indexOf(member)===-1 && uniqueMemberList.push(member)\n    })\n\n    const isClicked = (user) => rooms.some(item => item.id === user.id)\n    \n    useEffect(() => {\n        const unsubscribe = ()=>{\n            setLoading(true)\n            const res = db.collection('users').where('displayName', '==', search).get().then(result => {\n                if (result.empty){\n                    setResults([])\n                    console.log('LOOOH??!! KOSONGG???!!!')\n                    setLoading(false)\n                    }\n                else {setResults(result.docs.map(doc => ({\n                        id: doc.id,\n                        ...doc.data()\n                    }))\n                    // .filter(result=> !existingRooms.members.includes(result.id))\n                    )\n                    setLoading(false)\n                }\n            })\n            return res\n        }\n\n        return ()=> unsubscribe()\n    }, [search])\n\n    // useEffect(() => {\n    //     existingRooms.map(room=>room.members.forEach(member=> memberList.push(member)))\n    //     memberList.map(member=>{\n    //         return uniqueMemberList.indexOf(member)===-1 && uniqueMemberList.push(member)\n    //     })\n    //     setUniqueMemberLists(uniqueMemberList)\n    // }, [])\n\n    console.log(memberList)\n    console.log(uniqueMemberList)\n\n    return (\n        <div className=\"searchUser\">\n           <div className='searchUser__header'>\n              <div className=\"searchUser__header-search\">\n                <SearchIcon /> \n                <input type=\"text\" placeholder='Search People'\n                   value={search}\n                   onChange={e => setSearch(e.target.value)}\n                />              \n              </div>\n\n              {\n                  rooms.length>0 && <div className=\"chips\">\n                    {\n                        rooms.map(resUser => {\n                            return  <Chip key={resUser.id}\n                                            avatar={<Avatar src={resUser.photoURL}/>}\n                                            label={resUser.displayName}\n                                            onClick={()=>onChipDelete(resUser)}\n                                            onDelete={()=>onChipDelete(resUser)}\n                                        />\n                        })\n                    }\n                    </div>\n              }\n\n           </div>\n\n           { loading &&  <LinearProgress /> }\n           \n           <div className=\"users__result\">\n           {\n               results.filter(res=>!uniqueMemberList.includes(res.id)).map(resUser => {\n                   return   <UserItem key={resUser.id}\n                                      name = {resUser.displayName}\n                                      username = {resUser.username}\n                                      photourl = {resUser.photoURL}\n                                      onClick = {() => onClickResult(resUser)}\n                                      clicked = {isClicked(resUser)}            \n                   />\n               })\n           }\n\n            {\n                existingRooms.map(room=>{\n                    return <UserExist key={room.id}\n                            roomId  = {room.id}\n                            members = {room.members}      \n                    />            \n                })\n            }\n\n           </div>        \n\n        </div>\n    )\n}\n\nexport default SearchUser\n","export default {\n    lastMessageTime : function (postedTime) {\n        const [date, time] = postedTime.split(', ')\n        const [month, day, year] = date.split('/')\n        const [hour, minute, second] = time.split(':')\n        const [year1, month1, day1, hour1, minute1, second1] = [year, month, day, hour, minute, second].map(i=> parseInt(i))\n\n\n        const today = new Date()\n        const year2           = parseInt(today.getFullYear())\n        const month2          = parseInt((today.getMonth()+1))\n        const day2            = parseInt(today.getDate())\n        const hour2           = parseInt(today.getHours())\n        const minute2         = parseInt(today.getMinutes())\n        const second2         = parseInt(today.getSeconds())\n\n        const isLeap = (yy) => (yy%4 === 0 && yy%100!==0) || (yy%400 === 0)\n\n        const sumSecs = (y, mo, d, h, mi, s) => {\n            let sd= 0\n            if (mo<2){\n                for (let i=1; i<d; i++){\n                sd+=1\n                }\n                return sd*86400+h*3600+mi*60+s\n            }\n\n            let days =0 \n            for (let i=1 ; i<mo ; i++){\n                if (i===4 || i===6 || i===9 || i===11){\n                days+=30\n                } else \n                if (i === 2){\n                    days+= isLeap(y)? 29: 28\n                } else days+=31\n            } \n\n            return (days+d-1)*86400 +h*3600+mi*60+s \n        }\n\n\n        const secsDifference = (y1,mo1,d1,h1,mi1,s1, y2,mo2,d2,h2,mi2,s2) =>{                   \n            const secs1 = sumSecs(y1,mo1,d1,h1,mi1,s1)\n            const secs2 = sumSecs(y2,mo2,d2,h2,mi2,s2)\n\n            let gap=0\n\n            if((y2 === y1) || y2 === y1+1 ){\n                gap = 0\n                \n            } else \n            for(let i=y1+1; i<y2; i++){\n                if (isLeap(i)){\n                gap+=366\n                }\n                gap+=365\n            }\n\n            const D = isLeap(y1)?(31622400-secs1):(31536000-secs1)\n\n            return (y2!==y1)?(D + gap*86400 + secs2): secs2-secs1\n        }\n\n        const monthList = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\n        const displayOutput = (del, year2, year1, month1, day1, hour1, minute1) => {\n            if (del< 86400 ){\n                return `${hour1}:${minute1} ${hour1<12?'AM':'PM'}`\n            }\n\n            if(del>86399 && del<172800){\n                return `YESTERDAY`\n            }\n\n            if(del>172799){\n                return `${monthList[month1-1]} ${day1}, ${year1}`\n            }\n        }\n\n        return displayOutput(secsDifference(year1,month1,day1,hour1,minute1,second1, year2,month2,day2,hour2,minute2,second2),year2, year1, month1, day1, hour1, minute1)\n    }\n}","import React, {useState,useEffect} from 'react'\nimport {NavLink} from 'react-router-dom'\nimport {Avatar} from '@material-ui/core'\nimport './SidebarChatOption.css'\nimport db from '../../firebase'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport util from '../../helpers/lastMessageTime'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst SidebarChatOption = ({name, roomId, members}) => {\n    const [{user}] = useStateValue()\n    const [messages, setMessages] = useState([])\n    const [contact, setContact] = useState(null)\n    const [opp, setOpp] = useState('')\n\n    useEffect(() => {\n        let mounted = true\n        if(roomId){\n            db.collection('rooms')\n              .doc(roomId)\n              .collection('messages')\n              .orderBy('timestamp', 'desc')\n              .onSnapshot(snapshot=>{\n                if(mounted){\n                    setMessages(snapshot.docs.map(doc=>doc.data()))\n                }\n            })    \n        }\n\n        return () => mounted = false\n    }, [])\n\n\n    useEffect(() => {\n        let mounted = true\n        if(roomId){\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\n                if(mounted){\n                    setOpp(snapshot.data().members.filter(userId=>userId!==user.id)[0])\n                }\n            })\n        }\n\n        return () => mounted = false\n    }, [roomId])\n\n\n    useEffect(() => {\n        let mounted = true\n        if(opp){\n            db.collection('users')\n            .doc(opp)\n            .onSnapshot(snapshot=>{\n                if(mounted){\n                    setContact(snapshot.data())\n                }\n            })\n        }\n\n        return () => mounted = false\n    }, [opp])\n\n\n    const interpretDate = (time) =>{\n        if(time){\n            const date = convertTimestampToLocaleString(time)\n            return util.lastMessageTime(date)\n        }\n    }\n      \n    return (\n        <NavLink to={`/messages/${roomId && roomId}`} className={`sidebarChatOption`} activeClassName='active_chat' >\n            <Avatar src={contact? contact.photoURL: null} />\n            <div className=\"sidebarChatOption__info\">\n                <h2> {contact ? contact.displayName: 'Empty Room'}\n                <span>{contact ? `@${contact.username}`: ''}</span> \n                </h2>\n                <p>{messages[0] && (messages[0].message.length>25?`${messages[0].message.slice(0,24)} ...`:messages[0].message)}</p>\n            </div>\n            <div className=\"sidebarChatOption__date\">{messages[0] && interpretDate(messages[0].timestamp)}</div>\n        </NavLink>  \n    )          \n}\n\nexport default SidebarChatOption","import React, {useState, useEffect, useContext} from 'react'\nimport { useMediaQuery } from 'react-responsive'\nimport Modal from '../../elements/Modal/Modal'\nimport Search from '../../elements/Search/Search'\nimport SearchUser from '../SearchUser/SearchUser'\nimport SidebarChatOption from '../SidebarChatOption/SidebarChatOption'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\nimport CloseIcon from '@material-ui/icons/Close'\nimport './SidebarChat.css'\n\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {Action} from '../../contexts/ChatReducers' \nimport {ChatContext} from '../../contexts/ChatContextProvider'\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\n\nconst SidebarChat = () => {\n    const [{user}] = useStateValue()\n    const [{isRoomOpened}] = useRoomState()\n    const {rooms, dispatch} = useContext(ChatContext)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [existingRooms, setExistingRooms] = useState([])\n    const [text, setText] = useState('')\n    // const isNotFirstSender = e => e=== user.id\n    const isMobile = useMediaQuery({ maxWidth: 914 })\n\n    useEffect(() => {\n        const unsubscribe = db.collection('rooms').where('members', 'array-contains', user.id).onSnapshot(snapshot => \n            setExistingRooms(snapshot.docs.map((doc)=>{\n                // db.collection('rooms').doc(doc.id).collection('messages').get().then(q=> {resolve(q.size)})\n                // db.collection('rooms').doc(doc.id).collection('messages').get().then(q=> {\n                //     if (q.size && doc.data().members.findIndex(isNotFirstSender) ){\n                //         return {\n                //                    id: doc.id,\n                //                    ...doc.data(),\n                //         }\n                //     }\n                // })  \n\n                return {\n                    id: doc.id,\n                    ...doc.data(),\n                }\n                \n                }))\n            )\n\n\n        return ()=>unsubscribe()\n\n\n    }, [user])\n\n    const createNewRoom = () => {\n        if (rooms){\n            rooms.forEach(room => {\n                db.collection('rooms').add({\n                    alias: `${user.displayName} ${user.username} ${room.displayName} ${room.username}`,\n                    members: [user.id, room.id]\n                })\n                dispatch({\n                  type : Action.REMOVE_ROOM,\n                  id   : room.id\n                })    \n            })\n        }\n    }\n\n    const dynamicSearch = () => existingRooms.filter(room=>room.alias.toLowerCase().includes(text.toLowerCase()))\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"New Message\"\n                    callback = {createNewRoom}\n                    Icon = {CloseIcon}\n                    ButtonText='Next'\n                    >\n                    <SearchUser />\n            </Modal>\n\n            <>\n                <div className={`sidebarChat ${(isRoomOpened && isMobile) && 'noned'}`}>\n                    <div className=\"sidebarChat__header\">\n                        <h2>Messages</h2> \n                        <div className=\"sidebarChat__addMessage\">\n                           <MailOutlineIcon onClick={()=>setIsOpenModal(true)}/>\n                        </div>         \n                    </div>\n\n                    <Search value={text} \n                            onChange = {(e)=>setText(e.target.value)}\n                            onClick={()=>setText('')}\n                    />            \n\n                    <div className=\"sidebarChat__chats\">\n                    {\n                        dynamicSearch().map(room=>(\n                          <SidebarChatOption key={room.id}\n                            members = {room.members}\n                            roomId = {room.id}\n                          />\n                        ))\n                    }\n                    </div>            \n\n                </div>\n            </>\n        </>\n    )\n}\n\nexport default SidebarChat\n","import React from 'react'\nimport Modal from '@material-ui/core/Modal'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport Fade from '@material-ui/core/Fade'\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        outline: 'none'\n    }\n}))\n\nconst ModalImage = ({open, onClose, imgsrc}) => {\n    const classes = useStyles()\n\n    return (\n    <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={onClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n           <div className='modalImage__imageWrapper'>\n              <img src={imgsrc} alt=\"popupimge\" \n              // className={`${rounded && 'rounded'}`}\n              />\n           </div>\n        </Fade>\n      </Modal>\n    )\n}\n\nexport default ModalImage\n","import React, {useState} from 'react'\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\nimport ModalImage from '../../elements/Modal/ModalImage'\n\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst MessageItem = ({msg}) => {\n    const [{user}] = useStateValue()\n    const [open, setOpen] = useState(false)\n    const [imgsrc, setImgsrc]=useState('')\n    const {id} = msg\n    const {image, message, timestamp, senderId} = msg.data\n\n\n    const onClickImage = (img) =>{\n        setImgsrc(img)\n        setOpen(true)        \n    }\n\n    const handleClose = () => setOpen(false)\n\n    return <>\n        <ModalImage open={open}\n               onClose={handleClose}\n               imgsrc={imgsrc}\n        />\n        {\n            senderId === user.id ?\n                <div className='chat__item ' key={id}>\n                    <p className={`chat__message chat__receiver`}>\n                        {image && <img src={image} alt=\"testim\" onClick={()=>onClickImage(image)}/>}\n                        {message && <span>{message}</span>}\n                    </p>\n                    <div className=\"chat__timestamp\">{convertTimestampToLocaleString(timestamp)} <DoneAllIcon /></div>\n                </div>\n            :\n                <div className='chat__item' key={id}>\n                    <p className={`chat__message`}>\n                        {image && <img src={ image} alt=\"testim\" onClick={()=>onClickImage(image)}/>}\n                        {message && <span>{message}</span>}\n                    </p>\n                    <div className=\"chat__timestamp lefted\">{convertTimestampToLocaleString(timestamp)}</div>\n                </div>\n        }          \n    </>\n}\n\nexport default MessageItem\n","import React, {useEffect, useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useHistory} from 'react-router-dom'\nimport firebase from 'firebase'\nimport {useParams} from 'react-router'\nimport './Chat.css'\nimport {Avatar, Button} from '@material-ui/core'\n\nimport InfoIcon from '@material-ui/icons/Info'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport InsertPhotoOutlinedIcon from '@material-ui/icons/InsertPhotoOutlined'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport SendIcon from '@material-ui/icons/Send'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport CropIcon from '@material-ui/icons/Crop'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\nimport StatusInput from '../StatusInput/StatusInput'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\nimport Modal from '../../elements/Modal/Modal'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport MessageItem from '../../components/MessageItem/MessageItem'\n\nimport db from '../../firebase'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {generateAltText} from '../../helpers/generateAltText'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\nimport {actionTypes} from '../../contexts/IsRoomOpenedReducers'\n\nconst Chat = () => {\n   const {roomId} = useParams()\n   const [messages, setMessages] = useState([])\n   const [text, setText] = useState('')\n   const [members, setMembers] = useState('')\n   const [display, setDisplay] = useState({})\n   const [{user}] = useStateValue()\n   const [{isRoomOpened}, dispatch] = useRoomState()\n   const history = useHistory()\n\n   const [altText, setAltText] = useState(generateAltText(user.displayName))\n   const [anchorEl, setAnchorEl] = useState(null)\n   const [isLoading, setIsloading] = useState(false)\n\n\n   const [src, setSrc] = useState(null)\n   const [imageToSend, setImageToSend] = useState(null)\n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n   const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n   const [croppedImageResult, setCroppedImageResult ] = useState(null)\n\n\n   useEffect(() => {\n      if (roomId){\n         db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\n            setMembers(snapshot.data() && snapshot.data().members.filter(userId=>userId!==user.id)[0])\n         })\n      }\n\n      db.collection('rooms')\n        .doc(roomId)\n        .collection('messages')\n        .orderBy('timestamp', 'asc')\n        .onSnapshot(snapshot=>{\n           setMessages(snapshot.docs.map(doc=>({id: doc.id, data: doc.data()})))\n      })\n\n      dispatch({\n         type: actionTypes.OPENING_ROOM,\n         isRoomOpened: true    \n      })      \n\n      if(isRoomOpened){}\n\n   }, [roomId])\n\n   useEffect(() => {\n      if(members){\n         db.collection('users')\n         .doc(members)\n         .onSnapshot(snapshot=>{\n            setDisplay(snapshot.data())\n         })\n      }\n   }, [members])\n\n   const sendMessage = (e) => {\n      e.preventDefault()\n      setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n               db.collection('rooms')\n                .doc(roomId)\n                .collection('messages')\n                .add({\n                     senderId: user.id,\n                     message: text,\n                     image : res,\n                     timestamp: firebase.firestore.FieldValue.serverTimestamp()\n               })\n               setText('')\n               setSrc(null)\n               setImageToSend(null)\n               setIsloading(false)\n            })\n            .catch( err=> {\n               setIsloading(false)\n                return\n            })\n        } else {\n            db.collection('rooms')\n             .doc(roomId)\n             .collection('messages')\n             .add({\n               senderId: user.id,\n               message: text,\n               timestamp: firebase.firestore.FieldValue.serverTimestamp()\n              })\n            setText('')\n            setSrc(null)\n            setIsloading(false)\n         }\n      }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (altText.length === 0){\n            setAltText(generateAltText(user.displayName))\n        }\n    }\n\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={altText} setAltText={setAltText}/>\n        }\n    ]\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newMessage = text + emojiObject.emoji\n        setText(newMessage)\n    }\n\n\n    const closeRoom = () => {\n         dispatch({\n            type: actionTypes.CLOSING_ROOM,\n         })  \n\n         history.push('/messages')     \n    }\n\n    return (\n      <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n        <div className=\"chat\">\n           <div className=\"chat__header\">\n              <div className=\"chat__backArrow\">\n                 <ArrowBackOutlinedIcon  onClick={closeRoom}/>\n              </div>\n              <div className=\"chat__header-ava\">\n                 <Avatar src={display && display.photoURL}/>\n               </div>\n              <h2>{display && display.displayName}</h2>\n              <Link to={`/messages/${roomId}/info`}><InfoIcon member={display}/></Link>      \n           </div>\n\n            <div className=\"chat__body\">\n               {\n                  messages.map(msg=>{\n                      return <MessageItem key={msg.id} msg={msg} />\n                  })\n               }\n            </div>\n\n            <div className=\"chat__footer\">\n               { src && \n               <div className='chat__footer-ImageBox'>\n                  <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                  <img src={src} alt=\"new test\"/>               \n                  <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n               </div>\n               }\n\n               <StatusInput Icon={InsertPhotoOutlinedIcon}\n                           type=\"file\"\n                           accept=\"image/*\"\n                           name=\"image-upload\"\n                           id=\"input-image\"\n                           onChange={onSelectFile}\n               />\n               <GifOutlinedIcon />\n               <form onSubmit={sendMessage}>\n                  <input type=\"text\"\n                     placeholder='Start a new message'\n                     value={text}\n                     onChange ={(e)=>setText(e.target.value)}\n                  />\n                  <div className=\"chat__footer-emowrapper\">\n                    <SentimentSatisfiedOutlinedIcon aria-describedby={id} type=\"button\" onClick={onClickEmoticon} />\n                     <Popover \n                           id={id}\n                           open={open}\n                           anchorEl={anchorEl}\n                           onClose={handleClose}\n                           anchorOrigin={{\n                              vertical: 'top',\n                              horizontal: 'center',\n                           }}\n                           transformOrigin={{\n                              vertical: 'bottom',\n                              horizontal: 'center',\n                           }}\n                           style={{\n                              transform: 'translate(-2rem, -1rem)'\n                           }}\n\n                     >\n                           <Picker onEmojiClick={onEmojiClick} />\n                     </Popover>\n\n                  </div>\n                  {\n                     (src || text.length>0)?\n                     isLoading?\n                     <span className='spinnerSpan'><Spinner /></span>\n                     :<SendIcon type='submit' className='readyBtn' onClick={sendMessage}/>\n                     :<SendIcon /> \n                  }\n               </form>\n\n            </div>\n\n        </div>\n      </>\n    )\n}\n\nexport default Chat","import React, {useEffect, useState} from 'react'\nimport firebase from 'firebase'\nimport UserItemFollow from '../UserItem/UserItemFollow'\nimport {useHistory} from 'react-router-dom'\nimport {useParams} from 'react-router'\nimport Switch from '@material-ui/core/Switch'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport './ConversationInfo.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nimport {useRoomState} from '../../contexts/IsRoomOpenedContextProvider'\nimport {actionTypes} from '../../contexts/IsRoomOpenedReducers'\n\nconst ConversationInfo = () => {\n    const history = useHistory()\n    const {roomId} = useParams()\n    const [{user}] = useStateValue()\n    const [{isRoomOpened}, dispatch] = useRoomState()\n    const [state, setState] = useState({ checkedB: false})\n\n    const [members, setMembers] = useState('')\n    const [display, setDisplay] = useState({})\n\n    const handleChange = (event) => {setState({ ...state, [event.target.name]: event.target.checked })}\n\n    useEffect(() => {\n      if (roomId){\n         db.collection('rooms').doc(roomId).onSnapshot(snapshot=>{\n            setMembers(snapshot.data() && snapshot.data().members.filter(userId=>userId!==user.id)[0])\n         })\n\n         dispatch({\n            type: actionTypes.OPENING_ROOM,  \n         })\n\n         if(isRoomOpened){}\n      }\n    }, [roomId])\n\n    useEffect(() => {\n      if(members){\n         db.collection('users')\n         .doc(members)\n         .onSnapshot(snapshot=>{\n            setDisplay(snapshot.data())\n         })\n      }\n    }, [members])\n\n    const leaveConversation = () => {\n      if (roomId){\n         let ref = db.collection('rooms').doc(roomId)\n         ref.update({\n            members: firebase.firestore.FieldValue.arrayRemove(user.id)\n         }).then(res=> history.push('/messages'))\n      }\n    }\n\n\n    return (\n        <div className=\"conversationInfo\">\n           <div className=\"conversationInfo__header\">\n             <div className=\"conversationInfo__header--back\">\n                <ArrowBackOutlinedIcon onClick={()=>history.goBack()}/>\n             </div>\n              <h2>Conversation Info</h2>     \n           </div>\n\n           <UserItemFollow display={display}/>\n\n            <div className=\"notifications\">\n               <h2>Notifications</h2>\n               <div className='mute'>\n                  <p>Mute conversation</p>\n                   <Switch\n                       checked={state.checkedB}\n                       onChange={handleChange}\n                       color=\"primary\"\n                       name=\"checkedB\"\n                       inputProps={{ 'aria-label': 'primary checkbox' }}\n                   />\n               </div>\n            </div>\n\n            <ul className=\"userActions\">\n               <li>{`Block @${display && display.username}`}</li>\n               <li>{`Report @${display && display.username}`}</li>\n               <li className='red' onClick={leaveConversation}>Leave Conversation</li>\n            </ul>\n\n        </div>\n    )\n}\n\nexport default ConversationInfo\n","import React, {useState, useEffect} from 'react'\nimport firebase from 'firebase'\nimport backdrop from '../../assets/backdrop.png'\nimport './Login.css'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport validate from '../../helpers/inputValidator'\nimport db from '../../firebase'\nimport {actionTypes} from '../../contexts/StateReducers'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst Login = () => {\n    const [auth, setAuth] = useState(false)         // a state to change auth mode\n    const initialSignup = {\n        name            : '',\n        username        : '',\n        email           : '',\n        password        : '',\n        confirmPassword : ''\n    }\n    const initialLogin = {\n        email           : '',\n        password        : ''\n    }\n    const [{user},dispatch] = useStateValue()\n    const [signupState, setSignupState] = useState(initialSignup)\n    const [loginState, setLoginState] = useState(initialLogin)\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n\n    const [isSigning, setIsSigning] = useState(false)\n\n    const cleanupState = () => {\n        setIsSigning(false)\n        setSignupState(initialSignup)\n        setLoginState(initialLogin)\n        setError('')\n        setLoading(false)\n    }\n\n    const toggleAuth = () => {\n        setAuth(auth=>!auth)\n        cleanupState()\n        // console.log(!auth?'changed to signupPage':'changed to loginPage')\n    }\n\n    const auths = (user) => {\n        try {\n            user.password = undefined\n            localStorage.setItem('twittie_user', JSON.stringify(user))\n            \n            dispatch({\n                type: actionTypes.SET_USER,\n                user : JSON.parse(localStorage.getItem('twittie_user'))\n            })\n            \n            setLoading(false)          \n        } catch (error) {\n            console.log(error)\n            setLoading(false)\n            return\n        }\n    }\n\n    const onSubmitLogin = (e) => {  \n        const {email, password} = loginState\n        e.preventDefault()\n        setLoading(true)\n        db.collection('users')\n            .where('email', '==', email)\n            .where('password','==', password)\n            .limit(1)\n            .get()\n            .then(snapshot=>{\n                if(!snapshot.docs.length){\n                    setError('Invalid credential')\n                return\n                } else {\n                    return {id: snapshot.docs[0].id, ...snapshot.docs[0].data()}\n                }\n            })\n            .then(res=>{\n                if(res){\n                    auths(res)\n                } else {\n                    setError('An error occured, please try again')\n                    setLoading(false)\n                }\n            })\n            .catch(error=>{\n                setLoading(false)\n                setError('An error occured, please try again')\n                return\n            }\n        )\n\n    }\n\n    const preSignup = (e) => {\n        e.preventDefault()\n        setIsSigning(true)\n        setError(validate(signupState))\n    }\n\n    // console.log(`currently in ${auth?'signupPage':'loginPage'} and ${isSigning?'isSigning':'not isSigning'}`)\n\n    if(user){}\n\n    useEffect(() => {      \n        const {name, username, email, password } = signupState\n\n        // console.log(isSigning, error.length)\n        if (isSigning && !error.length){\n            setLoading(true)\n            try {\n                db.collection('users').add({\n                    bio:'',\n                    displayName: name,\n                    email,\n                    followers: [],\n                    following: [],\n                    joined: firebase.firestore.FieldValue.serverTimestamp(),\n                    password,\n                    photoURL: '',\n                    rooms: [],\n                    username,\n                    verified: true,\n                    wallpaper: ''\n                })\n                .then(res=>{\n                    console.log(res)\n                    toggleAuth()\n                })                    \n            } catch (error) {\n                console.log(error)\n                return\n            }\n        }\n\n    }, [isSigning, error])\n\n    return (\n        <section className='login__section'>\n            <div className={`login__container ${auth ? 'active': ''}`}>\n            <div className=\"user signinBc\">\n                <div className=\"imgBc\"><img src={backdrop} alt='backdrop' /></div>\n                <div className=\"formBc\">\n                    <form autoComplete=\"off\" onSubmit={onSubmitLogin}>\n                        <h2>Log In</h2>\n                        <input type=\"email\"    name='email'    placeholder='Email'    value={loginState.email}    onChange={e=>setLoginState({...loginState, email:e.target.value})}/>\n                        <input type=\"password\" name='password' placeholder='Password' value={loginState.password} onChange={e=>setLoginState({...loginState, password:e.target.value})} required/>\n                        <button type='submit' className='button'>{loading? <Spinner /> : 'Log in'}</button>\n                        {error.length>0 && <div className='error'>{error}</div>}\n                        <p className=\"signup\">Don't have an account? <span onClick={toggleAuth}>Sign up</span></p>\n                    </form>\n                </div>\n            </div>\n            <div className=\"user signupBc\">\n                <div className=\"formBc\">\n                    <form autoComplete=\"off\" onSubmit={preSignup}>\n                        <h2>Create an Account</h2>\n                        <input type=\"text\"     name=\"name\"        placeholder='Full Name'        value={signupState.name}        onChange={(e)=>setSignupState({...signupState, name: e.target.value})}/>\n                        <input type=\"text\"     name=\"username\"        placeholder='Username'        value={signupState.username}        onChange={(e)=>setSignupState({...signupState, username: e.target.value})}/>\n                        <input type=\"text\"    name=\"email\"           placeholder='Email'           value={signupState.email}           onChange={(e)=>setSignupState({...signupState, email: e.target.value})}/>\n                        <input type=\"password\" name=\"password\"        placeholder='Create Password' value={signupState.password}        onChange={(e)=>setSignupState({...signupState, password: e.target.value})}/>\n                        <input type=\"password\" name=\"confirmPassword\" placeholder='Confirm Password'value={signupState.confirmPassword} onChange={(e)=>setSignupState({...signupState, confirmPassword: e.target.value})}/>\n                        {error.length>0 && <div className='error'>{error}</div>}\n                        <button type='submit' className='button'>{loading? <Spinner /> : 'Sign up'}</button>\n                        <p className=\"signup\">have an account? <span onClick={toggleAuth}>Log in</span></p>\n                    </form>\n                </div>\n                <div className=\"imgBc\"><img src={backdrop} alt='backdrop' /></div>\n            </div>\n\n            </div>        \n        </section>\n    )\n}\n\nexport default Login\n","export default function validate(values) {\n  let errors = { }\n\n  const { name, username, email, password, confirmPassword } = values\n  const emailRegex = /(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*/                                                                                                 //eslint-disable-line\n\n  if(username.length === 0){\n    errors.erUsername = 'Username must not be empty' \n  }\n\n  if(name.length === 0){\n    errors.erName = 'Full Name must not be empty' \n  }\n\n\n  if (!email) {\n    errors.erEmail = 'Email address is required'\n  } else if (!emailRegex.test(email)) {   \n    errors.erEmail = 'Email address is invalid'\n  }\n\n\n  if (!password) {\n    errors.erPassword = 'Password is required'\n  } else if (!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\\d@$.!%*#?&]/.test(password)) {\n    errors.erPassword = 'Password must contain atleast 8 characters, an number, an uppercase, a lowercase, and a special character'\n  }\n\n\n  if(password !== confirmPassword){\n      errors.erPasswords = 'Passwords are not identical'\n  }\n\n  let {erName, erUsername, erEmail, erPassword, erPasswords} = errors\n\n  if(erName){\n    return erName\n  } else {\n    if (erUsername){\n      return erUsername\n    } else {\n      if (erEmail){\n        return erEmail\n      } else {\n        if (erPassword){\n          return erPassword\n        } else {\n          if (erPasswords){\n            return erPasswords\n          } else {\n            return ''\n          }\n        }\n      }\n    }\n  }\n    \n}","import React, {useState, useEffect} from 'react'\n\nimport { TextField } from '@material-ui/core'\nimport Modal from '../../elements/Modal/Modal'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport StatusInput from '../StatusInput/StatusInput'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\n\nimport CloseIcon from '@material-ui/icons/Close'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport AddAPhotoOutlinedIcon from '@material-ui/icons/AddAPhotoOutlined'\nimport './EditProfile.css'\n\nconst EditProfile = ({profile, setUpdatedProfileState}) => {\n    const {bio, displayName, location, wallpaper, photoURL, website} = profile\n    const [profileState, setProfileState] = useState({\n        displayName,\n        bio     : bio?bio:'',\n        location: location?location:'',   \n        website : website?website:''    \n    })\n    const [src, setSrc] = useState({\n        photoSrc: photoURL,\n        wallpaperSrc: wallpaper\n    })\n    const [pictureToSend, setPictureToSend] = useState({\n        photoToSend: photoURL,\n        wallpaperToSend: wallpaper\n    })\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [initialImageSize, setinitialImageSize] = useState({\n        photo: {width:0, height:0},\n        wallpaper: {width:0, height: 0}\n    })\n    const [initialAspectRatio, setinitialAspectRatio] = useState({\n        photo: null,\n        wallpaper: null\n    })\n\n    const [isOpenModal, setIsOpenModal] = useState(false)    \n    const [activeModal, setActiveModal] = useState('')\n\n    const onSelectFile = (e, kind)=> {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            if(kind === 'photo'){\n                setSrc({ ...src, photoSrc: fileReader.result})\n                setPictureToSend({ ...pictureToSend, photoToSend: fileReader.result})\n                setActiveModal('photo')\n            }\n            if(kind === 'wallpaper'){\n                setSrc({...src, wallpaperSrc:fileReader.result})\n                setPictureToSend({ ...pictureToSend, wallpaperToSend: fileReader.result})\n                setActiveModal('wallpaper')\n            }\n            setIsOpenModal(true)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n\n        getInfo(e).then(res=> {\n            if(kind === 'photo'){\n                setinitialImageSize({...initialImageSize, photo:{width: res.width, height: res.height}})\n            }\n            if(kind === 'wallpaper'){\n                setinitialImageSize({...initialImageSize, wallpaper:{width: res.width, height: res.height}})\n            }            \n        })\n    }   \n\n    useEffect(() => {\n        setinitialAspectRatio({\n            ...initialAspectRatio,\n            photo: initialImageSize.photo.width/initialImageSize.photo.height,\n            wallpaper: initialImageSize.wallpaper.width/initialImageSize.wallpaper.height,\n        })\n    }, [initialImageSize])\n\n    const removeWallpaper = ()=> {\n        setSrc({...src, wallpaperSrc:null})\n        setinitialImageSize({...initialImageSize, walpaper:{width:0, height:0}})\n        setinitialAspectRatio({...initialAspectRatio, wallpaper: null})\n        setPictureToSend({...pictureToSend, wallpaperToSend:''})\n    }\n\n    const changeSrc = () => {\n        if(activeModal === 'photo'){\n            console.log('from photo',croppedImageResult)\n            setSrc({\n                ...src,\n                photoSrc: URL.createObjectURL(croppedImageResult)\n            })\n            setPictureToSend({...pictureToSend, photoToSend: croppedImageResult})\n            \n        }\n        if(activeModal === 'wallpaper'){\n            console.log('from wallpaper',croppedImageResult)\n            setSrc({\n                ...src,\n                wallpaperSrc: URL.createObjectURL(croppedImageResult)\n            })\n            setPictureToSend({...pictureToSend, wallpaperToSend: croppedImageResult})\n        }\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n    }\n\n    const closeModal = () => {\n        setIsOpenModal(false)\n        setActiveModal('')\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            item:  <CropPhoto \n                    image = {activeModal==='wallpaper'?src.wallpaperSrc:src.photoSrc}\n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {activeModal==='wallpaper'?initialAspectRatio.wallpaper:initialAspectRatio.photo}\n                />\n        }\n    ]\n\n    useEffect(() => {\n        setUpdatedProfileState({profileState, pictureToSend})\n    }, [profileState, pictureToSend])\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={closeModal}\n                    title=\"Edit Media\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Apply'\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>         \n\n            <div className='editProfile'>\n                <div className=\"editProfile__theme\" style={{backgroundImage: `url(${src.wallpaperSrc &&  src.wallpaperSrc})`}}>\n                    <div className=\"editProfile__theme-photoWrapper\">\n                        {src.photoSrc && <img src={src.photoSrc} alt={`${displayName}`} />}\n                        <div className=\"editProfile__btnWrapper\">\n                            <StatusInput Icon={AddAPhotoOutlinedIcon}\n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"image-upload\"\n                                        id=\"input-wallpaper\"\n                                        onChange={(e)=>{onSelectFile(e, 'photo')\n                                                        setActiveModal('photo')\n                                        }}\n                            />\n                        </div>\n                    </div>\n                    <div className='editProfile__theme-themeActions'>\n                        <div>\n                            <StatusInput Icon={AddAPhotoOutlinedIcon}\n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"image-upload\"\n                                        id=\"input-photo\"\n                                        onChange={(e)=>{onSelectFile(e, 'wallpaper')\n                                                        setActiveModal('wallpaper')\n                                        }}\n                            />                    \n                        </div>\n                        <div><CloseIcon onClick={removeWallpaper} /> </div>\n                    </div>\n                </div>  \n\n                <form noValidate autoComplete=\"off\">\n                    <TextField id=\"displayName\" label=\"Name\" variant=\"filled\" value={profileState.displayName} onChange={e=>setProfileState({...profileState, displayName:e.target.value})}/>\n                    <TextField id=\"bio\" label=\"Bio\" variant=\"filled\" value={profileState.bio} onChange={e=>setProfileState({...profileState, bio:e.target.value})}/>\n                    <TextField id=\"location\" label=\"Location\" variant=\"filled\" value={profileState.location} onChange={e=>setProfileState({...profileState, location:e.target.value})}/>\n                    <TextField id=\"website\" label=\"Website\" variant=\"filled\" value={profileState.website} onChange={e=>setProfileState({...profileState, website:e.target.value})} className='lastbordered'/>\n                </form>\n\n            </div>\n\n        </>\n    )\n}\n\nexport default EditProfile\n","import React, {useState, useEffect} from 'react'\nimport {Avatar} from '@material-ui/core'\n\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\n\nconst FollowingEquality = ({profile}) => {\n    const [{user}] = useStateValue()\n    const [myFollowing, setMyFollowing] = useState([])\n    const [equality, setEquality] = useState([])\n\n    const [user1, setUser1] = useState(null)\n    const [user2, setUser2] = useState(null)\n\n    useEffect(() => {\n        db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n            if(snapshot.empty){\n                return\n            }\n            setMyFollowing(snapshot.data() && snapshot.data().following)\n        })\n    }, [])\n\n    useEffect(() => {\n        if(profile&& profile.followers.length>0){\n            setEquality(profile.followers.filter(item=> myFollowing.includes(item)))   \n        }\n    }, [myFollowing, profile])   \n\n    useEffect(() => {\n        let equalityLength = equality.length\n        if(equalityLength>0){\n            if (equalityLength>1){\n                db.collection('users').doc(equality[1]).onSnapshot(snapshot=>{\n                    setUser2(snapshot.data())\n                })\n            }\n\n            db.collection('users').doc(equality[0]).onSnapshot(snapshot=>{\n                setUser1(snapshot.data())\n            })\n\n        }\n    }, [equality])\n\n    console.log(equality)\n\n    return (\n        <div className=\"followedInfo\">\n            {\n                equality.length>0 ?\n                <>\n                    {user1 && <Avatar src={user1.photoURL}/>}\n                    {(equality.length>1 && user2 ) && <Avatar src={user2.photoURL}/>}\n                    <span>Followed by {`${user1 ? user1.displayName: ''} `} {(equality.length===2 && user2) ? `and ${user2.displayName}`: ''} {(equality.length>2 && user2)?`, ${user2.displayName}, and ${equality.length-2} others`:''} </span>\n                </>\n                :\n                <span>Not followed by anyone you follow</span>      \n            }\n        </div>\n    )\n}\n\nexport default FollowingEquality\n","import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useParams} from 'react-router'\n\nimport CloseIcon from '@material-ui/icons/Close'\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\nimport InsertLinkIcon from '@material-ui/icons/InsertLink'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport DateRangeIcon from '@material-ui/icons/DateRange'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\n\nimport Modal from '../../elements/Modal/Modal'\nimport ModalImage from '../../elements/Modal/ModalImage'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport EditProfile from '../EditProfile/EditProfile'\nimport FollowingEquality from '../FollowingEquality/FollowingEquality.jsx'\n\nimport db from '../../firebase'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {follow, unfollow} from '../../server/serverActions'\n\nimport './ProfileTheme.css'\n\nconst ProfileTheme = ({posts}) => {\n    const [profile, setProfile] = useState({bio:'', displayName:'', followers: [], following:[], location:'', photoURL:'', website:'' })\n\n    const [{user}] = useStateValue()\n    const {username} = useParams()\n\n    const [updatedProfileState, setUpdatedProfileState] = useState({})\n    const [finalPhoto, setFinalPhoto] = useState(null)\n    const [finalWallpaper, setFinalWallpaper] = useState(null)\n    const [isPhotoReady, setIsPhotoReady] = useState(false)\n    const [isWallpaperReady, setIsWallpaperReady] = useState(false)\n    const [isUpdating, setIsUpdating] = useState(false)\n\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    let isMe = (profile && profile.id) === user.id?true: false\n\n    const [isFollowing, setIsFollowing] = useState(false)\n\n    const [openImage, setOpenImage] = useState(false)\n    const [imgsrc, setImgsrc]=useState('')\n    const onClickImage = (img) =>{\n        setImgsrc(img)\n        setOpenImage(true)        \n    }\n    const handleCloseImage = () => setOpenImage(false)\n\n    useEffect(() => {\n      db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n        setProfile(snapshot.docs.map(doc=>({\n          id: doc.id,\n          ...doc.data()\n        }))[0])\n      })\n\n    }, [username])\n\n    const callbackforModal = () => {\n        const {photoToSend, wallpaperToSend} = updatedProfileState.pictureToSend\n        setIsUpdating(true)\n        if(photoToSend === profile.photoURL){\n                setFinalPhoto(profile.photoURL)\n                setIsPhotoReady(true)\n        }\n\n        if (photoToSend !== profile.photoURL){\n            const doFetch = () => postToCloudinary(photoToSend).then(res=> {\n                setFinalPhoto(res)\n                setIsPhotoReady(true)\n            })\n            .catch(error=>{ doFetch() } ) \n\n            doFetch()           \n        }\n\n        if (wallpaperToSend === profile.wallpaper){\n                setFinalWallpaper(profile.wallpaper)\n                setIsWallpaperReady(true)\n        }\n\n        if (wallpaperToSend !== profile.wallpaper){\n            if (wallpaperToSend === null){\n                setFinalWallpaper('')\n                setIsWallpaperReady(true)            \n            } else {\n                const doFetch = () => {\n                    postToCloudinary(wallpaperToSend).then(res=> {\n                        setFinalWallpaper(res)\n                        setIsWallpaperReady(true)\n                    })\n                    .catch(error=>{ doFetch() } )                      \n                }\n                doFetch()\n            }\n        }\n\n    }\n\n    useEffect(() => {\n        console.log(`isPhotoReady: ${isPhotoReady}, isWallpaperReady: ${isWallpaperReady}`)\n        if(isPhotoReady && isWallpaperReady){\n            const {displayName, bio, location, website} = updatedProfileState.profileState\n            const doUpdate = () => {\n                db.collection('users').doc(user.id).update({\n                    displayName,\n                    bio,\n                    location,\n                    website,\n                    photoURL: finalPhoto,\n                    wallpaper: finalWallpaper\n                }).then(res => {\n                    setIsUpdating(false)\n                })\n                .catch(error => { doUpdate()})               \n            }\n            doUpdate()\n        }\n\n    }, [isPhotoReady, isWallpaperReady])\n\n\n    useEffect(() => {\n        if(profile){\n            if (!isMe){\n                setIsFollowing(profile.followers.includes(user.id))\n            }\n        }\n    }, [profile])\n\n\n    return (\n        <>\n            <Modal\n                    open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Profile\"\n                    callback = {callbackforModal}\n                    Icon = {CloseIcon}\n                    ButtonText='Save'\n                    >\n                    <EditProfile profile={profile} setUpdatedProfileState={setUpdatedProfileState} />        \n            </Modal>        \n\n            <ModalImage open={openImage}\n                onClose={handleCloseImage}\n                imgsrc={imgsrc}\n            />\n\n            <div className='userProfile'>\n                <div className=\"userProfile__theme\" style={{backgroundImage: `url(${profile && profile.wallpaper})`}} >\n                    <div className=\"photoWrapper\" >\n                        {(profile && profile.photoURL) && <img src={profile.photoURL} alt={`${profile.displayName}`} onClick={()=>onClickImage(profile.photoURL)} />}\n                    </div>\n                </div>\n\n                <div className=\"infoWrapper\">\n                    <div className=\"userProfile__actions\">\n                        <div className=\"moreWrapper\">\n                            <MoreHorizIcon />\n                        </div>\n                        { !isMe && <div className=\"mailWrapper\">\n                            <MailOutlineIcon />\n                        </div> }                     \n                        { isMe? \n                        <div className=\"followWrapper\" onClick={()=>setIsOpenModal(true)}>\n                            Edit Profile\n                        </div>\n                        : \n                            (\n                            isFollowing?\n                                <div className=\"followWrapper\" onClick={()=>unfollow(user.id, profile.id)}>\n                                    Followed\n                                </div>\n                            :\n                                <div className=\"followWrapper\" onClick={()=>follow(user.id, profile.id)}>\n                                    Follow\n                                </div>                        \n                            )              \n                        }\n                    </div>\n\n                    <h2>{profile&& profile.displayName}</h2>\n                    {username && <span>{`@${username}`}</span>}\n                    {profile && <p>{profile.bio}</p>}\n\n                    <div className=\"bioInfo\">\n                        {(profile && profile.location) && <div> <PlaceIcon /> <span>{profile.location}</span></div>}\n                        {(profile && profile.website) && <div className='blued'> <InsertLinkIcon /> <span>{profile.website}</span></div>}\n                        <div><DateRangeIcon /> <span>Sep 2020</span></div>\n                    </div>\n\n                    <div className=\"countInfo\">\n                        <Link to={`/profile/${username}/followinfo`}>\n                            <span>{profile && profile.following.length} <p>Following</p></span>\n                        </Link>\n                        <Link to={`/profile/${username}/followinfo`}>\n                            <span>{profile!==undefined && profile.followers.length} <p>Followers</p></span>\n                        </Link>\n\n                        { (isMe && isUpdating) && <div className='themeSpinner'> <Spinner /> </div>  }   \n                    </div>\n                    \n                    <div className='themeBottom'>\n                        { !isMe && <FollowingEquality profile={profile}/> }\n                    </div>\n                    \n                </div>\n\n            </div>\n\n        </>\n    )\n}\n\nexport default ProfileTheme\n","import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport Posts from '../Posts/Posts'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport ProfileTheme from '../ProfileTheme/ProfileTheme'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport Loader from '../../elements/Loader/Loader'\n\nimport db from '../../firebase'\n// import {useStateValue} from '../../contexts/StateContextProvider'\nimport '../Feed/Feed.css'\n\nconst Feed = () => {\n    const {username} = useParams()  \n    const history = useHistory()    \n    const [posts, setPosts] = useState([])\n    const [loading, setLoading] = useState(false)\n    const initProfile={\n        bio:'',\n        displayName:'', \n        followers:[], \n        following:[], \n        id: '', \n        location: '', \n        photoURL: '', \n        username: '', \n        wallpaper: '', \n        website: ''      \n    }\n    const [profile, setProfile] = useState(initProfile)\n\n    useEffect(() => {\n      db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n        setProfile(snapshot.docs.map(doc=>({\n          id: doc.id,\n          ...doc.data()\n        }))[0])\n      })\n    }, [username])\n\n    useEffect(() => {\n      setLoading(true)\n\n      if(profile){\n        db.collection('posts')\n        .where('senderId', '==', profile.id)\n        .orderBy('timestamp', 'desc')\n        .onSnapshot(snapshot=> {\n          setPosts(snapshot.docs.map(doc => ({id:doc.id, ...doc.data()})))\n          setLoading(false)\n        })\n      }\n    }, [profile])\n\n    const items = [\n        {\n            id: 0,\n            title:'Tweets',\n            item: <>\n                    { loading && <div className=\"feed__loader\"><Loader/></div> } \n                    <Posts  posts={posts} />\n                  </>\n        },\n        {\n            id: 1,\n            title: 'Tweets & replies',\n            item: <>  { loading && <div className=\"feed__loader\"><Loader/></div> } </>\n        },\n        {\n            id: 2,\n            title: 'Media',\n            item: <>\n                    { loading && <div className=\"feed__loader\"><Loader/></div> } \n                    <Posts  posts={posts.filter(post=>post.image.length>0)} />\n                  </>\n        },        \n        {\n            id: 3,\n            title: 'Likes',\n            item: <> { loading && <div className=\"feed__loader\"><Loader/></div> } </>\n        }\n    ]\n\n    return (\n        <div className='feed'>\n           <div className=\"profile__header\">\n              <div className=\"profile__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <div className='profile__title'>\n                <div className='profile__title_title'><h2>{profile && profile.displayName}</h2><CheckCircleIcon /></div>        \n                <span>{posts && posts.length} tweets</span>\n              </div>\n           </div>\n\n           <ProfileTheme profile={profile} />\n\n           <TabbarMenu items={items}/>\n\n        </div>\n    )\n}\n\nexport default Feed\n","import React, {useState, useEffect} from 'react'\nimport './WidgetsPhoto.css'\n\nconst WidgetsPhoto = ({posts}) => {\n   const [photos, setPhotos] = useState([])\n\n   useEffect(() => {\n      setPhotos(posts.filter(post=>post.image.length>0).slice(0,6).map(item=>{return item.image}))\n   }, [])\n\n    return (\n        <div className='widgets__widgetContainerforPhotos'>\n           <div className=\"wcfpRow\">\n              <div className=\"square bcA\" style={{backgroundImage: `url(${photos.length>0 && photos[0]})`}}></div>\n              <div className=\"square\" style={{backgroundImage: `url(${photos.length>0 && photos[1]})`}}></div>\n              <div className=\"square bcB\" style={{backgroundImage: `url(${photos.length>0 && photos[2]})`}}></div>\n           </div>\n           <div className=\"wcfpRow\"> \n              <div className=\"square bcD\" style={{backgroundImage: `url(${photos.length>0 && photos[3]})`}}></div>\n              <div className=\"square\" style={{backgroundImage: `url(${photos.length>0 && photos[4]})`}}></div>\n              <div className=\"square bcC\" style={{backgroundImage: `url(${photos.length>0 && photos[5]})`}}></div>\n           </div>            \n        </div>\n    )\n}\n\nexport default WidgetsPhoto\n","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router'\nimport WidgetsTrends from '../WidgetsTrends/WidgetsTrends'\nimport WidgetsFollow from '../WidgetsFollow/WidgetsFollow'\nimport WidgetsPhoto from '../WidgetsPhoto/WidgetsPhoto'\nimport SearchWidget from '../../elements/SearchWidget/SearchWidget'\n\nimport db from '../../firebase'\nimport '../Widgets/Widgets.css'\n\nconst Widgets = () => {\n   const {username} = useParams()\n   const [posts, setPosts] = useState([])\n   const [text, setText] = useState('')\n   const [profile, setProfile] = useState(null)\n\n    useEffect(() => {\n      db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n        setProfile(snapshot.docs.map(doc=>({\n          id: doc.id,\n          ...doc.data()\n        }))[0])\n      })\n    }, [username])\n\n\n    useEffect(() => {\n        if(profile){\n            db.collection('posts')\n            .where('senderId', '==', profile.id)\n            .orderBy('timestamp', 'desc')\n            .onSnapshot(snapshot=> {\n                setPosts(snapshot.docs.map(doc => doc.data()))\n            }) \n        }\n    }, [profile])\n\n\n    return (\n        <div className='widgets'>\n\n           <SearchWidget \n               value={text} \n               onChange = {(e)=>setText(e.target.value)}\n               onClick={()=>setText('')}           \n               placeholder='Search Twittie' \n            />\n\n            { posts.length>0 && <WidgetsPhoto posts={posts}/>}\n\n            <WidgetsFollow />\n\n            <WidgetsTrends />\n            \n        </div>\n    )\n}\n\nexport default Widgets\n","import React, {useEffect, useState} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport UserItemFollow from '../UserItem/UserItemFollow'\nimport db from '../../firebase'                                                                                                                                                                    // import {useStateValue} from '../../contexts/StateContextProvider'\n\nconst ProfileFollow = () => {\n   const history = useHistory()\n   const {username} = useParams()\n   const [following, setFollowing] = useState([]) \n   const [followers, setFollowers] = useState([])\n\n   const [profile, setProfile] = useState({})\n   const [posts, setPosts] = useState([])\n\n   useEffect(() => {\n      if(username){\n         db.collection('users').where('username', '==', username).onSnapshot(snapshot=>{\n         setProfile(snapshot.docs.map(doc=>({\n            id: doc.id,\n            ...doc.data()\n         }))[0])\n         })         \n      }\n   }, [])\n\n\n   useEffect(() => {\n   if(profile.id){\n      db.collection('posts')\n      .where('senderId', '==', profile.id)\n      .orderBy('timestamp', 'desc')\n      .onSnapshot(snapshot=> {\n      setPosts(snapshot.docs.map(doc => doc.data()))\n      })          \n   }\n   }, [profile])\n\n\n   useEffect(() => {\n      if(profile.id){\n         console.log(profile.displayName, profile.id)\n         db.collection('users').where('followers', 'array-contains', profile.id)\n         .onSnapshot(snapshot=> {\n         setFollowing(snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()})))\n         }) \n\n         db.collection('users').where('following', 'array-contains', profile.id)\n         .onSnapshot(snapshot=> {\n         setFollowers(snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()})))\n         }) \n      }\n\n   }, [profile])\n\n   console.log(following)\n   console.log(followers)\n\n\n    const items = [\n        {\n            id: 0,\n            title:'Followers',\n            item: <ul>\n                     {followers && followers.map(user=>{\n                        return  <li key={user.id}> <UserItemFollow display={user}/></li>\n                     })}\n                  </ul>\n        },\n        {\n            id: 1,\n            title: 'Following',\n            item: <ul>\n                     {following && following.map(user=>{\n                        return  <li key={user.id}> <UserItemFollow display={user}/></li>\n                     })}\n                  </ul>\n        }\n    ]\n\n    return (\n        <div className='feed'>\n           <div className=\"profile__header forFollow\">\n              <div className=\"profile__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <div className='profile__title'>\n                <div className='profile__title_title'><h2>{profile.displayName}</h2><CheckCircleIcon /></div>        \n                <span>{ posts.length>0 ?`${posts.length} tweets`: ''}</span>\n              </div>\n           </div>\n\n           <TabbarMenu items={items}/>\n\n        </div>\n    )\n}\n\nexport default ProfileFollow\n","import React, {useState, useEffect} from 'react'\nimport {Avatar, Button} from '@material-ui/core'\nimport {useParams, useHistory} from 'react-router'\nimport { Timeline } from '@material-ui/lab'\nimport TimelineItem from '@material-ui/lab/TimelineItem'\nimport TimelineSeparator from '@material-ui/lab/TimelineSeparator'\nimport TimelineConnector from '@material-ui/lab/TimelineConnector'\nimport TimelineContent from '@material-ui/lab/TimelineContent'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\n\nimport Popover from '@material-ui/core/Popover'\nimport Picker from 'emoji-picker-react'\nimport Spinner from '../../elements/Spinner/Spinner'\nimport StatusInput from '../StatusInput/StatusInput'\nimport Modal from '../../elements/Modal/Modal'\nimport TabbarMenu from '../../elements/TabbarMenu/TabbarMenu'\nimport CropPhoto from '../EditPhoto/CropPhotoB'\nimport AddALT from '../EditPhoto/AddALT'\n\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined'\nimport SentimentSatisfiedOutlinedIcon from '@material-ui/icons/SentimentSatisfiedOutlined'\nimport EqualizerOutlinedIcon from '@material-ui/icons/EqualizerOutlined'\nimport EventNoteSharpIcon from '@material-ui/icons/EventNoteSharp'\nimport GifOutlinedIcon from '@material-ui/icons/GifOutlined'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\nimport CropIcon from '@material-ui/icons/Crop'\n\nimport db from '../../firebase'\nimport firebase from 'firebase'\nimport util from '../../helpers/timeDifference'\nimport {getInfo} from '../../helpers/getImageDimension'\nimport postToCloudinary from '../../helpers/postToCloudinary'\nimport {generateAltText} from '../../helpers/generateAltText'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport '../Reply/Reply.css'\n\nconst ReplyComment = ({props, profile, ownProfile, setIsOpenParentModal, originalPostSender}) => {\n    const {displayName, username, photoURL, verified} = profile\n    const {timestamp, text, image, altText, commentId} = props\n    const date = convertTimestampToLocaleString(timestamp)\n    const history = useHistory()\n    const {postId} = useParams()\n\n    const [anchorEl, setAnchorEl] = useState(null)\n    const [isLoading, setIsloading] = useState(false)\n\n    const open = Boolean(anchorEl)\n    const id = open ? 'post-popover' : undefined\n    const onClickEmoticon = (event) => setAnchorEl(event.currentTarget)\n    const handleClose = () => setAnchorEl(null)\n\n    const [commentMessage, setCommentMessage] = useState('')\n    const onChangeComment = (e) => setCommentMessage(e.target.value)\n\n    const [src, setSrc] = useState(null)\n    const [imageToSend, setImageToSend] = useState(null)\n    const [initialImageSize, setinitialImageSize] = useState({width: 0, height: 0})\n    const [initialAspectRatio, setinitialAspectRatio] = useState(null)\n    const [croppedImageResult, setCroppedImageResult ] = useState(null)\n    const [isOpenModal, setIsOpenModal] = useState(false)\n    const [commentAltText, setCommentAltText] = useState(generateAltText(ownProfile.displayName))\n\n    const onEmojiClick = (event, emojiObject) => {\n        let newComment = commentMessage + emojiObject.emoji\n        setCommentMessage(newComment)\n    }\n\n    const onSelectFile = e => {\n        const fileReader = new FileReader()\n        fileReader.onloadend = () => {\n            setSrc(fileReader.result)\n            setImageToSend(fileReader.result)\n        }   \n        fileReader.readAsDataURL(e.target.files[0])\n        getInfo(e).then(res=> {\n            setinitialImageSize({width: res.width, height: res.height})\n        })\n    }\n\n    useEffect(() => {\n        setinitialAspectRatio(initialImageSize.width/initialImageSize.height)\n    }, [initialImageSize])\n\n    const changeSrc = () => {\n        setSrc(URL.createObjectURL(croppedImageResult))\n        setImageToSend(croppedImageResult)\n    }\n\n    const callbackforModal = () =>{\n        changeSrc()\n        if (commentAltText.length === 0){\n            setCommentAltText(generateAltText(displayName))\n        }\n    }\n\n    const items = [\n        {\n            id: 0,\n            title:'',\n            icon: <CropIcon />,\n            item: <CropPhoto \n                    image={src} \n                    setCroppedImageResult ={setCroppedImageResult} \n                    initialAspectRatio    = {initialAspectRatio}\n            />\n        },\n        {\n            id: 1,\n            title: 'ALT',\n            icon: '',\n            item: <AddALT image={croppedImageResult} altText={commentAltText} setCommentAltText={setCommentAltText}/>\n        }\n    ]\n\n    useEffect(() => {\n        var textarea = document.querySelector('textarea')\n        textarea.addEventListener('keydown', autosize)\n                    \n        function autosize(){\n        var el = this\n        setTimeout(function(){\n            el.style.cssText = 'height:auto padding:0'\n            el.style.cssText = 'height:' + el.scrollHeight + 'px'\n        },0)\n        }\n    }, [])\n\n    const sendComment = (e) => {\n        e.preventDefault()\n        setIsloading(true)\n\n        if(imageToSend){\n            postToCloudinary(imageToSend)\n            .then( res=>{\n\n                db.collection('posts')\n                .doc(postId)\n                .collection('comments')\n                .doc(commentId)\n                .collection('threadComments')\n                .add({\n                    commentAltText  : commentAltText,\n                    text            : commentMessage,\n                    image           : res,\n                    likes           : [],\n                    senderId        : ownProfile.id,\n                    timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n                })\n\n                    setCommentMessage('')\n                    setCommentAltText('')\n                    setSrc(null)\n                    setIsloading(false)\n                    setIsOpenParentModal(false) \n                    history.push(`/status/${postId}/${commentId}`)\n            })\n            .catch( error=> {\n                console.log(error)\n                setIsloading(false)\n                return\n            })\n\n        } else {\n\n            db.collection('posts')\n            .doc(postId)\n            .collection('comments')\n            .doc(commentId)\n            .collection('threadComments')\n            .add({\n                commentAltText  : '',\n                text            : commentMessage,\n                image           : '',\n                likes           : [],\n                senderId        : ownProfile.id,\n                timestamp       : firebase.firestore.FieldValue.serverTimestamp()\n            })\n\n                setCommentMessage('')\n                setCommentAltText('')\n                setSrc(null)\n                setIsloading(false)\n                setIsOpenParentModal(false) \n                history.push(`/status/${postId}/${commentId}`)\n\n        }\n    }\n\n    return (\n        <>\n            <Modal  open={isOpenModal} \n                    onClose={()=>setIsOpenModal(false)}\n                    title=\"Edit Photo\"\n                    callback = {callbackforModal}\n                    Icon = {ArrowBackOutlinedIcon}\n                    ButtonText='Save'\n                    setIsOpenParentModal = {setIsOpenParentModal}\n                    >\n                    <TabbarMenu items={items}/>\n            </Modal>\n\n            <div className=\"reply\">\n                <Timeline>\n                <TimelineItem>\n                    <TimelineSeparator> \n                        <Avatar src={photoURL} />\n                        <TimelineConnector />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <div className=\"post__body upped\">\n                            <div className=\"post__header\">\n                                <div className=\"post__headerText\">\n                                    <h3>{displayName} {' '}\n                                        <span className='post__headerSpecial'> \n                                            {verified && <VerifiedUserIcon className='post__badge'/>} \n                                            {`@${username} . ${timestamp && util.timeDiff(date)}`}\n                                        </span>\n                                    </h3>\n                                </div>\n\n                                <div className=\"post__headerDescription\"> <p> {text} </p></div>\n                            </div>\n                            { image.length>0 && <img src={image} alt={altText}/> }\n                            <span className='replyingTo'>Replying to <p>{`@${username} @${originalPostSender && originalPostSender.username}`}</p></span>\n                        </div>\n                    </TimelineContent>\n                </TimelineItem>\n\n                <TimelineItem>\n                    <TimelineSeparator>\n                    <Avatar src={ownProfile.photoURL} />\n                    </TimelineSeparator>\n                    <TimelineContent>\n                        <form onSubmit={sendComment}>\n                            <div className='tweetBox__input upped'>\n                                <textarea rows='1' \n                                        placeholder = 'Tweet your reply'\n                                        type        = 'text' \n                                        value       = {commentMessage}\n                                        onChange    = {onChangeComment}                            \n                                >\n                                </textarea>\n                            </div> \n\n                            {\n                                src &&\n                                    <div className='tweetBox__input-image'>\n                                        <CancelIcon className='cancelIcon' onClick={()=>setSrc(null)}/>\n                                        <img src={src} alt=\"new test\"/>               \n                                        <Button className='editImage' onClick={()=>setIsOpenModal(true)}>Edit</Button>\n                                    </div>                        \n                            }\n\n                            <div className='tweetBox__input-actions'>\n                                <div className='tweetBox__input-icons'>\n                                    <StatusInput Icon={ImageOutlinedIcon} \n                                        type=\"file\"\n                                        accept=\"image/*\"\n                                        name=\"comment-image-upload\"\n                                        id=\"comment-image-upload\"\n                                        onChange={onSelectFile}\n                                    />\n                                    <StatusInput Icon={GifOutlinedIcon}/>\n                                    <StatusInput Icon={EqualizerOutlinedIcon} />\n                                    <StatusInput Icon={SentimentSatisfiedOutlinedIcon} \n                                                 aria-describedby={id} type=\"button\" onClick={onClickEmoticon} \n                                    />\n\n                                    <Popover \n                                        id={id}\n                                        open={open}\n                                        anchorEl={anchorEl}\n                                        onClose={handleClose}\n                                        anchorOrigin={{\n                                            vertical: 'top',\n                                            horizontal: 'center',\n                                        }}\n                                        transformOrigin={{\n                                            vertical: 'bottom',\n                                            horizontal: 'center',\n                                        }}\n                                        style={{borderRadius: '2rem'}}\n                                    >\n                                        <Picker onEmojiClick={onEmojiClick} />\n                                    </Popover>\n\n                                    <StatusInput Icon={EventNoteSharpIcon} />\n                                </div>\n                        \n                                    {\n                                        isLoading ? <Button className='tweetBox__tweetButton'><Spinner /></Button>\n                                        :\n                                        <Button type='submit'className='tweetBox__tweetButton'>Reply</Button>\n                                    }\n\n                                </div>\n                        </form>\n                    </TimelineContent>\n                </TimelineItem>\n                </Timeline>\n            </div>\n        </>\n    )\n}\n\nexport default ReplyComment\n","import React, {useState, forwardRef, useEffect} from 'react'\nimport {Avatar} from '@material-ui/core'\nimport {Link} from 'react-router-dom'\nimport {useHistory, useParams} from 'react-router'\n\nimport FooterIcon from '../Post/FooterIcon'\nimport ReplyComment from '../ReplyComment/ReplyComment'\nimport Like from '../Post/Like'\nimport Popover from '@material-ui/core/Popover'\nimport Modal from '../../elements/Modal/Modal'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport '../Post/Post.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {likeComment, unlikeComment, follow, unfollow, deleteComment} from '../../server/serverActions'\n\nconst Comment = forwardRef(({\n   commentAltText,\n   text,\n   image,\n   timestamp,\n   senderId,\n   commentId,\n   likes,\n   statusUsername\n   }, ref) => {\n\n   const history = useHistory()\n   const {postId} = useParams()\n   const date = convertTimestampToLocaleString(timestamp)\n\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers: [], following:[]})\n   const {displayName, username, photoURL, verified} = profile\n   const [ownProfile, setOwnProfile] = useState(null)\n   const [originalPost, setOriginalPost] = useState(null)\n   const [originalPostSender, setOriginalPostSender] = useState(null)\n   \n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const setIsOpenParentModal = state => setIsOpenModal(state)\n\n   const [threadComments, setThreadComments] = useState([])\n   const redirectToThread = commentId => history.push(`/status/${postId}/${commentId}`)\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         if(mounted){\n            setOwnProfile({id:user.id, ...snapshot.data()})\n         }\n      })\n\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         if(mounted){\n            setProfile(snapshot.data())\n         }\n      })\n\n      db.collection('posts').doc(postId).collection('comments')\n         .doc(commentId).collection('threadComments')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setThreadComments(snapshot.docs.map(threadComment=>({id:threadComment.id, ...threadComment.data()})))\n            }\n      })\n\n      db.collection('posts').doc(postId).onSnapshot(snapshot=>{\n         if(mounted){\n            setOriginalPost(snapshot.data())\n         }\n      })      \n\n      return () => mounted = false\n   }, [])\n\n   useEffect(() => {\n      let mounted = true\n\n      if(originalPost){\n         db.collection('users').doc(originalPost.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n               setOriginalPostSender(snapshot.data())\n            }\n         })\n      }\n\n      return () => mounted = false\n\n   }, [originalPost])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n\n   return (\n      <>\n         <Modal  \n            open={isOpenModal} \n            onClose={()=>setIsOpenModal(false)}\n            title=\"\"\n            callback = {callbackForModal}\n            Icon = {CloseIcon}\n            ButtonText=''\n         >\n            <ReplyComment props={{\n                  threadAlttext: commentAltText,\n                  image,\n                  timestamp,\n                  senderId,\n                  commentId,\n                  likes\n               }}\n               profile={profile}\n               ownProfile ={ownProfile}\n               setIsOpenParentModal = {setIsOpenParentModal}\n               originalPostSender = {originalPostSender}\n            />\n         </Modal>\n\n         <div className='post' ref={ref}>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <h3>{displayName} {' '}\n                        <span className='post__headerSpecial'> \n                              {verified && <VerifiedUserIcon className='post__badge'/>} \n                              @{`${username} . ${timestamp && util.timeDiff(date)}`}\n                        </span>\n                     </h3>\n                     <div className=\"post__headerExpandIcon\" aria-describedby={id} variant=\"contained\" onClick={onClickExpand } >\n                        <ExpandMoreIcon />\n                     </div>\n\n                     <Popover \n                        id={id}\n                        open={open}\n                        anchorEl={anchorEl}\n                        onClose={handleClose}\n\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deleteComment(postId, commentId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              {\n                                 isFollowing?\n                                 <li onClick={()=>unfollow(user.id, senderId)}>\n                                    <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                 </li>\n                                 : <li onClick={()=>follow(user.id, senderId)}>\n                                    <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                 </li>\n\n\n                              }\n                              {/* <li onClick={()=>unfollow(user.id, senderId)}>\n                                 <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                              </li> */}\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n\n                  {statusUsername && <div className=\"post__replyingTo\">\n                     Replying To <Link to ={`/profile/${statusUsername}`}>{`@${statusUsername}`}</Link>\n                  </div>}\n\n                  <div className=\"post__headerDescription\" onClick={()=>redirectToThread(commentId)}>\n                     <p> {text} </p>\n                  </div>\n               </div>\n\n               { image.length>0 && <img src={image} alt={commentAltText} onClick={()=>redirectToThread(commentId)} />}\n\n               <div className=\"post__footer\">\n                  <FooterIcon Icon={ChatBubbleOutlineIcon} value={threadComments.length} onClick={()=>setIsOpenModal(true)}/>\n                  <FooterIcon Icon={RepeatIcon} value={0}/>\n                  <Like \n                     likes={likes} \n                     likeAction = {()=>likeComment(postId, commentId, user.id)}\n                     unlikeAction = {()=> unlikeComment(postId, commentId, user.id)}\n                  />\n                  <FooterIcon Icon={PublishIcon} value={0}/>\n               </div>\n            </div>\n\n         </div>\n      </>\n   )\n  }\n)\n\nexport default Comment\n","import React from 'react'\nimport FlipMove from 'react-flip-move'\nimport Comment from '../Comment/Comment'\n\nconst Comments = ({comments, statusUsername}) => {\n    return (\n        <>\n        <FlipMove>\n        {\n            comments.map(comment => (\n                <Comment key={comment.id}\n                        commentId = {comment.id}\n                        commentAltText = {comment.commentAltText}\n                        senderId = {comment.senderId}\n                        username = {comment.username}\n                        text = {comment.text}\n                        avatar = {comment.avatar}\n                        image = {comment.image}\n                        timestamp = {comment.timestamp}\n                        likes = {comment.likes}\n                        statusUsername = {statusUsername}\n                />\n            ))\n        }           \n        </FlipMove>\n        </>\n    )\n}\n\nexport default Comments\n","import React, {useState, useEffect} from 'react'\nimport {useParams} from 'react-router'\nimport {useHistory} from 'react-router-dom'\n\nimport Popover from '@material-ui/core/Popover'\nimport FooterIcon from '../Post/FooterIcon'\nimport Like from '../Post/Like'\nimport Reply from '../Reply/Reply'\nimport Modal from '../../elements/Modal/Modal'\n\nimport {Avatar} from '@material-ui/core'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport {like, unlike, follow, unfollow, deletePost} from '../../server/serverActions'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport db from '../../firebase'\n\nconst StatusPost = ({status, comments}) => {\n   const {postId} = useParams()\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers: [], following: []})\n   const {displayName, username, photoURL, verified} = profile\n   const {\n      altText,\n      text,\n      image,\n      timestamp,\n      senderId,\n      likes\n   } = status\n\n   const date = convertTimestampToLocaleString(timestamp)\n   const history = useHistory()\n\n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         if(mounted) {\n            setProfile(snapshot.data())\n         }\n      })\n\n      return () => mounted = false\n   }, [])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n\n   const deleteMyPost = ()=> {\n      deletePost(postId)\n      history.push('/')\n   }\n\n   const followUser = ()=> follow(user.id, senderId)\n   const unfollowUser = ()=> unfollow(user.id, senderId)\n   const setIsOpenParentModal = state => setIsOpenModal(state)\n\n   return (\n   <>\n      <Modal  \n         open={isOpenModal} \n         onClose={()=>setIsOpenModal(false)}\n         title=\"\"\n         callback = {callbackForModal}\n         Icon = {CloseIcon}\n         ButtonText=''\n      >\n         <Reply props={{\n               altText,\n               text,\n               image,\n               timestamp,\n               senderId,\n               postId,\n               likes\n            }}\n            profile={profile}\n            ownProfile ={user}\n            setIsOpenParentModal={setIsOpenParentModal}\n         />\n      </Modal>\n\n      <div className='statusPost'>\n      <div className='post bottomWhited'>\n         <div className=\"post__avatar\">\n            <Avatar src={photoURL} />\n         </div>\n         <div className=\"post__body\">\n            <div className=\"post__header\">\n               <div className=\"post__headerText\">\n                  <div className=\"post__statusPostHeader\">\n                     <h3>{displayName} {verified && <VerifiedUserIcon className='post__badge'/>} </h3>                    \n                     <span className='post__headerSpecial'> \n                        {username && `@${username} `} \n                     </span> \n                  </div>\n\n                  <div className=\"post__headerExpandIcon\"  aria-describedby={id} variant=\"contained\" onClick={onClickExpand} >\n                     <ExpandMoreIcon />\n                  </div>\n                                          \n                  <Popover \n                     id={id}\n                     open={open}\n                     anchorEl={anchorEl}\n                     onClose={handleClose}\n                     anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right',\n                     }}\n                     transformOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right',\n                     }}\n                  >\n                     <ul className=\"post__expandList\">\n                     {\n                        senderId === user.id?\n                        <>\n                           <li onClick={deleteMyPost}>\n                              <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                           </li>\n                           <li>\n                              <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                           </li>\n                           <li>\n                              <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                           </li>\n                           <li>\n                              <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                           </li>\n                        </>\n                        :\n                        <>\n                           <li>\n                              <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                           </li>\n                           {\n                              isFollowing?\n                                 <li onClick={unfollowUser}>\n                                 <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                 </li>\n                              : <li onClick={followUser}>\n                                 <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                 </li>\n                           }\n                           <li>\n                              <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                           </li>\n                           <li>\n                              <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                           </li>\n                           <li>\n                              <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                           </li>\n                        </>\n                     }\n                     </ul>\n                  </Popover>\n               </div>\n            </div>\n\n         </div>\n      </div>\n\n      <div className='statusPost__body'>\n         <div className='statusPost__body--message'>{text}</div>\n            { image && <img src={image} alt={altText}/>}\n         <div className=\"statusPost__body--date\">{timestamp && util.timeDiff(date)}</div>\n      </div>\n\n      <div className=\"statusPost__footer\">\n         <div className=\"post__footer\">\n            <FooterIcon Icon={ChatBubbleOutlineIcon} value={comments.length} onClick={()=>setIsOpenModal(true)}/>\n            <FooterIcon Icon={RepeatIcon} value={0}/>\n            <Like likes={likes} \n                  likeAction= {()=>like(postId, user.id)}\n                  unlikeAction = {()=>unlike(postId, user.id)}\n            />\n            <FooterIcon Icon={PublishIcon} value={0}/>\n         </div>         \n      </div>\n\n      </div>\n   </>\n   )\n}\n\nexport default StatusPost","import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport Comments from '../Comments/Comments'\nimport StatusPost from '../StatusPost/StatusPost'\nimport db from '../../firebase'\nimport Loader from '../../elements/Loader/Loader'\n\nimport '../Feed/Feed.css'\nimport './Status.css'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nconst Status = () => {\n    const [comments, setComments] = useState([])\n    const [status, setStatus] = useState(null)\n    const [statusUsername, setStatusUsername] = useState('')\n    const loading= false\n    const history = useHistory()\n    const {postId} = useParams()\n\n    useEffect(() => {\n      let mounted = true\n      if(postId){\n      db.collection('posts').doc(postId)\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setStatus({...snapshot.data()})\n            }\n      })\n\n      db.collection('posts').doc(postId).collection('comments')\n         .orderBy('timestamp', 'desc')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setComments(snapshot.docs.map(comment=>({id:comment.id, ...comment.data()})))\n            }\n         })\n      }\n\n      return () => mounted = false\n\n    }, [postId])\n\n    useEffect(() => {\n      let mounted = true\n      if(status){\n         db.collection('users').doc(status.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n               setStatusUsername(snapshot.data().username)\n            }\n         })\n      }\n\n      return () => mounted = false\n\n    }, [status])\n\n    return (\n        <div className='feed'>\n           <div className=\"status__header\">\n              <div className=\"status__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <h2>Tweet</h2>          \n           </div>\n           \n           {status && <StatusPost status={status} comments={comments}/>} \n\n           { loading && <div className=\"feed__loader\"><Loader/></div> }\n\n           <Comments comments={comments} statusUsername={statusUsername} />\n\n        </div>\n    )\n}\n\nexport default Status\n","import React, {useState, forwardRef, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Avatar} from '@material-ui/core'\nimport {useParams} from 'react-router'\n\nimport Popover from '@material-ui/core/Popover'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\n\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\n\n\nimport '../Post/Post.css'\nimport db from '../../firebase'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport {unfollow, deleteThreadComment} from '../../server/serverActions'\n\nconst ThreadComment = forwardRef(({\n   commentAltText,\n   text,\n   image,\n   timestamp,\n   senderId,\n   threadCommentId,\n   likes,\n   statusUsername,\n   originalPostUsername\n   }, ref) => {\n\n   const {postId, commentId} = useParams()\n   const date = convertTimestampToLocaleString(timestamp)\n\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [{user}] = useStateValue()\n   const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: ''})\n   const {displayName, username, photoURL, verified} = profile\n\n   useEffect(() => {\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         setProfile(snapshot.data())\n      })\n   }, [])\n\n   const deleteMyThreadComment = (postId, commentId, threadCommentId) => {\n       deleteThreadComment(postId, commentId, threadCommentId)\n   }\n\n   return (\n      <>\n         <div className='post' ref={ref}>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <h3>{displayName} {' '}\n                        <span className='post__headerSpecial'> \n                            {verified && <VerifiedUserIcon className='post__badge'/>} \n                            @{`${username} . ${timestamp && util.timeDiff(date)}`}\n                        </span>\n                     </h3>\n                     <div className=\"post__headerExpandIcon\" aria-describedby={id} variant=\"contained\" onClick={onClickExpand } >\n                        <ExpandMoreIcon />\n                     </div>\n\n                     <Popover \n                        id={id}\n                        open={open}\n                        anchorEl={anchorEl}\n                        onClose={handleClose}\n\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deleteMyThreadComment(postId, commentId, threadCommentId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              <li onClick={()=>unfollow(user.id, senderId)}>\n                                 <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n\n                  {statusUsername && <div className=\"post__replyingTo\">\n                     Replying To \n                     <Link to={`/profile/${statusUsername}`}>{`@${statusUsername} `}</Link>\n                     <Link to={`/profile/${originalPostUsername}`}>{`@${originalPostUsername}`}</Link>\n                  </div>}\n\n                  <div className=\"post__headerDescription\">\n                     <p> {text} </p>\n                  </div>\n               </div>\n\n               { image.length>0 && <img src={image} alt={commentAltText} />}\n\n            </div>\n\n         </div>\n      </>\n   )\n  }\n)\n\nexport default ThreadComment\n","import React from 'react'\nimport FlipMove from 'react-flip-move'\nimport ThreadComment from '../ThreadComment/ThreadComment'\n\nconst ThreadComments = ({comments, statusUsername, originalPostUsername}) => {\n    return (\n        <FlipMove>\n        {\n            comments.map(comment => (\n                <ThreadComment key={comment.id}\n                        threadCommentId = {comment.id}\n                        commentAltText = {comment.commentAltText}\n                        senderId = {comment.senderId}\n                        username = {comment.username}\n                        text = {comment.text}\n                        avatar = {comment.avatar}\n                        image = {comment.image}\n                        timestamp = {comment.timestamp}\n                        likes = {comment.likes}\n                        statusUsername = {statusUsername}\n                        originalPostUsername = {originalPostUsername}\n            />\n            ))\n        }           \n        </FlipMove>\n    )\n}\n\nexport default ThreadComments\n","import React, {useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useParams} from 'react-router'\nimport {useHistory} from 'react-router-dom'\n\nimport Popover from '@material-ui/core/Popover'\nimport FooterIcon from '../Post/FooterIcon'\nimport Like from '../Post/Like'\nimport ReplyComment from '../ReplyComment/ReplyComment'\nimport Modal from '../../elements/Modal/Modal'\n\nimport {Avatar} from '@material-ui/core'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline'\nimport RepeatIcon from '@material-ui/icons/Repeat'\nimport PublishIcon from '@material-ui/icons/Publish'\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport CodeIcon from '@material-ui/icons/Code'\nimport PlaceIcon from '@material-ui/icons/Place'\nimport SentimentVeryDissatisfiedIcon from '@material-ui/icons/SentimentVeryDissatisfied'\nimport BlockIcon from '@material-ui/icons/Block'\nimport PostAddIcon from '@material-ui/icons/PostAdd'\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled'\nimport PersonAddIcon from '@material-ui/icons/PersonAdd'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport {likeComment, unlikeComment, follow, unfollow, deleteComment} from '../../server/serverActions'\nimport {useStateValue} from '../../contexts/StateContextProvider'\nimport util from '../../helpers/timeDifference'\nimport {convertTimestampToLocaleString} from '../../helpers/convertTimestampToLocaleString'\nimport db from '../../firebase'\n\nconst CommentPost = ({status, comments}) => {\n    const {postId, commentId} = useParams()\n    const [{user}] = useStateValue()\n    const [originalPost, setOriginalPost] = useState(null)\n    const [originalPostSender, setOriginalPostSender] = useState(null)\n    const [profile, setProfile] = useState({id:'',displayName:'', photoURL: '', verified: false, username: '', followers:[], following:[]})\n    const {displayName, username, photoURL, verified} = profile\n    const [ownProfile, setOwnProfile] = useState(null)\n    const {\n        commentAltText,\n        text,\n        image,\n        timestamp,\n        senderId,\n        likes\n    } = status\n\n   const date = convertTimestampToLocaleString(timestamp)\n   const history = useHistory()\n\n   const [isOpenModal, setIsOpenModal] = useState(false)\n   const [anchorEl, setAnchorEl] = useState(null)\n   const onClickExpand= (event) => setAnchorEl(event.currentTarget)\n   const handleClose = () => setAnchorEl(null)\n   const open = Boolean(anchorEl)\n   const id = open ? 'post-popover' : undefined\n\n   const [isFollowing, setIsFollowing] = useState(false)\n\n   useEffect(() => {\n      let mounted = true\n      db.collection('users').doc(user.id).onSnapshot(snapshot=>{\n         if(mounted){\n            setOwnProfile({id:user.id, ...snapshot.data()})\n         }\n      })\n\n      db.collection('users').doc(senderId).onSnapshot(snapshot=>{\n         if(mounted){\n            setProfile(snapshot.data())\n         }\n      })\n\n      db.collection('posts').doc(postId).onSnapshot(snapshot=>{\n         if(mounted){\n          setOriginalPost(snapshot.data())\n         }\n      })\n\n      return () => mounted = false\n\n   }, [])\n\n   useEffect(() => {\n      let mounted = true\n      if (originalPost){\n         db.collection('users').doc(originalPost.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n             setOriginalPostSender(snapshot.data())\n            }\n         })\n      }\n\n      return () => mounted = false\n\n   }, [originalPost])\n\n   useEffect(() => {\n      if(profile){\n         setIsFollowing(profile.followers.includes(user.id))\n      }\n   }, [profile])\n\n   const callbackForModal = () => {}\n\n   const deleteMyComment = (postId, commentId)=> {\n       deleteComment(postId, commentId)\n       history.push(`/status/${postId}`)\n    }\n\n    const unfollowUser = ()=> unfollow(user.id, senderId)\n\n    const followUser = ()=> follow(user.id, senderId)\n\n    const setIsOpenParentModal = state => setIsOpenModal(state)\n\n    return (\n      <>\n         <Modal  \n            open={isOpenModal} \n            onClose={()=>setIsOpenModal(false)}\n            title=\"\"\n            callback = {callbackForModal}\n            Icon = {CloseIcon}\n            ButtonText=''\n         >\n            <ReplyComment props={{\n                  threadAltText: commentAltText,\n                  text,\n                  image,\n                  timestamp,\n                  senderId,\n                  postId,\n                  likes,\n                  commentId\n               }}\n               profile = {profile}\n               ownProfile = {ownProfile}\n               originalPostSender = {originalPostSender}\n               setIsOpenParentModal={setIsOpenParentModal}\n            />\n         </Modal>\n\n        <div className='statusPost'>\n         <div className='post bottomWhited'>\n            <div className=\"post__avatar\">\n               <Avatar src={photoURL} />\n            </div>\n            <div className=\"post__body\">\n               <div className=\"post__header\">\n                  <div className=\"post__headerText\">\n                     <div className=\"post__statusPostHeader\">\n                        <h3>{displayName} {verified && <VerifiedUserIcon className='post__badge'/>} </h3>                    \n                        <span className='post__headerSpecial'> \n                            {username && `@${username} `} \n                        </span> \n                     </div>\n\n                     <div className=\"post__headerExpandIcon\"  aria-describedby={id} variant=\"contained\" onClick={onClickExpand} >\n                        <ExpandMoreIcon />\n                     </div>\n                                            \n                     <Popover \n                        id={id}\n                        open={open}\n                        anchorEl={anchorEl}\n                        onClose={handleClose}\n                        anchorOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                        transformOrigin={{\n                           vertical: 'top',\n                           horizontal: 'right',\n                        }}\n                     >\n                        <ul className=\"post__expandList\">\n                        {\n                           senderId === user.id?\n                           <>\n                              <li onClick={()=>deleteMyComment(postId, commentId)}>\n                                 <div className='delete'><DeleteOutlineIcon /></div><h3 className=\"delete\">Delete</h3>\n                              </li>\n                              <li>\n                                 <div><PlaceIcon /></div><h3>Pin to your profile</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                              <li>\n                                 <div><BarChartIcon /></div><h3>View Tweet activity</h3>\n                              </li>\n                           </>\n                           :\n                           <>\n                              <li>\n                                 <div><SentimentVeryDissatisfiedIcon /></div><h3>Not interested in this tweet</h3>\n                              </li>\n                              {\n                                 isFollowing?\n                                    <li onClick={unfollowUser}>\n                                       <div><PersonAddDisabledIcon /></div><h3>Unfollow {`@${username}`}</h3>\n                                    </li>\n                                 :  <li onClick={followUser}>\n                                       <div><PersonAddIcon /></div><h3>Follow {`@${username}`}</h3>\n                                    </li>\n                              }\n                              <li>\n                                 <div><PostAddIcon /></div><h3>Add/remove from Lists</h3>\n                              </li>\n                              <li>\n                                 <div><BlockIcon /></div><h3>Block {`@${username}`}</h3>\n                              </li>\n                              <li>\n                                 <div><CodeIcon /></div><h3>Embed Tweet</h3>\n                              </li>\n                           </>\n                        }\n                        </ul>\n                     </Popover>\n                  </div>\n               </div>\n\n            </div>\n         </div>\n\n         {originalPostSender && <div className=\"post__replyingTo addMoreLeftPadd\">\n           Replying To <Link to={`/profile/${username}`}>{`@${username}`}</Link>  <Link to={`/profile/${originalPostSender.username}`}>{`@${originalPostSender.username}`}</Link>\n         </div>}\n\n         <div className='statusPost__body'>\n           <div className='statusPost__body--message'>{text}</div>\n           { image && <img src={image} alt={commentAltText}/>}\n           <div className=\"statusPost__body--date\">{timestamp && util.timeDiff(date)}</div>\n         </div>\n\n         <div className=\"statusPost__footer\">\n            <div className=\"post__footer\">\n                <FooterIcon Icon={ChatBubbleOutlineIcon} value={comments.length} onClick={()=>setIsOpenModal(true)}/>\n                <FooterIcon Icon={RepeatIcon} value={0}/>\n                <Like likes={likes} \n                      likeAction= {()=>likeComment(postId, commentId, user.id)}\n                      unlikeAction = {()=>unlikeComment(postId, commentId,  user.id)}\n                />\n                <FooterIcon Icon={PublishIcon} value={0}/>\n            </div>         \n         </div>\n\n        </div>\n      </>\n    )\n}\n\nexport default CommentPost","import React, {useState, useEffect} from 'react'\nimport {useHistory, useParams} from 'react-router'\nimport ThreadComments from '../ThreadComments/ThreadComments'\nimport CommentPost from '../CommentPost/CommentPost'\nimport db from '../../firebase'\nimport Loader from '../../elements/Loader/Loader'\n\nimport '../Feed/Feed.css'\nimport '../Status/Status.css'\nimport ArrowBackOutlinedIcon from '@material-ui/icons/ArrowBackOutlined'\n\nconst Status = () => {\n    const [threadComments, setThreadComments] = useState([])\n    const [status, setStatus] = useState(null)\n    const [statusUsername, setStatusUsername] = useState('')\n    const [originalPost, setOriginalPost] = useState(null)\n    const [originalPostUsername, setOriginalPostUsername] = useState('')\n    const loading= false\n    const history = useHistory()\n    const {postId, commentId} = useParams()\n\n    useEffect(() => {\n      let mounted = true\n      if(postId){\n      db.collection('posts').doc(postId).onSnapshot(snapshot=>{\n         if(mounted){\n            setOriginalPost(snapshot.data())\n         }\n      })          \n\n      db.collection('posts').doc(postId).collection('comments').doc(commentId)\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setStatus({...snapshot.data()})\n            }\n      })\n\n      db.collection('posts').doc(postId).collection('comments').doc(commentId).collection('threadComments')\n         .orderBy('timestamp', 'desc')\n         .onSnapshot(snapshot=>{\n            if(mounted){\n               setThreadComments(snapshot.docs.map(comment=>({id:comment.id, ...comment.data()})))\n            }\n         })\n       }\n\n      return () => mounted = false\n    }, [postId])\n\n    useEffect(() => {\n      let mounted = true\n      if (originalPost){\n         db.collection('users').doc(originalPost.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n            setOriginalPostUsername(snapshot.data().username)\n            }\n         })\n      }\n\n      return () => mounted = false\n    }, [originalPost])\n\n    useEffect(() => {\n      let mounted = true\n      if(status){\n         db.collection('users').doc(status.senderId).onSnapshot(snapshot=>{\n            if(mounted){\n               setStatusUsername(snapshot.data().username)\n            }\n         })\n      }\n\n      return () => mounted = false\n    }, [status])\n\n    return (\n        <div className='feed'>\n           <div className=\"status__header\">\n              <div className=\"status__backArrow\" onClick={()=>history.goBack()}>\n                 <ArrowBackOutlinedIcon />\n              </div>\n              <h2>Thread</h2>          \n           </div>\n           \n           {status && <CommentPost status={status} comments={threadComments}/>} \n\n           { loading && <div className=\"feed__loader\"><Loader/></div> }\n\n           <ThreadComments comments={threadComments} statusUsername={statusUsername} originalPostUsername={originalPostUsername} />\n\n        </div>\n    )\n}\n\nexport default Status\n\n","import React, {useState} from 'react'\n// import {useParams} from 'react-router'\nimport WidgetsTrends from '../WidgetsTrends/WidgetsTrends'\n// import WidgetsFollow from '../WidgetsFollow/WidgetsFollow'\nimport SearchWidget from '../../elements/SearchWidget/SearchWidget'\n\n// import db from '../../firebase'\nimport '../Widgets/Widgets.css'\n\nconst StatusWidget = () => {\n//    const {username} = useParams()\n//    const [posts, setPosts] = useState([])\n   const [text, setText] = useState('')\n\n    return (\n        <div className='widgets'>\n\n           <SearchWidget \n               value={text} \n               onChange = {(e)=>setText(e.target.value)}\n               onClick={()=>setText('')}           \n               placeholder='Search Twittie' \n            />\n\n            <WidgetsTrends />\n            \n        </div>\n    )\n}\n\nexport default StatusWidget","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport HomeIcon from '@material-ui/icons/Home'\nimport PanoramaFishEyeIcon from '@material-ui/icons/PanoramaFishEye'\nimport NotificationsNoneIcon from '@material-ui/icons/NotificationsNone'\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\n\nimport './BottomNav.css'\n\nconst BottomNav = () => {\n  return (\n    <div className=\"bottomNav\">\n       <nav>\n          <NavLink exact to='/' activeClassName='bottomNav__active'><HomeIcon /></NavLink>\n          <NavLink to='/search' activeClassName='bottomNav__active'><PanoramaFishEyeIcon /></NavLink>\n          <NavLink to='/notifications' activeClassName='bottomNav__active'><NotificationsNoneIcon /></NavLink>\n          <NavLink to='/messages' activeClassName='bottomNav__active'><MailOutlineIcon /></NavLink>\n       </nav>\n    </div>\n  )\n}\n\nexport default BottomNav\n","import React, {useEffect} from 'react'\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\nimport Sidebar from './components/Sidebar/Sidebar'\nimport Feed from './components/Feed/Feed'\nimport Widgets from './components/Widgets/Widgets'\nimport SidebarChat from './components/SidebarChat/SidebarChat'\nimport Chat from './components/Chat/Chat'\nimport ConversationInfo from './components/ConversationInfo/ConversationInfo'\nimport Login from './components/Login/Login'\nimport Profile from './components/Profile/Profile'\nimport ProfileWidgets from './components/ProfileWidgets/ProfileWidgets'\nimport ProfileFollow  from './components/ProfileFollow/ProfileFollow'\nimport Status from './components/Status/Status'\nimport CommentThread from './components/CommentThread/CommentThread'\nimport StatusWidget from './components/StatusWidget/StatusWidget'\n\nimport BottomNav from './elements/BottomNav/BottomNav'\n\nimport './App.css'\n\nimport ChatContextProvider from './contexts/ChatContextProvider'\nimport {useStateValue} from './contexts/StateContextProvider'\nimport {actionTypes} from './contexts/StateReducers'\n\nconst App = () => {\n  const [{user}, dispatch] = useStateValue()\n\n  useEffect(() => {\n      dispatch({\n        type: actionTypes.SET_USER,\n        user: JSON.parse(localStorage.getItem('twittie_user'))\n      })    \n  }, [])\n\n  return (\n    <div className=\"app\">\n    {\n      user?\n      <Router>  \n        <div className=\"app__mainContent\">\n          <Sidebar />\n          <Switch>\n            <Route exact path='/'>\n                <div className=\"app__main\">\n                  <Feed />\n                  <Widgets />\n                </div>         \n            </Route>\n\n            <Route path='/messages'>\n              <ChatContextProvider>\n                <div className=\"app__main\">\n                  <SidebarChat />\n                  <Switch>\n                    <Route path='/messages/:roomId' exact>\n                      <Chat />\n                    </Route>\n                    <Route path='/messages/:roomId/info'>\n                      <ConversationInfo />\n                    </Route>\n                  </Switch>\n                </div>            \n              </ChatContextProvider>           \n            </Route>       \n\n            <Route path='/profile/:username' >\n                <div className=\"app__main\">\n                  <Switch>\n                    <Route path='/profile/:username' exact component={Profile} />\n                    <Route path='/profile/:username/followinfo' render={()=> <ProfileFollow />} />\n                  </Switch>\n                  <ProfileWidgets />\n                </div>         \n            </Route>\n\n            <Route path='/status/:postId'>\n                <div className=\"app__main\">\n                  <Switch>\n                    <Route path='/status/:postId' exact>\n                        <Status />\n                    </Route> \n                    <Route path='/status/:postId/:commentId'>\n                        <CommentThread />\n                    </Route>\n                  </Switch>\n                  <StatusWidget />\n                </div> \n            </Route>\n\n          </Switch>\n        </div>\n        <BottomNav />\n      </Router>\n      :\n      <Login />\n    }\n    </div>   \n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport StateContextProvider from './contexts/StateContextProvider'\nimport IsRoomOpenedContextProvider from './contexts/IsRoomOpenedContextProvider'\n\nReactDOM.render(\n    <StateContextProvider>\n        <IsRoomOpenedContextProvider>\n            <App/>\n        </IsRoomOpenedContextProvider>\n    </StateContextProvider>, \ndocument.querySelector('#root'))"],"sourceRoot":""}